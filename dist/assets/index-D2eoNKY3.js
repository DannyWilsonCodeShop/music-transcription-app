(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Hb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DE={exports:{}},nb={},AE={exports:{}},Ip={exports:{}};Ip.exports;(function(e,t){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.3.1",i=Symbol.for("react.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),E=Symbol.iterator,_="@@iterator";function T(A){if(A===null||typeof A!="object")return null;var z=E&&A[E]||A[_];return typeof z=="function"?z:null}var O={current:null},N={transition:null},D={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},R={current:null},P={},U=null;function F(A){U=A}P.setExtraStackFrame=function(A){U=A},P.getCurrentStack=null,P.getStackAddendum=function(){var A="";U&&(A+=U);var z=P.getCurrentStack;return z&&(A+=z()||""),A};var H=!1,Y=!1,$=!1,G=!1,ce=!1,Se={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:N,ReactCurrentOwner:R};Se.ReactDebugCurrentFrame=P,Se.ReactCurrentActQueue=D;function ee(A){{for(var z=arguments.length,ie=new Array(z>1?z-1:0),le=1;le<z;le++)ie[le-1]=arguments[le];j("warn",A,ie)}}function I(A){{for(var z=arguments.length,ie=new Array(z>1?z-1:0),le=1;le<z;le++)ie[le-1]=arguments[le];j("error",A,ie)}}function j(A,z,ie){{var le=Se.ReactDebugCurrentFrame,Ce=le.getStackAddendum();Ce!==""&&(z+="%s",ie=ie.concat([Ce]));var Je=ie.map(function(je){return String(je)});Je.unshift("Warning: "+z),Function.prototype.apply.call(console[A],console,Je)}}var X={};function K(A,z){{var ie=A.constructor,le=ie&&(ie.displayName||ie.name)||"ReactClass",Ce=le+"."+z;if(X[Ce])return;I("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",z,le),X[Ce]=!0}}var ge={isMounted:function(A){return!1},enqueueForceUpdate:function(A,z,ie){K(A,"forceUpdate")},enqueueReplaceState:function(A,z,ie,le){K(A,"replaceState")},enqueueSetState:function(A,z,ie,le){K(A,"setState")}},Te=Object.assign,Me={};Object.freeze(Me);function lt(A,z,ie){this.props=A,this.context=z,this.refs=Me,this.updater=ie||ge}lt.prototype.isReactComponent={},lt.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},lt.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};{var bt={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},jt=function(A,z){Object.defineProperty(lt.prototype,A,{get:function(){ee("%s(...) is deprecated in plain JavaScript React classes. %s",z[0],z[1])}})};for(var mt in bt)bt.hasOwnProperty(mt)&&jt(mt,bt[mt])}function Nt(){}Nt.prototype=lt.prototype;function Ee(A,z,ie){this.props=A,this.context=z,this.refs=Me,this.updater=ie||ge}var Ze=Ee.prototype=new Nt;Ze.constructor=Ee,Te(Ze,lt.prototype),Ze.isPureReactComponent=!0;function ze(){var A={current:null};return Object.seal(A),A}var He=Array.isArray;function pt(A){return He(A)}function ft(A){{var z=typeof Symbol=="function"&&Symbol.toStringTag,ie=z&&A[Symbol.toStringTag]||A.constructor.name||"Object";return ie}}function Dt(A){try{return It(A),!1}catch{return!0}}function It(A){return""+A}function Yt(A){if(Dt(A))return I("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ft(A)),It(A)}function $n(A,z,ie){var le=A.displayName;if(le)return le;var Ce=z.displayName||z.name||"";return Ce!==""?ie+"("+Ce+")":ie}function Q(A){return A.displayName||"Context"}function oe(A){if(A==null)return null;if(typeof A.tag=="number"&&I("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case o:return"Fragment";case s:return"Portal";case u:return"Profiler";case c:return"StrictMode";case p:return"Suspense";case g:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case h:var z=A;return Q(z)+".Consumer";case d:var ie=A;return Q(ie._context)+".Provider";case m:return $n(A,A.render,"ForwardRef");case y:var le=A.displayName||null;return le!==null?le:oe(A.type)||"Memo";case S:{var Ce=A,Je=Ce._payload,je=Ce._init;try{return oe(je(Je))}catch{return null}}}return null}var Z=Object.prototype.hasOwnProperty,ae={key:!0,ref:!0,__self:!0,__source:!0},ve,_e,Pe;Pe={};function Ge(A){if(Z.call(A,"ref")){var z=Object.getOwnPropertyDescriptor(A,"ref").get;if(z&&z.isReactWarning)return!1}return A.ref!==void 0}function Ie(A){if(Z.call(A,"key")){var z=Object.getOwnPropertyDescriptor(A,"key").get;if(z&&z.isReactWarning)return!1}return A.key!==void 0}function Ue(A,z){var ie=function(){ve||(ve=!0,I("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",z))};ie.isReactWarning=!0,Object.defineProperty(A,"key",{get:ie,configurable:!0})}function St(A,z){var ie=function(){_e||(_e=!0,I("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",z))};ie.isReactWarning=!0,Object.defineProperty(A,"ref",{get:ie,configurable:!0})}function be(A){if(typeof A.ref=="string"&&R.current&&A.__self&&R.current.stateNode!==A.__self){var z=oe(R.current.type);Pe[z]||(I('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',z,A.ref),Pe[z]=!0)}}var pe=function(A,z,ie,le,Ce,Je,je){var it={$$typeof:i,type:A,key:z,ref:ie,props:je,_owner:Je};return it._store={},Object.defineProperty(it._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(it,"_self",{configurable:!1,enumerable:!1,writable:!1,value:le}),Object.defineProperty(it,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ce}),Object.freeze&&(Object.freeze(it.props),Object.freeze(it)),it};function Be(A,z,ie){var le,Ce={},Je=null,je=null,it=null,xt=null;if(z!=null){Ge(z)&&(je=z.ref,be(z)),Ie(z)&&(Yt(z.key),Je=""+z.key),it=z.__self===void 0?null:z.__self,xt=z.__source===void 0?null:z.__source;for(le in z)Z.call(z,le)&&!ae.hasOwnProperty(le)&&(Ce[le]=z[le])}var Vt=arguments.length-2;if(Vt===1)Ce.children=ie;else if(Vt>1){for(var Wt=Array(Vt),Xt=0;Xt<Vt;Xt++)Wt[Xt]=arguments[Xt+2];Object.freeze&&Object.freeze(Wt),Ce.children=Wt}if(A&&A.defaultProps){var gt=A.defaultProps;for(le in gt)Ce[le]===void 0&&(Ce[le]=gt[le])}if(Je||je){var an=typeof A=="function"?A.displayName||A.name||"Unknown":A;Je&&Ue(Ce,an),je&&St(Ce,an)}return pe(A,Je,je,it,xt,R.current,Ce)}function Xe(A,z){var ie=pe(A.type,z,A.ref,A._self,A._source,A._owner,A.props);return ie}function Qe(A,z,ie){if(A==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var le,Ce=Te({},A.props),Je=A.key,je=A.ref,it=A._self,xt=A._source,Vt=A._owner;if(z!=null){Ge(z)&&(je=z.ref,Vt=R.current),Ie(z)&&(Yt(z.key),Je=""+z.key);var Wt;A.type&&A.type.defaultProps&&(Wt=A.type.defaultProps);for(le in z)Z.call(z,le)&&!ae.hasOwnProperty(le)&&(z[le]===void 0&&Wt!==void 0?Ce[le]=Wt[le]:Ce[le]=z[le])}var Xt=arguments.length-2;if(Xt===1)Ce.children=ie;else if(Xt>1){for(var gt=Array(Xt),an=0;an<Xt;an++)gt[an]=arguments[an+2];Ce.children=gt}return pe(A.type,Je,je,it,xt,Vt,Ce)}function _t(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}var zt=".",Ot=":";function kt(A){var z=/[=:]/g,ie={"=":"=0",":":"=2"},le=A.replace(z,function(Ce){return ie[Ce]});return"$"+le}var At=!1,Bt=/\/+/g;function Tn(A){return A.replace(Bt,"$&/")}function kr(A,z){return typeof A=="object"&&A!==null&&A.key!=null?(Yt(A.key),kt(""+A.key)):z.toString(36)}function Pn(A,z,ie,le,Ce){var Je=typeof A;(Je==="undefined"||Je==="boolean")&&(A=null);var je=!1;if(A===null)je=!0;else switch(Je){case"string":case"number":je=!0;break;case"object":switch(A.$$typeof){case i:case s:je=!0}}if(je){var it=A,xt=Ce(it),Vt=le===""?zt+kr(it,0):le;if(pt(xt)){var Wt="";Vt!=null&&(Wt=Tn(Vt)+"/"),Pn(xt,z,Wt,"",function(Cv){return Cv})}else xt!=null&&(_t(xt)&&(xt.key&&(!it||it.key!==xt.key)&&Yt(xt.key),xt=Xe(xt,ie+(xt.key&&(!it||it.key!==xt.key)?Tn(""+xt.key)+"/":"")+Vt)),z.push(xt));return 1}var Xt,gt,an=0,yn=le===""?zt:le+Ot;if(pt(A))for(var po=0;po<A.length;po++)Xt=A[po],gt=yn+kr(Xt,po),an+=Pn(Xt,z,ie,gt,Ce);else{var ou=T(A);if(typeof ou=="function"){var Ri=A;ou===Ri.entries&&(At||ee("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),At=!0);for(var cu=ou.call(Ri),lu,Ev=0;!(lu=cu.next()).done;)Xt=lu.value,gt=yn+kr(Xt,Ev++),an+=Pn(Xt,z,ie,gt,Ce)}else if(Je==="object"){var Yf=String(A);throw new Error("Objects are not valid as a React child (found: "+(Yf==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Yf)+"). If you meant to render a collection of children, use an array instead.")}}return an}function Ta(A,z,ie){if(A==null)return A;var le=[],Ce=0;return Pn(A,le,"","",function(Je){return z.call(ie,Je,Ce++)}),le}function fs(A){var z=0;return Ta(A,function(){z++}),z}function ei(A,z,ie){Ta(A,function(){z.apply(this,arguments)},ie)}function ds(A){return Ta(A,function(z){return z})||[]}function mr(A){if(!_t(A))throw new Error("React.Children.only expected to receive a single React element child.");return A}function ao(A){var z={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};z.Provider={$$typeof:d,_context:z};var ie=!1,le=!1,Ce=!1;{var Je={$$typeof:h,_context:z};Object.defineProperties(Je,{Provider:{get:function(){return le||(le=!0,I("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),z.Provider},set:function(je){z.Provider=je}},_currentValue:{get:function(){return z._currentValue},set:function(je){z._currentValue=je}},_currentValue2:{get:function(){return z._currentValue2},set:function(je){z._currentValue2=je}},_threadCount:{get:function(){return z._threadCount},set:function(je){z._threadCount=je}},Consumer:{get:function(){return ie||(ie=!0,I("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),z.Consumer}},displayName:{get:function(){return z.displayName},set:function(je){Ce||(ee("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",je),Ce=!0)}}}),z.Consumer=Je}return z._currentRenderer=null,z._currentRenderer2=null,z}var Na=-1,sa=0,Vr=1,ti=2;function io(A){if(A._status===Na){var z=A._result,ie=z();if(ie.then(function(Je){if(A._status===sa||A._status===Na){var je=A;je._status=Vr,je._result=Je}},function(Je){if(A._status===sa||A._status===Na){var je=A;je._status=ti,je._result=Je}}),A._status===Na){var le=A;le._status=sa,le._result=ie}}if(A._status===Vr){var Ce=A._result;return Ce===void 0&&I(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Ce),"default"in Ce||I(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Ce),Ce.default}else throw A._result}function V(A){var z={_status:Na,_result:A},ie={$$typeof:S,_payload:z,_init:io};{var le,Ce;Object.defineProperties(ie,{defaultProps:{configurable:!0,get:function(){return le},set:function(Je){I("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),le=Je,Object.defineProperty(ie,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Ce},set:function(Je){I("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ce=Je,Object.defineProperty(ie,"propTypes",{enumerable:!0})}}})}return ie}function we(A){A!=null&&A.$$typeof===y?I("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof A!="function"?I("forwardRef requires a render function but was given %s.",A===null?"null":typeof A):A.length!==0&&A.length!==2&&I("forwardRef render functions accept exactly two parameters: props and ref. %s",A.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),A!=null&&(A.defaultProps!=null||A.propTypes!=null)&&I("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var z={$$typeof:m,render:A};{var ie;Object.defineProperty(z,"displayName",{enumerable:!1,configurable:!0,get:function(){return ie},set:function(le){ie=le,!A.name&&!A.displayName&&(A.displayName=le)}})}return z}var ke;ke=Symbol.for("react.module.reference");function Ke(A){return!!(typeof A=="string"||typeof A=="function"||A===o||A===u||ce||A===c||A===p||A===g||G||A===x||H||Y||$||typeof A=="object"&&A!==null&&(A.$$typeof===S||A.$$typeof===y||A.$$typeof===d||A.$$typeof===h||A.$$typeof===m||A.$$typeof===ke||A.getModuleId!==void 0))}function wt(A,z){Ke(A)||I("memo: The first argument must be a component. Instead received: %s",A===null?"null":typeof A);var ie={$$typeof:y,type:A,compare:z===void 0?null:z};{var le;Object.defineProperty(ie,"displayName",{enumerable:!1,configurable:!0,get:function(){return le},set:function(Ce){le=Ce,!A.name&&!A.displayName&&(A.displayName=Ce)}})}return ie}function nt(){var A=O.current;return A===null&&I(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),A}function dt(A){var z=nt();if(A._context!==void 0){var ie=A._context;ie.Consumer===A?I("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):ie.Provider===A&&I("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return z.useContext(A)}function qe(A){var z=nt();return z.useState(A)}function Nn(A,z,ie){var le=nt();return le.useReducer(A,z,ie)}function en(A){var z=nt();return z.useRef(A)}function tn(A,z){var ie=nt();return ie.useEffect(A,z)}function ar(A,z){var ie=nt();return ie.useInsertionEffect(A,z)}function ni(A,z){var ie=nt();return ie.useLayoutEffect(A,z)}function _a(A,z){var ie=nt();return ie.useCallback(A,z)}function _n(A,z){var ie=nt();return ie.useMemo(A,z)}function so(A,z,ie){var le=nt();return le.useImperativeHandle(A,z,ie)}function ka(A,z){{var ie=nt();return ie.useDebugValue(A,z)}}function vt(){var A=nt();return A.useTransition()}function oo(A){var z=nt();return z.useDeferredValue(A)}function Uf(){var A=nt();return A.useId()}function Pf(A,z,ie){var le=nt();return le.useSyncExternalStore(A,z,ie)}var hs=0,Yl,ql,Wl,Xl,Ql,Bf,Ff;function uc(){}uc.__reactDisabledLog=!0;function Jl(){{if(hs===0){Yl=console.log,ql=console.info,Wl=console.warn,Xl=console.error,Ql=console.group,Bf=console.groupCollapsed,Ff=console.groupEnd;var A={configurable:!0,enumerable:!0,value:uc,writable:!0};Object.defineProperties(console,{info:A,log:A,warn:A,error:A,group:A,groupCollapsed:A,groupEnd:A})}hs++}}function ri(){{if(hs--,hs===0){var A={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Te({},A,{value:Yl}),info:Te({},A,{value:ql}),warn:Te({},A,{value:Wl}),error:Te({},A,{value:Xl}),group:Te({},A,{value:Ql}),groupCollapsed:Te({},A,{value:Bf}),groupEnd:Te({},A,{value:Ff})})}hs<0&&I("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var co=Se.ReactCurrentDispatcher,ps;function fc(A,z,ie){{if(ps===void 0)try{throw Error()}catch(Ce){var le=Ce.stack.trim().match(/\n( *(at )?)/);ps=le&&le[1]||""}return`
`+ps+A}}var lo=!1,dc;{var Zl=typeof WeakMap=="function"?WeakMap:Map;dc=new Zl}function jf(A,z){if(!A||lo)return"";{var ie=dc.get(A);if(ie!==void 0)return ie}var le;lo=!0;var Ce=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Je;Je=co.current,co.current=null,Jl();try{if(z){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(yn){le=yn}Reflect.construct(A,[],je)}else{try{je.call()}catch(yn){le=yn}A.call(je.prototype)}}else{try{throw Error()}catch(yn){le=yn}A()}}catch(yn){if(yn&&le&&typeof yn.stack=="string"){for(var it=yn.stack.split(`
`),xt=le.stack.split(`
`),Vt=it.length-1,Wt=xt.length-1;Vt>=1&&Wt>=0&&it[Vt]!==xt[Wt];)Wt--;for(;Vt>=1&&Wt>=0;Vt--,Wt--)if(it[Vt]!==xt[Wt]){if(Vt!==1||Wt!==1)do if(Vt--,Wt--,Wt<0||it[Vt]!==xt[Wt]){var Xt=`
`+it[Vt].replace(" at new "," at ");return A.displayName&&Xt.includes("<anonymous>")&&(Xt=Xt.replace("<anonymous>",A.displayName)),typeof A=="function"&&dc.set(A,Xt),Xt}while(Vt>=1&&Wt>=0);break}}}finally{lo=!1,co.current=Je,ri(),Error.prepareStackTrace=Ce}var gt=A?A.displayName||A.name:"",an=gt?fc(gt):"";return typeof A=="function"&&dc.set(A,an),an}function eu(A,z,ie){return jf(A,!1)}function yv(A){var z=A.prototype;return!!(z&&z.isReactComponent)}function uo(A,z,ie){if(A==null)return"";if(typeof A=="function")return jf(A,yv(A));if(typeof A=="string")return fc(A);switch(A){case p:return fc("Suspense");case g:return fc("SuspenseList")}if(typeof A=="object")switch(A.$$typeof){case m:return eu(A.render);case y:return uo(A.type,z,ie);case S:{var le=A,Ce=le._payload,Je=le._init;try{return uo(Je(Ce),z,ie)}catch{}}}return""}var zf={},tu=Se.ReactDebugCurrentFrame;function Lt(A){if(A){var z=A._owner,ie=uo(A.type,A._source,z?z.type:null);tu.setExtraStackFrame(ie)}else tu.setExtraStackFrame(null)}function bv(A,z,ie,le,Ce){{var Je=Function.call.bind(Z);for(var je in A)if(Je(A,je)){var it=void 0;try{if(typeof A[je]!="function"){var xt=Error((le||"React class")+": "+ie+" type `"+je+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof A[je]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw xt.name="Invariant Violation",xt}it=A[je](z,je,le,ie,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Vt){it=Vt}it&&!(it instanceof Error)&&(Lt(Ce),I("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",le||"React class",ie,je,typeof it),Lt(null)),it instanceof Error&&!(it.message in zf)&&(zf[it.message]=!0,Lt(Ce),I("Failed %s type: %s",ie,it.message),Lt(null))}}}function Ai(A){if(A){var z=A._owner,ie=uo(A.type,A._source,z?z.type:null);F(ie)}else F(null)}var ct;ct=!1;function nu(){if(R.current){var A=oe(R.current.type);if(A)return`

Check the render method of \``+A+"`."}return""}function gr(A){if(A!==void 0){var z=A.fileName.replace(/^.*[\\\/]/,""),ie=A.lineNumber;return`

Check your code at `+z+":"+ie+"."}return""}function fo(A){return A!=null?gr(A.__source):""}var vs={};function Sv(A){var z=nu();if(!z){var ie=typeof A=="string"?A:A.displayName||A.name;ie&&(z=`

Check the top-level render call using <`+ie+">.")}return z}function Bn(A,z){if(!(!A._store||A._store.validated||A.key!=null)){A._store.validated=!0;var ie=Sv(z);if(!vs[ie]){vs[ie]=!0;var le="";A&&A._owner&&A._owner!==R.current&&(le=" It was passed a child from "+oe(A._owner.type)+"."),Ai(A),I('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ie,le),Ai(null)}}}function rn(A,z){if(typeof A=="object"){if(pt(A))for(var ie=0;ie<A.length;ie++){var le=A[ie];_t(le)&&Bn(le,z)}else if(_t(A))A._store&&(A._store.validated=!0);else if(A){var Ce=T(A);if(typeof Ce=="function"&&Ce!==A.entries)for(var Je=Ce.call(A),je;!(je=Je.next()).done;)_t(je.value)&&Bn(je.value,z)}}}function Vf(A){{var z=A.type;if(z==null||typeof z=="string")return;var ie;if(typeof z=="function")ie=z.propTypes;else if(typeof z=="object"&&(z.$$typeof===m||z.$$typeof===y))ie=z.propTypes;else return;if(ie){var le=oe(z);bv(ie,A.props,"prop",le,A)}else if(z.PropTypes!==void 0&&!ct){ct=!0;var Ce=oe(z);I("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ce||"Unknown")}typeof z.getDefaultProps=="function"&&!z.getDefaultProps.isReactClassApproved&&I("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function oa(A){{for(var z=Object.keys(A.props),ie=0;ie<z.length;ie++){var le=z[ie];if(le!=="children"&&le!=="key"){Ai(A),I("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",le),Ai(null);break}}A.ref!==null&&(Ai(A),I("Invalid attribute `ref` supplied to `React.Fragment`."),Ai(null))}}function yr(A,z,ie){var le=Ke(A);if(!le){var Ce="";(A===void 0||typeof A=="object"&&A!==null&&Object.keys(A).length===0)&&(Ce+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Je=fo(z);Je?Ce+=Je:Ce+=nu();var je;A===null?je="null":pt(A)?je="array":A!==void 0&&A.$$typeof===i?(je="<"+(oe(A.type)||"Unknown")+" />",Ce=" Did you accidentally export a JSX literal instead of a component?"):je=typeof A,I("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",je,Ce)}var it=Be.apply(this,arguments);if(it==null)return it;if(le)for(var xt=2;xt<arguments.length;xt++)rn(arguments[xt],A);return A===o?oa(it):Vf(it),it}var Da=!1;function wv(A){var z=yr.bind(null,A);return z.type=A,Da||(Da=!0,ee("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(z,"type",{enumerable:!1,get:function(){return ee("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:A}),A}}),z}function ru(A,z,ie){for(var le=Qe.apply(this,arguments),Ce=2;Ce<arguments.length;Ce++)rn(arguments[Ce],le.type);return Vf(le),le}function Hf(A,z){var ie=N.transition;N.transition={};var le=N.transition;N.transition._updatedFibers=new Set;try{A()}finally{if(N.transition=ie,ie===null&&le._updatedFibers){var Ce=le._updatedFibers.size;Ce>10&&ee("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),le._updatedFibers.clear()}}}var au=!1,hc=null;function xv(A){if(hc===null)try{var z=("require"+Math.random()).slice(0,7),ie=e&&e[z];hc=ie.call(e,"timers").setImmediate}catch{hc=function(Ce){au===!1&&(au=!0,typeof MessageChannel>"u"&&I("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Je=new MessageChannel;Je.port1.onmessage=Ce,Je.port2.postMessage(void 0)}}return hc(A)}var ms=0,ho=!1;function iu(A){{var z=ms;ms++,D.current===null&&(D.current=[]);var ie=D.isBatchingLegacy,le;try{if(D.isBatchingLegacy=!0,le=A(),!ie&&D.didScheduleLegacyUpdate){var Ce=D.current;Ce!==null&&(D.didScheduleLegacyUpdate=!1,mc(Ce))}}catch(gt){throw Oi(z),gt}finally{D.isBatchingLegacy=ie}if(le!==null&&typeof le=="object"&&typeof le.then=="function"){var Je=le,je=!1,it={then:function(gt,an){je=!0,Je.then(function(yn){Oi(z),ms===0?pc(yn,gt,an):gt(yn)},function(yn){Oi(z),an(yn)})}};return!ho&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){je||(ho=!0,I("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),it}else{var xt=le;if(Oi(z),ms===0){var Vt=D.current;Vt!==null&&(mc(Vt),D.current=null);var Wt={then:function(gt,an){D.current===null?(D.current=[],pc(xt,gt,an)):gt(xt)}};return Wt}else{var Xt={then:function(gt,an){gt(xt)}};return Xt}}}}function Oi(A){A!==ms-1&&I("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),ms=A}function pc(A,z,ie){{var le=D.current;if(le!==null)try{mc(le),xv(function(){le.length===0?(D.current=null,z(A)):pc(A,z,ie)})}catch(Ce){ie(Ce)}else z(A)}}var vc=!1;function mc(A){if(!vc){vc=!0;var z=0;try{for(;z<A.length;z++){var ie=A[z];do ie=ie(!0);while(ie!==null)}A.length=0}catch(le){throw A=A.slice(z+1),le}finally{vc=!1}}}var $f=yr,Gf=ru,su=wv,Kf={map:Ta,forEach:ei,count:fs,toArray:ds,only:mr};t.Children=Kf,t.Component=lt,t.Fragment=o,t.Profiler=u,t.PureComponent=Ee,t.StrictMode=c,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,t.act=iu,t.cloneElement=Gf,t.createContext=ao,t.createElement=$f,t.createFactory=su,t.createRef=ze,t.forwardRef=we,t.isValidElement=_t,t.lazy=V,t.memo=wt,t.startTransition=Hf,t.unstable_act=iu,t.useCallback=_a,t.useContext=dt,t.useDebugValue=ka,t.useDeferredValue=oo,t.useEffect=tn,t.useId=Uf,t.useImperativeHandle=so,t.useInsertionEffect=ar,t.useLayoutEffect=ni,t.useMemo=_n,t.useReducer=Nn,t.useRef=en,t.useState=qe,t.useSyncExternalStore=Pf,t.useTransition=vt,t.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(Ip,Ip.exports);var dM=Ip.exports;AE.exports=dM;var Kt=AE.exports;const hM=Hb(Kt);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=Kt,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),S=Symbol.iterator,x="@@iterator";function E(V){if(V===null||typeof V!="object")return null;var we=S&&V[S]||V[x];return typeof we=="function"?we:null}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function T(V){{for(var we=arguments.length,ke=new Array(we>1?we-1:0),Ke=1;Ke<we;Ke++)ke[Ke-1]=arguments[Ke];O("error",V,ke)}}function O(V,we,ke){{var Ke=_.ReactDebugCurrentFrame,wt=Ke.getStackAddendum();wt!==""&&(we+="%s",ke=ke.concat([wt]));var nt=ke.map(function(dt){return String(dt)});nt.unshift("Warning: "+we),Function.prototype.apply.call(console[V],console,nt)}}var N=!1,D=!1,R=!1,P=!1,U=!1,F;F=Symbol.for("react.module.reference");function H(V){return!!(typeof V=="string"||typeof V=="function"||V===i||V===o||U||V===s||V===h||V===m||P||V===y||N||D||R||typeof V=="object"&&V!==null&&(V.$$typeof===g||V.$$typeof===p||V.$$typeof===c||V.$$typeof===u||V.$$typeof===d||V.$$typeof===F||V.getModuleId!==void 0))}function Y(V,we,ke){var Ke=V.displayName;if(Ke)return Ke;var wt=we.displayName||we.name||"";return wt!==""?ke+"("+wt+")":ke}function $(V){return V.displayName||"Context"}function G(V){if(V==null)return null;if(typeof V.tag=="number"&&T("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof V=="function")return V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case i:return"Fragment";case n:return"Portal";case o:return"Profiler";case s:return"StrictMode";case h:return"Suspense";case m:return"SuspenseList"}if(typeof V=="object")switch(V.$$typeof){case u:var we=V;return $(we)+".Consumer";case c:var ke=V;return $(ke._context)+".Provider";case d:return Y(V,V.render,"ForwardRef");case p:var Ke=V.displayName||null;return Ke!==null?Ke:G(V.type)||"Memo";case g:{var wt=V,nt=wt._payload,dt=wt._init;try{return G(dt(nt))}catch{return null}}}return null}var ce=Object.assign,Se=0,ee,I,j,X,K,ge,Te;function Me(){}Me.__reactDisabledLog=!0;function lt(){{if(Se===0){ee=console.log,I=console.info,j=console.warn,X=console.error,K=console.group,ge=console.groupCollapsed,Te=console.groupEnd;var V={configurable:!0,enumerable:!0,value:Me,writable:!0};Object.defineProperties(console,{info:V,log:V,warn:V,error:V,group:V,groupCollapsed:V,groupEnd:V})}Se++}}function bt(){{if(Se--,Se===0){var V={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ce({},V,{value:ee}),info:ce({},V,{value:I}),warn:ce({},V,{value:j}),error:ce({},V,{value:X}),group:ce({},V,{value:K}),groupCollapsed:ce({},V,{value:ge}),groupEnd:ce({},V,{value:Te})})}Se<0&&T("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var jt=_.ReactCurrentDispatcher,mt;function Nt(V,we,ke){{if(mt===void 0)try{throw Error()}catch(wt){var Ke=wt.stack.trim().match(/\n( *(at )?)/);mt=Ke&&Ke[1]||""}return`
`+mt+V}}var Ee=!1,Ze;{var ze=typeof WeakMap=="function"?WeakMap:Map;Ze=new ze}function He(V,we){if(!V||Ee)return"";{var ke=Ze.get(V);if(ke!==void 0)return ke}var Ke;Ee=!0;var wt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var nt;nt=jt.current,jt.current=null,lt();try{if(we){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(_n){Ke=_n}Reflect.construct(V,[],dt)}else{try{dt.call()}catch(_n){Ke=_n}V.call(dt.prototype)}}else{try{throw Error()}catch(_n){Ke=_n}V()}}catch(_n){if(_n&&Ke&&typeof _n.stack=="string"){for(var qe=_n.stack.split(`
`),Nn=Ke.stack.split(`
`),en=qe.length-1,tn=Nn.length-1;en>=1&&tn>=0&&qe[en]!==Nn[tn];)tn--;for(;en>=1&&tn>=0;en--,tn--)if(qe[en]!==Nn[tn]){if(en!==1||tn!==1)do if(en--,tn--,tn<0||qe[en]!==Nn[tn]){var ar=`
`+qe[en].replace(" at new "," at ");return V.displayName&&ar.includes("<anonymous>")&&(ar=ar.replace("<anonymous>",V.displayName)),typeof V=="function"&&Ze.set(V,ar),ar}while(en>=1&&tn>=0);break}}}finally{Ee=!1,jt.current=nt,bt(),Error.prepareStackTrace=wt}var ni=V?V.displayName||V.name:"",_a=ni?Nt(ni):"";return typeof V=="function"&&Ze.set(V,_a),_a}function pt(V,we,ke){return He(V,!1)}function ft(V){var we=V.prototype;return!!(we&&we.isReactComponent)}function Dt(V,we,ke){if(V==null)return"";if(typeof V=="function")return He(V,ft(V));if(typeof V=="string")return Nt(V);switch(V){case h:return Nt("Suspense");case m:return Nt("SuspenseList")}if(typeof V=="object")switch(V.$$typeof){case d:return pt(V.render);case p:return Dt(V.type,we,ke);case g:{var Ke=V,wt=Ke._payload,nt=Ke._init;try{return Dt(nt(wt),we,ke)}catch{}}}return""}var It=Object.prototype.hasOwnProperty,Yt={},$n=_.ReactDebugCurrentFrame;function Q(V){if(V){var we=V._owner,ke=Dt(V.type,V._source,we?we.type:null);$n.setExtraStackFrame(ke)}else $n.setExtraStackFrame(null)}function oe(V,we,ke,Ke,wt){{var nt=Function.call.bind(It);for(var dt in V)if(nt(V,dt)){var qe=void 0;try{if(typeof V[dt]!="function"){var Nn=Error((Ke||"React class")+": "+ke+" type `"+dt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof V[dt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Nn.name="Invariant Violation",Nn}qe=V[dt](we,dt,Ke,ke,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(en){qe=en}qe&&!(qe instanceof Error)&&(Q(wt),T("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ke||"React class",ke,dt,typeof qe),Q(null)),qe instanceof Error&&!(qe.message in Yt)&&(Yt[qe.message]=!0,Q(wt),T("Failed %s type: %s",ke,qe.message),Q(null))}}}var Z=Array.isArray;function ae(V){return Z(V)}function ve(V){{var we=typeof Symbol=="function"&&Symbol.toStringTag,ke=we&&V[Symbol.toStringTag]||V.constructor.name||"Object";return ke}}function _e(V){try{return Pe(V),!1}catch{return!0}}function Pe(V){return""+V}function Ge(V){if(_e(V))return T("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ve(V)),Pe(V)}var Ie=_.ReactCurrentOwner,Ue={key:!0,ref:!0,__self:!0,__source:!0},St,be,pe;pe={};function Be(V){if(It.call(V,"ref")){var we=Object.getOwnPropertyDescriptor(V,"ref").get;if(we&&we.isReactWarning)return!1}return V.ref!==void 0}function Xe(V){if(It.call(V,"key")){var we=Object.getOwnPropertyDescriptor(V,"key").get;if(we&&we.isReactWarning)return!1}return V.key!==void 0}function Qe(V,we){if(typeof V.ref=="string"&&Ie.current&&we&&Ie.current.stateNode!==we){var ke=G(Ie.current.type);pe[ke]||(T('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',G(Ie.current.type),V.ref),pe[ke]=!0)}}function _t(V,we){{var ke=function(){St||(St=!0,T("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",we))};ke.isReactWarning=!0,Object.defineProperty(V,"key",{get:ke,configurable:!0})}}function zt(V,we){{var ke=function(){be||(be=!0,T("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",we))};ke.isReactWarning=!0,Object.defineProperty(V,"ref",{get:ke,configurable:!0})}}var Ot=function(V,we,ke,Ke,wt,nt,dt){var qe={$$typeof:t,type:V,key:we,ref:ke,props:dt,_owner:nt};return qe._store={},Object.defineProperty(qe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(qe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ke}),Object.defineProperty(qe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:wt}),Object.freeze&&(Object.freeze(qe.props),Object.freeze(qe)),qe};function kt(V,we,ke,Ke,wt){{var nt,dt={},qe=null,Nn=null;ke!==void 0&&(Ge(ke),qe=""+ke),Xe(we)&&(Ge(we.key),qe=""+we.key),Be(we)&&(Nn=we.ref,Qe(we,wt));for(nt in we)It.call(we,nt)&&!Ue.hasOwnProperty(nt)&&(dt[nt]=we[nt]);if(V&&V.defaultProps){var en=V.defaultProps;for(nt in en)dt[nt]===void 0&&(dt[nt]=en[nt])}if(qe||Nn){var tn=typeof V=="function"?V.displayName||V.name||"Unknown":V;qe&&_t(dt,tn),Nn&&zt(dt,tn)}return Ot(V,qe,Nn,wt,Ke,Ie.current,dt)}}var At=_.ReactCurrentOwner,Bt=_.ReactDebugCurrentFrame;function Tn(V){if(V){var we=V._owner,ke=Dt(V.type,V._source,we?we.type:null);Bt.setExtraStackFrame(ke)}else Bt.setExtraStackFrame(null)}var kr;kr=!1;function Pn(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function Ta(){{if(At.current){var V=G(At.current.type);if(V)return`

Check the render method of \``+V+"`."}return""}}function fs(V){{if(V!==void 0){var we=V.fileName.replace(/^.*[\\\/]/,""),ke=V.lineNumber;return`

Check your code at `+we+":"+ke+"."}return""}}var ei={};function ds(V){{var we=Ta();if(!we){var ke=typeof V=="string"?V:V.displayName||V.name;ke&&(we=`

Check the top-level render call using <`+ke+">.")}return we}}function mr(V,we){{if(!V._store||V._store.validated||V.key!=null)return;V._store.validated=!0;var ke=ds(we);if(ei[ke])return;ei[ke]=!0;var Ke="";V&&V._owner&&V._owner!==At.current&&(Ke=" It was passed a child from "+G(V._owner.type)+"."),Tn(V),T('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ke,Ke),Tn(null)}}function ao(V,we){{if(typeof V!="object")return;if(ae(V))for(var ke=0;ke<V.length;ke++){var Ke=V[ke];Pn(Ke)&&mr(Ke,we)}else if(Pn(V))V._store&&(V._store.validated=!0);else if(V){var wt=E(V);if(typeof wt=="function"&&wt!==V.entries)for(var nt=wt.call(V),dt;!(dt=nt.next()).done;)Pn(dt.value)&&mr(dt.value,we)}}}function Na(V){{var we=V.type;if(we==null||typeof we=="string")return;var ke;if(typeof we=="function")ke=we.propTypes;else if(typeof we=="object"&&(we.$$typeof===d||we.$$typeof===p))ke=we.propTypes;else return;if(ke){var Ke=G(we);oe(ke,V.props,"prop",Ke,V)}else if(we.PropTypes!==void 0&&!kr){kr=!0;var wt=G(we);T("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",wt||"Unknown")}typeof we.getDefaultProps=="function"&&!we.getDefaultProps.isReactClassApproved&&T("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function sa(V){{for(var we=Object.keys(V.props),ke=0;ke<we.length;ke++){var Ke=we[ke];if(Ke!=="children"&&Ke!=="key"){Tn(V),T("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ke),Tn(null);break}}V.ref!==null&&(Tn(V),T("Invalid attribute `ref` supplied to `React.Fragment`."),Tn(null))}}var Vr={};function ti(V,we,ke,Ke,wt,nt){{var dt=H(V);if(!dt){var qe="";(V===void 0||typeof V=="object"&&V!==null&&Object.keys(V).length===0)&&(qe+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Nn=fs(wt);Nn?qe+=Nn:qe+=Ta();var en;V===null?en="null":ae(V)?en="array":V!==void 0&&V.$$typeof===t?(en="<"+(G(V.type)||"Unknown")+" />",qe=" Did you accidentally export a JSX literal instead of a component?"):en=typeof V,T("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",en,qe)}var tn=kt(V,we,ke,wt,nt);if(tn==null)return tn;if(dt){var ar=we.children;if(ar!==void 0)if(Ke)if(ae(ar)){for(var ni=0;ni<ar.length;ni++)ao(ar[ni],V);Object.freeze&&Object.freeze(ar)}else T("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ao(ar,V)}if(It.call(we,"key")){var _a=G(V),_n=Object.keys(we).filter(function(vt){return vt!=="key"}),so=_n.length>0?"{key: someKey, "+_n.join(": ..., ")+": ...}":"{key: someKey}";if(!Vr[_a+so]){var ka=_n.length>0?"{"+_n.join(": ..., ")+": ...}":"{}";T(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,so,_a,ka,_a),Vr[_a+so]=!0}}return V===i?sa(tn):Na(tn),tn}}var io=ti;nb.Fragment=i,nb.jsxDEV=io})();DE.exports=nb;var B=DE.exports,rb={},OE={exports:{}},Qr={},RE={exports:{}},ME={};(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=!1,n=5;function i(be,pe){var Be=be.length;be.push(pe),c(be,pe,Be)}function s(be){return be.length===0?null:be[0]}function o(be){if(be.length===0)return null;var pe=be[0],Be=be.pop();return Be!==pe&&(be[0]=Be,u(be,Be,0)),pe}function c(be,pe,Be){for(var Xe=Be;Xe>0;){var Qe=Xe-1>>>1,_t=be[Qe];if(d(_t,pe)>0)be[Qe]=pe,be[Xe]=_t,Xe=Qe;else return}}function u(be,pe,Be){for(var Xe=Be,Qe=be.length,_t=Qe>>>1;Xe<_t;){var zt=(Xe+1)*2-1,Ot=be[zt],kt=zt+1,At=be[kt];if(d(Ot,pe)<0)kt<Qe&&d(At,Ot)<0?(be[Xe]=At,be[kt]=pe,Xe=kt):(be[Xe]=Ot,be[zt]=pe,Xe=zt);else if(kt<Qe&&d(At,pe)<0)be[Xe]=At,be[kt]=pe,Xe=kt;else return}}function d(be,pe){var Be=be.sortIndex-pe.sortIndex;return Be!==0?Be:be.id-pe.id}var h=1,m=2,p=3,g=4,y=5;function S(be,pe){}var x=typeof performance=="object"&&typeof performance.now=="function";if(x){var E=performance;e.unstable_now=function(){return E.now()}}else{var _=Date,T=_.now();e.unstable_now=function(){return _.now()-T}}var O=1073741823,N=-1,D=250,R=5e3,P=1e4,U=O,F=[],H=[],Y=1,$=null,G=p,ce=!1,Se=!1,ee=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(be){for(var pe=s(H);pe!==null;){if(pe.callback===null)o(H);else if(pe.startTime<=be)o(H),pe.sortIndex=pe.expirationTime,i(F,pe);else return;pe=s(H)}}function ge(be){if(ee=!1,K(be),!Se)if(s(F)!==null)Se=!0,Pe(Te);else{var pe=s(H);pe!==null&&Ge(ge,pe.startTime-be)}}function Te(be,pe){Se=!1,ee&&(ee=!1,Ie()),ce=!0;var Be=G;try{var Xe;if(!t)return Me(be,pe)}finally{$=null,G=Be,ce=!1}}function Me(be,pe){var Be=pe;for(K(Be),$=s(F);$!==null&&!($.expirationTime>Be&&(!be||$n()));){var Xe=$.callback;if(typeof Xe=="function"){$.callback=null,G=$.priorityLevel;var Qe=$.expirationTime<=Be,_t=Xe(Qe);Be=e.unstable_now(),typeof _t=="function"?$.callback=_t:$===s(F)&&o(F),K(Be)}else o(F);$=s(F)}if($!==null)return!0;var zt=s(H);return zt!==null&&Ge(ge,zt.startTime-Be),!1}function lt(be,pe){switch(be){case h:case m:case p:case g:case y:break;default:be=p}var Be=G;G=be;try{return pe()}finally{G=Be}}function bt(be){var pe;switch(G){case h:case m:case p:pe=p;break;default:pe=G;break}var Be=G;G=pe;try{return be()}finally{G=Be}}function jt(be){var pe=G;return function(){var Be=G;G=pe;try{return be.apply(this,arguments)}finally{G=Be}}}function mt(be,pe,Be){var Xe=e.unstable_now(),Qe;if(typeof Be=="object"&&Be!==null){var _t=Be.delay;typeof _t=="number"&&_t>0?Qe=Xe+_t:Qe=Xe}else Qe=Xe;var zt;switch(be){case h:zt=N;break;case m:zt=D;break;case y:zt=U;break;case g:zt=P;break;case p:default:zt=R;break}var Ot=Qe+zt,kt={id:Y++,callback:pe,priorityLevel:be,startTime:Qe,expirationTime:Ot,sortIndex:-1};return Qe>Xe?(kt.sortIndex=Qe,i(H,kt),s(F)===null&&kt===s(H)&&(ee?Ie():ee=!0,Ge(ge,Qe-Xe))):(kt.sortIndex=Ot,i(F,kt),!Se&&!ce&&(Se=!0,Pe(Te))),kt}function Nt(){}function Ee(){!Se&&!ce&&(Se=!0,Pe(Te))}function Ze(){return s(F)}function ze(be){be.callback=null}function He(){return G}var pt=!1,ft=null,Dt=-1,It=n,Yt=-1;function $n(){var be=e.unstable_now()-Yt;return!(be<It)}function Q(){}function oe(be){if(be<0||be>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}be>0?It=Math.floor(1e3/be):It=n}var Z=function(){if(ft!==null){var be=e.unstable_now();Yt=be;var pe=!0,Be=!0;try{Be=ft(pe,be)}finally{Be?ae():(pt=!1,ft=null)}}else pt=!1},ae;if(typeof X=="function")ae=function(){X(Z)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,_e=ve.port2;ve.port1.onmessage=Z,ae=function(){_e.postMessage(null)}}else ae=function(){I(Z,0)};function Pe(be){ft=be,pt||(pt=!0,ae())}function Ge(be,pe){Dt=I(function(){be(e.unstable_now())},pe)}function Ie(){j(Dt),Dt=-1}var Ue=Q,St=null;e.unstable_IdlePriority=y,e.unstable_ImmediatePriority=h,e.unstable_LowPriority=g,e.unstable_NormalPriority=p,e.unstable_Profiling=St,e.unstable_UserBlockingPriority=m,e.unstable_cancelCallback=ze,e.unstable_continueExecution=Ee,e.unstable_forceFrameRate=oe,e.unstable_getCurrentPriorityLevel=He,e.unstable_getFirstCallbackNode=Ze,e.unstable_next=bt,e.unstable_pauseExecution=Nt,e.unstable_requestPaint=Ue,e.unstable_runWithPriority=lt,e.unstable_scheduleCallback=mt,e.unstable_shouldYield=$n,e.unstable_wrapCallback=jt,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(ME);RE.exports=ME;var pM=RE.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Kt,t=pM,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=!1;function s(r){i=r}function o(r){if(!i){for(var a=arguments.length,l=new Array(a>1?a-1:0),f=1;f<a;f++)l[f-1]=arguments[f];u("warn",r,l)}}function c(r){if(!i){for(var a=arguments.length,l=new Array(a>1?a-1:0),f=1;f<a;f++)l[f-1]=arguments[f];u("error",r,l)}}function u(r,a,l){{var f=n.ReactDebugCurrentFrame,v=f.getStackAddendum();v!==""&&(a+="%s",l=l.concat([v]));var b=l.map(function(w){return String(w)});b.unshift("Warning: "+a),Function.prototype.apply.call(console[r],console,b)}}var d=0,h=1,m=2,p=3,g=4,y=5,S=6,x=7,E=8,_=9,T=10,O=11,N=12,D=13,R=14,P=15,U=16,F=17,H=18,Y=19,$=21,G=22,ce=23,Se=24,ee=25,I=!0,j=!1,X=!1,K=!1,ge=!1,Te=!0,Me=!0,lt=!0,bt=!0,jt=new Set,mt={},Nt={};function Ee(r,a){Ze(r,a),Ze(r+"Capture",a)}function Ze(r,a){mt[r]&&c("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",r),mt[r]=a;{var l=r.toLowerCase();Nt[l]=r,r==="onDoubleClick"&&(Nt.ondblclick=r)}for(var f=0;f<a.length;f++)jt.add(a[f])}var ze=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",He=Object.prototype.hasOwnProperty;function pt(r){{var a=typeof Symbol=="function"&&Symbol.toStringTag,l=a&&r[Symbol.toStringTag]||r.constructor.name||"Object";return l}}function ft(r){try{return Dt(r),!1}catch{return!0}}function Dt(r){return""+r}function It(r,a){if(ft(r))return c("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",a,pt(r)),Dt(r)}function Yt(r){if(ft(r))return c("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",pt(r)),Dt(r)}function $n(r,a){if(ft(r))return c("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",a,pt(r)),Dt(r)}function Q(r,a){if(ft(r))return c("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",a,pt(r)),Dt(r)}function oe(r){if(ft(r))return c("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",pt(r)),Dt(r)}function Z(r){if(ft(r))return c("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",pt(r)),Dt(r)}var ae=0,ve=1,_e=2,Pe=3,Ge=4,Ie=5,Ue=6,St=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",be=St+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",pe=new RegExp("^["+St+"]["+be+"]*$"),Be={},Xe={};function Qe(r){return He.call(Xe,r)?!0:He.call(Be,r)?!1:pe.test(r)?(Xe[r]=!0,!0):(Be[r]=!0,c("Invalid attribute name: `%s`",r),!1)}function _t(r,a,l){return a!==null?a.type===ae:l?!1:r.length>2&&(r[0]==="o"||r[0]==="O")&&(r[1]==="n"||r[1]==="N")}function zt(r,a,l,f){if(l!==null&&l.type===ae)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":{if(f)return!1;if(l!==null)return!l.acceptsBooleans;var v=r.toLowerCase().slice(0,5);return v!=="data-"&&v!=="aria-"}default:return!1}}function Ot(r,a,l,f){if(a===null||typeof a>"u"||zt(r,a,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case Pe:return!a;case Ge:return a===!1;case Ie:return isNaN(a);case Ue:return isNaN(a)||a<1}return!1}function kt(r){return Bt.hasOwnProperty(r)?Bt[r]:null}function At(r,a,l,f,v,b,w){this.acceptsBooleans=a===_e||a===Pe||a===Ge,this.attributeName=f,this.attributeNamespace=v,this.mustUseProperty=l,this.propertyName=r,this.type=a,this.sanitizeURL=b,this.removeEmptyString=w}var Bt={},Tn=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Tn.forEach(function(r){Bt[r]=new At(r,ae,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0],l=r[1];Bt[a]=new At(a,ve,!1,l,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){Bt[r]=new At(r,_e,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Bt[r]=new At(r,_e,!1,r,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(r){Bt[r]=new At(r,Pe,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){Bt[r]=new At(r,Pe,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){Bt[r]=new At(r,Ge,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){Bt[r]=new At(r,Ue,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){Bt[r]=new At(r,Ie,!1,r.toLowerCase(),null,!1,!1)});var kr=/[\-\:]([a-z])/g,Pn=function(r){return r[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(r){var a=r.replace(kr,Pn);Bt[a]=new At(a,ve,!1,r,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(r){var a=r.replace(kr,Pn);Bt[a]=new At(a,ve,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(kr,Pn);Bt[a]=new At(a,ve,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){Bt[r]=new At(r,ve,!1,r.toLowerCase(),null,!1,!1)});var Ta="xlinkHref";Bt[Ta]=new At("xlinkHref",ve,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){Bt[r]=new At(r,ve,!1,r.toLowerCase(),null,!0,!0)});var fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ei=!1;function ds(r){!ei&&fs.test(r)&&(ei=!0,c("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(r)))}function mr(r,a,l,f){if(f.mustUseProperty){var v=f.propertyName;return r[v]}else{It(l,a),f.sanitizeURL&&ds(""+l);var b=f.attributeName,w=null;if(f.type===Ge){if(r.hasAttribute(b)){var C=r.getAttribute(b);return C===""?!0:Ot(a,l,f,!1)?C:C===""+l?l:C}}else if(r.hasAttribute(b)){if(Ot(a,l,f,!1))return r.getAttribute(b);if(f.type===Pe)return l;w=r.getAttribute(b)}return Ot(a,l,f,!1)?w===null?l:w:w===""+l?l:w}}function ao(r,a,l,f){{if(!Qe(a))return;if(!r.hasAttribute(a))return l===void 0?void 0:null;var v=r.getAttribute(a);return It(l,a),v===""+l?l:v}}function Na(r,a,l,f){var v=kt(a);if(!_t(a,v,f)){if(Ot(a,l,v,f)&&(l=null),f||v===null){if(Qe(a)){var b=a;l===null?r.removeAttribute(b):(It(l,a),r.setAttribute(b,""+l))}return}var w=v.mustUseProperty;if(w){var C=v.propertyName;if(l===null){var k=v.type;r[C]=k===Pe?!1:""}else r[C]=l;return}var M=v.attributeName,L=v.attributeNamespace;if(l===null)r.removeAttribute(M);else{var W=v.type,q;W===Pe||W===Ge&&l===!0?q="":(It(l,M),q=""+l,v.sanitizeURL&&ds(q.toString())),L?r.setAttributeNS(L,M,q):r.setAttribute(M,q)}}}var sa=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),io=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),ke=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Nn=Symbol.for("react.scope"),en=Symbol.for("react.debug_trace_mode"),tn=Symbol.for("react.offscreen"),ar=Symbol.for("react.legacy_hidden"),ni=Symbol.for("react.cache"),_a=Symbol.for("react.tracing_marker"),_n=Symbol.iterator,so="@@iterator";function ka(r){if(r===null||typeof r!="object")return null;var a=_n&&r[_n]||r[so];return typeof a=="function"?a:null}var vt=Object.assign,oo=0,Uf,Pf,hs,Yl,ql,Wl,Xl;function Ql(){}Ql.__reactDisabledLog=!0;function Bf(){{if(oo===0){Uf=console.log,Pf=console.info,hs=console.warn,Yl=console.error,ql=console.group,Wl=console.groupCollapsed,Xl=console.groupEnd;var r={configurable:!0,enumerable:!0,value:Ql,writable:!0};Object.defineProperties(console,{info:r,log:r,warn:r,error:r,group:r,groupCollapsed:r,groupEnd:r})}oo++}}function Ff(){{if(oo--,oo===0){var r={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:vt({},r,{value:Uf}),info:vt({},r,{value:Pf}),warn:vt({},r,{value:hs}),error:vt({},r,{value:Yl}),group:vt({},r,{value:ql}),groupCollapsed:vt({},r,{value:Wl}),groupEnd:vt({},r,{value:Xl})})}oo<0&&c("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var uc=n.ReactCurrentDispatcher,Jl;function ri(r,a,l){{if(Jl===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);Jl=f&&f[1]||""}return`
`+Jl+r}}var co=!1,ps;{var fc=typeof WeakMap=="function"?WeakMap:Map;ps=new fc}function lo(r,a){if(!r||co)return"";{var l=ps.get(r);if(l!==void 0)return l}var f;co=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var b;b=uc.current,uc.current=null,Bf();try{if(a){var w=function(){throw Error()};if(Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(se){f=se}Reflect.construct(r,[],w)}else{try{w.call()}catch(se){f=se}r.call(w.prototype)}}else{try{throw Error()}catch(se){f=se}r()}}catch(se){if(se&&f&&typeof se.stack=="string"){for(var C=se.stack.split(`
`),k=f.stack.split(`
`),M=C.length-1,L=k.length-1;M>=1&&L>=0&&C[M]!==k[L];)L--;for(;M>=1&&L>=0;M--,L--)if(C[M]!==k[L]){if(M!==1||L!==1)do if(M--,L--,L<0||C[M]!==k[L]){var W=`
`+C[M].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),typeof r=="function"&&ps.set(r,W),W}while(M>=1&&L>=0);break}}}finally{co=!1,uc.current=b,Ff(),Error.prepareStackTrace=v}var q=r?r.displayName||r.name:"",re=q?ri(q):"";return typeof r=="function"&&ps.set(r,re),re}function dc(r,a,l){return lo(r,!0)}function Zl(r,a,l){return lo(r,!1)}function jf(r){var a=r.prototype;return!!(a&&a.isReactComponent)}function eu(r,a,l){if(r==null)return"";if(typeof r=="function")return lo(r,jf(r));if(typeof r=="string")return ri(r);switch(r){case wt:return ri("Suspense");case nt:return ri("SuspenseList")}if(typeof r=="object")switch(r.$$typeof){case Ke:return Zl(r.render);case dt:return eu(r.type,a,l);case qe:{var f=r,v=f._payload,b=f._init;try{return eu(b(v),a,l)}catch{}}}return""}function yv(r){switch(r._debugOwner&&r._debugOwner.type,r._debugSource,r.tag){case y:return ri(r.type);case U:return ri("Lazy");case D:return ri("Suspense");case Y:return ri("SuspenseList");case d:case m:case P:return Zl(r.type);case O:return Zl(r.type.render);case h:return dc(r.type);default:return""}}function uo(r){try{var a="",l=r;do a+=yv(l),l=l.return;while(l);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function zf(r,a,l){var f=r.displayName;if(f)return f;var v=a.displayName||a.name||"";return v!==""?l+"("+v+")":l}function tu(r){return r.displayName||"Context"}function Lt(r){if(r==null)return null;if(typeof r.tag=="number"&&c("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ti:return"Fragment";case Vr:return"Portal";case V:return"Profiler";case io:return"StrictMode";case wt:return"Suspense";case nt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ke:var a=r;return tu(a)+".Consumer";case we:var l=r;return tu(l._context)+".Provider";case Ke:return zf(r,r.render,"ForwardRef");case dt:var f=r.displayName||null;return f!==null?f:Lt(r.type)||"Memo";case qe:{var v=r,b=v._payload,w=v._init;try{return Lt(w(b))}catch{return null}}}return null}function bv(r,a,l){var f=a.displayName||a.name||"";return r.displayName||(f!==""?l+"("+f+")":l)}function Ai(r){return r.displayName||"Context"}function ct(r){var a=r.tag,l=r.type;switch(a){case Se:return"Cache";case _:var f=l;return Ai(f)+".Consumer";case T:var v=l;return Ai(v._context)+".Provider";case H:return"DehydratedFragment";case O:return bv(l,l.render,"ForwardRef");case x:return"Fragment";case y:return l;case g:return"Portal";case p:return"Root";case S:return"Text";case U:return Lt(l);case E:return l===io?"StrictMode":"Mode";case G:return"Offscreen";case N:return"Profiler";case $:return"Scope";case D:return"Suspense";case Y:return"SuspenseList";case ee:return"TracingMarker";case h:case d:case F:case m:case R:case P:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;break}return null}var nu=n.ReactDebugCurrentFrame,gr=null,fo=!1;function vs(){{if(gr===null)return null;var r=gr._debugOwner;if(r!==null&&typeof r<"u")return ct(r)}return null}function Sv(){return gr===null?"":uo(gr)}function Bn(){nu.getCurrentStack=null,gr=null,fo=!1}function rn(r){nu.getCurrentStack=r===null?null:Sv,gr=r,fo=!1}function Vf(){return gr}function oa(r){fo=r}function yr(r){return""+r}function Da(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return Z(r),r;default:return""}}var wv={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function ru(r,a){wv[a.type]||a.onChange||a.onInput||a.readOnly||a.disabled||a.value==null||c("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),a.onChange||a.readOnly||a.disabled||a.checked==null||c("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Hf(r){var a=r.type,l=r.nodeName;return l&&l.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function au(r){return r._valueTracker}function hc(r){r._valueTracker=null}function xv(r){var a="";return r&&(Hf(r)?a=r.checked?"true":"false":a=r.value),a}function ms(r){var a=Hf(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);Z(r[a]);var f=""+r[a];if(!(r.hasOwnProperty(a)||typeof l>"u"||typeof l.get!="function"||typeof l.set!="function")){var v=l.get,b=l.set;Object.defineProperty(r,a,{configurable:!0,get:function(){return v.call(this)},set:function(C){Z(C),f=""+C,b.call(this,C)}}),Object.defineProperty(r,a,{enumerable:l.enumerable});var w={getValue:function(){return f},setValue:function(C){Z(C),f=""+C},stopTracking:function(){hc(r),delete r[a]}};return w}}function ho(r){au(r)||(r._valueTracker=ms(r))}function iu(r){if(!r)return!1;var a=au(r);if(!a)return!0;var l=a.getValue(),f=xv(r);return f!==l?(a.setValue(f),!0):!1}function Oi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pc=!1,vc=!1,mc=!1,$f=!1;function Gf(r){var a=r.type==="checkbox"||r.type==="radio";return a?r.checked!=null:r.value!=null}function su(r,a){var l=r,f=a.checked,v=vt({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked});return v}function Kf(r,a){ru("input",a),a.checked!==void 0&&a.defaultChecked!==void 0&&!vc&&(c("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",vs()||"A component",a.type),vc=!0),a.value!==void 0&&a.defaultValue!==void 0&&!pc&&(c("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",vs()||"A component",a.type),pc=!0);var l=r,f=a.defaultValue==null?"":a.defaultValue;l._wrapperState={initialChecked:a.checked!=null?a.checked:a.defaultChecked,initialValue:Da(a.value!=null?a.value:f),controlled:Gf(a)}}function A(r,a){var l=r,f=a.checked;f!=null&&Na(l,"checked",f,!1)}function z(r,a){var l=r;{var f=Gf(a);!l._wrapperState.controlled&&f&&!$f&&(c("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),$f=!0),l._wrapperState.controlled&&!f&&!mc&&(c("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),mc=!0)}A(r,a);var v=Da(a.value),b=a.type;if(v!=null)b==="number"?(v===0&&l.value===""||l.value!=v)&&(l.value=yr(v)):l.value!==yr(v)&&(l.value=yr(v));else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}a.hasOwnProperty("value")?Je(l,a.type,v):a.hasOwnProperty("defaultValue")&&Je(l,a.type,Da(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(l.defaultChecked=!!a.defaultChecked)}function ie(r,a,l){var f=r;if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var v=a.type,b=v==="submit"||v==="reset";if(b&&(a.value===void 0||a.value===null))return;var w=yr(f._wrapperState.initialValue);l||w!==f.value&&(f.value=w),f.defaultValue=w}var C=f.name;C!==""&&(f.name=""),f.defaultChecked=!f.defaultChecked,f.defaultChecked=!!f._wrapperState.initialChecked,C!==""&&(f.name=C)}function le(r,a){var l=r;z(l,a),Ce(l,a)}function Ce(r,a){var l=a.name;if(a.type==="radio"&&l!=null){for(var f=r;f.parentNode;)f=f.parentNode;It(l,"name");for(var v=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),b=0;b<v.length;b++){var w=v[b];if(!(w===r||w.form!==r.form)){var C=Rd(w);if(!C)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");iu(w),z(w,C)}}}}function Je(r,a,l){(a!=="number"||Oi(r.ownerDocument)!==r)&&(l==null?r.defaultValue=yr(r._wrapperState.initialValue):r.defaultValue!==yr(l)&&(r.defaultValue=yr(l)))}var je=!1,it=!1,xt=!1;function Vt(r,a){a.value==null&&(typeof a.children=="object"&&a.children!==null?e.Children.forEach(a.children,function(l){l!=null&&(typeof l=="string"||typeof l=="number"||it||(it=!0,c("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):a.dangerouslySetInnerHTML!=null&&(xt||(xt=!0,c("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),a.selected!=null&&!je&&(c("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),je=!0)}function Wt(r,a){a.value!=null&&r.setAttribute("value",yr(Da(a.value)))}var Xt=Array.isArray;function gt(r){return Xt(r)}var an;an=!1;function yn(){var r=vs();return r?`

Check the render method of \``+r+"`.":""}var po=["value","defaultValue"];function ou(r){{ru("select",r);for(var a=0;a<po.length;a++){var l=po[a];if(r[l]!=null){var f=gt(r[l]);r.multiple&&!f?c("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",l,yn()):!r.multiple&&f&&c("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",l,yn())}}}}function Ri(r,a,l,f){var v=r.options;if(a){for(var b=l,w={},C=0;C<b.length;C++)w["$"+b[C]]=!0;for(var k=0;k<v.length;k++){var M=w.hasOwnProperty("$"+v[k].value);v[k].selected!==M&&(v[k].selected=M),M&&f&&(v[k].defaultSelected=!0)}}else{for(var L=yr(Da(l)),W=null,q=0;q<v.length;q++){if(v[q].value===L){v[q].selected=!0,f&&(v[q].defaultSelected=!0);return}W===null&&!v[q].disabled&&(W=v[q])}W!==null&&(W.selected=!0)}}function cu(r,a){return vt({},a,{value:void 0})}function lu(r,a){var l=r;ou(a),l._wrapperState={wasMultiple:!!a.multiple},a.value!==void 0&&a.defaultValue!==void 0&&!an&&(c("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),an=!0)}function Ev(r,a){var l=r;l.multiple=!!a.multiple;var f=a.value;f!=null?Ri(l,!!a.multiple,f,!1):a.defaultValue!=null&&Ri(l,!!a.multiple,a.defaultValue,!0)}function Yf(r,a){var l=r,f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Ri(l,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ri(l,!!a.multiple,a.defaultValue,!0):Ri(l,!!a.multiple,a.multiple?[]:"",!1))}function Cv(r,a){var l=r,f=a.value;f!=null&&Ri(l,!!a.multiple,f,!1)}var M3=!1;function Tv(r,a){var l=r;if(a.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var f=vt({},a,{value:void 0,defaultValue:void 0,children:yr(l._wrapperState.initialValue)});return f}function I3(r,a){var l=r;ru("textarea",a),a.value!==void 0&&a.defaultValue!==void 0&&!M3&&(c("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",vs()||"A component"),M3=!0);var f=a.value;if(f==null){var v=a.children,b=a.defaultValue;if(v!=null){c("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(b!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(gt(v)){if(v.length>1)throw new Error("<textarea> can only have at most one child.");v=v[0]}b=v}}b==null&&(b=""),f=b}l._wrapperState={initialValue:Da(f)}}function L3(r,a){var l=r,f=Da(a.value),v=Da(a.defaultValue);if(f!=null){var b=yr(f);b!==l.value&&(l.value=b),a.defaultValue==null&&l.defaultValue!==b&&(l.defaultValue=b)}v!=null&&(l.defaultValue=yr(v))}function U3(r,a){var l=r,f=l.textContent;f===l._wrapperState.initialValue&&f!==""&&f!==null&&(l.value=f)}function Z9(r,a){L3(r,a)}var Mi="http://www.w3.org/1999/xhtml",e8="http://www.w3.org/1998/Math/MathML",Nv="http://www.w3.org/2000/svg";function _v(r){switch(r){case"svg":return Nv;case"math":return e8;default:return Mi}}function kv(r,a){return r==null||r===Mi?_v(a):r===Nv&&a==="foreignObject"?Mi:r}var t8=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,f,v){MSApp.execUnsafeLocalFunction(function(){return r(a,l,f,v)})}:r},qf,P3=t8(function(r,a){if(r.namespaceURI===Nv&&!("innerHTML"in r)){qf=qf||document.createElement("div"),qf.innerHTML="<svg>"+a.valueOf().toString()+"</svg>";for(var l=qf.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;l.firstChild;)r.appendChild(l.firstChild);return}r.innerHTML=a}),Dr=1,Ii=3,bn=8,Li=9,Dv=11,Wf=function(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===Ii){l.nodeValue=a;return}}r.textContent=a},n8={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function r8(r,a){return r+a.charAt(0).toUpperCase()+a.substring(1)}var a8=["Webkit","ms","Moz","O"];Object.keys(uu).forEach(function(r){a8.forEach(function(a){uu[r8(a,r)]=uu[r]})});function Av(r,a,l){var f=a==null||typeof a=="boolean"||a==="";return f?"":!l&&typeof a=="number"&&a!==0&&!(uu.hasOwnProperty(r)&&uu[r])?a+"px":(Q(a,r),(""+a).trim())}var i8=/([A-Z])/g,s8=/^ms-/;function o8(r){return r.replace(i8,"-$1").toLowerCase().replace(s8,"-ms-")}var B3=function(){};{var c8=/^(?:webkit|moz|o)[A-Z]/,l8=/^-ms-/,u8=/-(.)/g,F3=/;\s*$/,gc={},Ov={},j3=!1,z3=!1,f8=function(r){return r.replace(u8,function(a,l){return l.toUpperCase()})},d8=function(r){gc.hasOwnProperty(r)&&gc[r]||(gc[r]=!0,c("Unsupported style property %s. Did you mean %s?",r,f8(r.replace(l8,"ms-"))))},h8=function(r){gc.hasOwnProperty(r)&&gc[r]||(gc[r]=!0,c("Unsupported vendor-prefixed style property %s. Did you mean %s?",r,r.charAt(0).toUpperCase()+r.slice(1)))},p8=function(r,a){Ov.hasOwnProperty(a)&&Ov[a]||(Ov[a]=!0,c(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,r,a.replace(F3,"")))},v8=function(r,a){j3||(j3=!0,c("`NaN` is an invalid value for the `%s` css style property.",r))},m8=function(r,a){z3||(z3=!0,c("`Infinity` is an invalid value for the `%s` css style property.",r))};B3=function(r,a){r.indexOf("-")>-1?d8(r):c8.test(r)?h8(r):F3.test(a)&&p8(r,a),typeof a=="number"&&(isNaN(a)?v8(r,a):isFinite(a)||m8(r,a))}}var g8=B3;function y8(r){{var a="",l="";for(var f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null){var b=f.indexOf("--")===0;a+=l+(b?f:o8(f))+":",a+=Av(f,v,b),l=";"}}return a||null}}function V3(r,a){var l=r.style;for(var f in a)if(a.hasOwnProperty(f)){var v=f.indexOf("--")===0;v||g8(f,a[f]);var b=Av(f,a[f],v);f==="float"&&(f="cssFloat"),v?l.setProperty(f,b):l[f]=b}}function b8(r){return r==null||typeof r=="boolean"||r===""}function H3(r){var a={};for(var l in r)for(var f=n8[l]||[l],v=0;v<f.length;v++)a[f[v]]=l;return a}function S8(r,a){{if(!a)return;var l=H3(r),f=H3(a),v={};for(var b in l){var w=l[b],C=f[b];if(C&&w!==C){var k=w+","+C;if(v[k])continue;v[k]=!0,c("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",b8(r[w])?"Removing":"Updating",w,C)}}}}var w8={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},x8=vt({menuitem:!0},w8),E8="__html";function Rv(r,a){if(a){if(x8[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw new Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof a.dangerouslySetInnerHTML!="object"||!(E8 in a.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!a.suppressContentEditableWarning&&a.contentEditable&&a.children!=null&&c("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),a.style!=null&&typeof a.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function vo(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},$3={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},yc={},C8=new RegExp("^(aria)-["+be+"]*$"),T8=new RegExp("^(aria)[A-Z]["+be+"]*$");function N8(r,a){{if(He.call(yc,a)&&yc[a])return!0;if(T8.test(a)){var l="aria-"+a.slice(4).toLowerCase(),f=$3.hasOwnProperty(l)?l:null;if(f==null)return c("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",a),yc[a]=!0,!0;if(a!==f)return c("Invalid ARIA attribute `%s`. Did you mean `%s`?",a,f),yc[a]=!0,!0}if(C8.test(a)){var v=a.toLowerCase(),b=$3.hasOwnProperty(v)?v:null;if(b==null)return yc[a]=!0,!1;if(a!==b)return c("Unknown ARIA attribute `%s`. Did you mean `%s`?",a,b),yc[a]=!0,!0}}return!0}function _8(r,a){{var l=[];for(var f in a){var v=N8(r,f);v||l.push(f)}var b=l.map(function(w){return"`"+w+"`"}).join(", ");l.length===1?c("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",b,r):l.length>1&&c("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",b,r)}}function k8(r,a){vo(r,a)||_8(r,a)}var G3=!1;function D8(r,a){{if(r!=="input"&&r!=="textarea"&&r!=="select")return;a!=null&&a.value===null&&!G3&&(G3=!0,r==="select"&&a.multiple?c("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",r):c("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",r))}}var K3=function(){};{var br={},Y3=/^on./,A8=/^on[^A-Z]/,O8=new RegExp("^(aria)-["+be+"]*$"),R8=new RegExp("^(aria)[A-Z]["+be+"]*$");K3=function(r,a,l,f){if(He.call(br,a)&&br[a])return!0;var v=a.toLowerCase();if(v==="onfocusin"||v==="onfocusout")return c("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),br[a]=!0,!0;if(f!=null){var b=f.registrationNameDependencies,w=f.possibleRegistrationNames;if(b.hasOwnProperty(a))return!0;var C=w.hasOwnProperty(v)?w[v]:null;if(C!=null)return c("Invalid event handler property `%s`. Did you mean `%s`?",a,C),br[a]=!0,!0;if(Y3.test(a))return c("Unknown event handler property `%s`. It will be ignored.",a),br[a]=!0,!0}else if(Y3.test(a))return A8.test(a)&&c("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",a),br[a]=!0,!0;if(O8.test(a)||R8.test(a))return!0;if(v==="innerhtml")return c("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),br[a]=!0,!0;if(v==="aria")return c("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),br[a]=!0,!0;if(v==="is"&&l!==null&&l!==void 0&&typeof l!="string")return c("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof l),br[a]=!0,!0;if(typeof l=="number"&&isNaN(l))return c("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",a),br[a]=!0,!0;var k=kt(a),M=k!==null&&k.type===ae;if(Xf.hasOwnProperty(v)){var L=Xf[v];if(L!==a)return c("Invalid DOM property `%s`. Did you mean `%s`?",a,L),br[a]=!0,!0}else if(!M&&a!==v)return c("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",a,v),br[a]=!0,!0;return typeof l=="boolean"&&zt(a,l,k,!1)?(l?c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',l,a,a,l,a):c('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',l,a,a,l,a,a,a),br[a]=!0,!0):M?!0:zt(a,l,k,!1)?(br[a]=!0,!1):((l==="false"||l==="true")&&k!==null&&k.type===Pe&&(c("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",l,a,l==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',a,l),br[a]=!0),!0)}}var M8=function(r,a,l){{var f=[];for(var v in a){var b=K3(r,v,a[v],l);b||f.push(v)}var w=f.map(function(C){return"`"+C+"`"}).join(", ");f.length===1?c("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",w,r):f.length>1&&c("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",w,r)}};function I8(r,a,l){vo(r,a)||M8(r,a,l)}var q3=1,Mv=2,fu=4,L8=q3|Mv|fu,du=null;function U8(r){du!==null&&c("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),du=r}function P8(){du===null&&c("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),du=null}function B8(r){return r===du}function Iv(r){var a=r.target||r.srcElement||window;return a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===Ii?a.parentNode:a}var Lv=null,bc=null,Sc=null;function W3(r){var a=Ts(r);if(a){if(typeof Lv!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var l=a.stateNode;if(l){var f=Rd(l);Lv(a.stateNode,a.type,f)}}}function F8(r){Lv=r}function X3(r){bc?Sc?Sc.push(r):Sc=[r]:bc=r}function j8(){return bc!==null||Sc!==null}function Q3(){if(bc){var r=bc,a=Sc;if(bc=null,Sc=null,W3(r),a)for(var l=0;l<a.length;l++)W3(a[l])}}var J3=function(r,a){return r(a)},Z3=function(){},Uv=!1;function z8(){var r=j8();r&&(Z3(),Q3())}function e2(r,a,l){if(Uv)return r(a,l);Uv=!0;try{return J3(r,a,l)}finally{Uv=!1,z8()}}function V8(r,a,l){J3=r,Z3=l}function H8(r){return r==="button"||r==="input"||r==="select"||r==="textarea"}function $8(r,a,l){switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(l.disabled&&H8(a));default:return!1}}function hu(r,a){var l=r.stateNode;if(l===null)return null;var f=Rd(l);if(f===null)return null;var v=f[a];if($8(a,r.type,f))return null;if(v&&typeof v!="function")throw new Error("Expected `"+a+"` listener to be a function, instead got a value of `"+typeof v+"` type.");return v}var Pv=!1;if(ze)try{var pu={};Object.defineProperty(pu,"passive",{get:function(){Pv=!0}}),window.addEventListener("test",pu,pu),window.removeEventListener("test",pu,pu)}catch{Pv=!1}function t2(r,a,l,f,v,b,w,C,k){var M=Array.prototype.slice.call(arguments,3);try{a.apply(l,M)}catch(L){this.onError(L)}}var n2=t2;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var Bv=document.createElement("react");n2=function(a,l,f,v,b,w,C,k,M){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var L=document.createEvent("Event"),W=!1,q=!0,re=window.event,se=Object.getOwnPropertyDescriptor(window,"event");function ue(){Bv.removeEventListener(fe,Ye,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=re)}var De=Array.prototype.slice.call(arguments,3);function Ye(){W=!0,ue(),l.apply(f,De),q=!1}var $e,Tt=!1,yt=!1;function te(ne){if($e=ne.error,Tt=!0,$e===null&&ne.colno===0&&ne.lineno===0&&(yt=!0),ne.defaultPrevented&&$e!=null&&typeof $e=="object")try{$e._suppressLogging=!0}catch{}}var fe="react-"+(a||"invokeguardedcallback");if(window.addEventListener("error",te),Bv.addEventListener(fe,Ye,!1),L.initEvent(fe,!1,!1),Bv.dispatchEvent(L),se&&Object.defineProperty(window,"event",se),W&&q&&(Tt?yt&&($e=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):$e=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError($e)),window.removeEventListener("error",te),!W)return ue(),t2.apply(this,arguments)}}var G8=n2,wc=!1,Qf=null,Jf=!1,Fv=null,K8={onError:function(r){wc=!0,Qf=r}};function jv(r,a,l,f,v,b,w,C,k){wc=!1,Qf=null,G8.apply(K8,arguments)}function Y8(r,a,l,f,v,b,w,C,k){if(jv.apply(this,arguments),wc){var M=zv();Jf||(Jf=!0,Fv=M)}}function q8(){if(Jf){var r=Fv;throw Jf=!1,Fv=null,r}}function W8(){return wc}function zv(){if(wc){var r=Qf;return wc=!1,Qf=null,r}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function xc(r){return r._reactInternals}function X8(r){return r._reactInternals!==void 0}function Q8(r,a){r._reactInternals=a}var et=0,Ec=1,Sn=2,Ut=4,mo=16,vu=32,r2=64,Pt=128,Ui=256,go=512,Cc=1024,gs=2048,Pi=4096,yo=8192,Vv=16384,J8=32767,Zf=32768,Sr=65536,Hv=131072,a2=1048576,$v=2097152,bo=4194304,Gv=8388608,ys=16777216,Kv=33554432,Yv=Ut|Cc|0,qv=Sn|Ut|mo|vu|go|Pi|yo,mu=Ut|r2|go|yo,Tc=gs|mo,Bi=bo|Gv|$v,Z8=n.ReactCurrentOwner;function So(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{var f=a;do a=f,(a.flags&(Sn|Pi))!==et&&(l=a.return),f=a.return;while(f)}return a.tag===p?l:null}function i2(r){if(r.tag===D){var a=r.memoizedState;if(a===null){var l=r.alternate;l!==null&&(a=l.memoizedState)}if(a!==null)return a.dehydrated}return null}function s2(r){return r.tag===p?r.stateNode.containerInfo:null}function eN(r){return So(r)===r}function tN(r){{var a=Z8.current;if(a!==null&&a.tag===h){var l=a,f=l.stateNode;f._warnedAboutRefsInRender||c("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",ct(l)||"A component"),f._warnedAboutRefsInRender=!0}}var v=xc(r);return v?So(v)===v:!1}function o2(r){if(So(r)!==r)throw new Error("Unable to find node on an unmounted component.")}function c2(r){var a=r.alternate;if(!a){var l=So(r);if(l===null)throw new Error("Unable to find node on an unmounted component.");return l!==r?null:r}for(var f=r,v=a;;){var b=f.return;if(b===null)break;var w=b.alternate;if(w===null){var C=b.return;if(C!==null){f=v=C;continue}break}if(b.child===w.child){for(var k=b.child;k;){if(k===f)return o2(b),r;if(k===v)return o2(b),a;k=k.sibling}throw new Error("Unable to find node on an unmounted component.")}if(f.return!==v.return)f=b,v=w;else{for(var M=!1,L=b.child;L;){if(L===f){M=!0,f=b,v=w;break}if(L===v){M=!0,v=b,f=w;break}L=L.sibling}if(!M){for(L=w.child;L;){if(L===f){M=!0,f=w,v=b;break}if(L===v){M=!0,v=w,f=b;break}L=L.sibling}if(!M)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(f.alternate!==v)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(f.tag!==p)throw new Error("Unable to find node on an unmounted component.");return f.stateNode.current===f?r:a}function l2(r){var a=c2(r);return a!==null?u2(a):null}function u2(r){if(r.tag===y||r.tag===S)return r;for(var a=r.child;a!==null;){var l=u2(a);if(l!==null)return l;a=a.sibling}return null}function nN(r){var a=c2(r);return a!==null?f2(a):null}function f2(r){if(r.tag===y||r.tag===S)return r;for(var a=r.child;a!==null;){if(a.tag!==g){var l=f2(a);if(l!==null)return l}a=a.sibling}return null}var d2=t.unstable_scheduleCallback,rN=t.unstable_cancelCallback,aN=t.unstable_shouldYield,iN=t.unstable_requestPaint,Fn=t.unstable_now,sN=t.unstable_getCurrentPriorityLevel,ed=t.unstable_ImmediatePriority,Wv=t.unstable_UserBlockingPriority,wo=t.unstable_NormalPriority,oN=t.unstable_LowPriority,Xv=t.unstable_IdlePriority,cN=t.unstable_yieldValue,lN=t.unstable_setDisableYieldValue,Nc=null,ir=null,Oe=null,ai=!1,Aa=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function uN(r){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled)return!0;if(!a.supportsFiber)return c("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{Me&&(r=vt({},r,{getLaneLabelMap:mN,injectProfilingHooks:vN})),Nc=a.inject(r),ir=a}catch(l){c("React instrumentation encountered an error: %s.",l)}return!!a.checkDCE}function fN(r,a){if(ir&&typeof ir.onScheduleFiberRoot=="function")try{ir.onScheduleFiberRoot(Nc,r,a)}catch(l){ai||(ai=!0,c("React instrumentation encountered an error: %s",l))}}function dN(r,a){if(ir&&typeof ir.onCommitFiberRoot=="function")try{var l=(r.current.flags&Pt)===Pt;if(lt){var f;switch(a){case Gr:f=ed;break;case ji:f=Wv;break;case zi:f=wo;break;case od:f=Xv;break;default:f=wo;break}ir.onCommitFiberRoot(Nc,r,f,l)}}catch(v){ai||(ai=!0,c("React instrumentation encountered an error: %s",v))}}function hN(r){if(ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Nc,r)}catch(a){ai||(ai=!0,c("React instrumentation encountered an error: %s",a))}}function pN(r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Nc,r)}catch(a){ai||(ai=!0,c("React instrumentation encountered an error: %s",a))}}function jn(r){if(typeof cN=="function"&&(lN(r),s(r)),ir&&typeof ir.setStrictMode=="function")try{ir.setStrictMode(Nc,r)}catch(a){ai||(ai=!0,c("React instrumentation encountered an error: %s",a))}}function vN(r){Oe=r}function mN(){{for(var r=new Map,a=1,l=0;l<Jv;l++){var f=UN(a);r.set(a,f),a*=2}return r}}function gN(r){Oe!==null&&typeof Oe.markCommitStarted=="function"&&Oe.markCommitStarted(r)}function h2(){Oe!==null&&typeof Oe.markCommitStopped=="function"&&Oe.markCommitStopped()}function gu(r){Oe!==null&&typeof Oe.markComponentRenderStarted=="function"&&Oe.markComponentRenderStarted(r)}function _c(){Oe!==null&&typeof Oe.markComponentRenderStopped=="function"&&Oe.markComponentRenderStopped()}function yN(r){Oe!==null&&typeof Oe.markComponentPassiveEffectMountStarted=="function"&&Oe.markComponentPassiveEffectMountStarted(r)}function bN(){Oe!==null&&typeof Oe.markComponentPassiveEffectMountStopped=="function"&&Oe.markComponentPassiveEffectMountStopped()}function SN(r){Oe!==null&&typeof Oe.markComponentPassiveEffectUnmountStarted=="function"&&Oe.markComponentPassiveEffectUnmountStarted(r)}function wN(){Oe!==null&&typeof Oe.markComponentPassiveEffectUnmountStopped=="function"&&Oe.markComponentPassiveEffectUnmountStopped()}function xN(r){Oe!==null&&typeof Oe.markComponentLayoutEffectMountStarted=="function"&&Oe.markComponentLayoutEffectMountStarted(r)}function EN(){Oe!==null&&typeof Oe.markComponentLayoutEffectMountStopped=="function"&&Oe.markComponentLayoutEffectMountStopped()}function p2(r){Oe!==null&&typeof Oe.markComponentLayoutEffectUnmountStarted=="function"&&Oe.markComponentLayoutEffectUnmountStarted(r)}function v2(){Oe!==null&&typeof Oe.markComponentLayoutEffectUnmountStopped=="function"&&Oe.markComponentLayoutEffectUnmountStopped()}function CN(r,a,l){Oe!==null&&typeof Oe.markComponentErrored=="function"&&Oe.markComponentErrored(r,a,l)}function TN(r,a,l){Oe!==null&&typeof Oe.markComponentSuspended=="function"&&Oe.markComponentSuspended(r,a,l)}function NN(r){Oe!==null&&typeof Oe.markLayoutEffectsStarted=="function"&&Oe.markLayoutEffectsStarted(r)}function _N(){Oe!==null&&typeof Oe.markLayoutEffectsStopped=="function"&&Oe.markLayoutEffectsStopped()}function kN(r){Oe!==null&&typeof Oe.markPassiveEffectsStarted=="function"&&Oe.markPassiveEffectsStarted(r)}function DN(){Oe!==null&&typeof Oe.markPassiveEffectsStopped=="function"&&Oe.markPassiveEffectsStopped()}function m2(r){Oe!==null&&typeof Oe.markRenderStarted=="function"&&Oe.markRenderStarted(r)}function AN(){Oe!==null&&typeof Oe.markRenderYielded=="function"&&Oe.markRenderYielded()}function g2(){Oe!==null&&typeof Oe.markRenderStopped=="function"&&Oe.markRenderStopped()}function ON(r){Oe!==null&&typeof Oe.markRenderScheduled=="function"&&Oe.markRenderScheduled(r)}function RN(r,a){Oe!==null&&typeof Oe.markForceUpdateScheduled=="function"&&Oe.markForceUpdateScheduled(r,a)}function Qv(r,a){Oe!==null&&typeof Oe.markStateUpdateScheduled=="function"&&Oe.markStateUpdateScheduled(r,a)}var We=0,Et=1,Ht=2,ln=8,ii=16,y2=Math.clz32?Math.clz32:LN,MN=Math.log,IN=Math.LN2;function LN(r){var a=r>>>0;return a===0?32:31-(MN(a)/IN|0)|0}var Jv=31,ye=0,zn=0,rt=1,kc=2,Fi=4,xo=8,si=16,yu=32,Dc=4194240,bu=64,Zv=128,e1=256,t1=512,n1=1024,r1=2048,a1=4096,i1=8192,s1=16384,o1=32768,c1=65536,l1=131072,u1=262144,f1=524288,d1=1048576,h1=2097152,td=130023424,Ac=4194304,p1=8388608,v1=16777216,m1=33554432,g1=67108864,b2=Ac,Su=134217728,S2=268435455,wu=268435456,Eo=536870912,Hr=1073741824;function UN(r){{if(r&rt)return"Sync";if(r&kc)return"InputContinuousHydration";if(r&Fi)return"InputContinuous";if(r&xo)return"DefaultHydration";if(r&si)return"Default";if(r&yu)return"TransitionHydration";if(r&Dc)return"Transition";if(r&td)return"Retry";if(r&Su)return"SelectiveHydration";if(r&wu)return"IdleHydration";if(r&Eo)return"Idle";if(r&Hr)return"Offscreen"}}var Qt=-1,nd=bu,rd=Ac;function xu(r){switch(Co(r)){case rt:return rt;case kc:return kc;case Fi:return Fi;case xo:return xo;case si:return si;case yu:return yu;case bu:case Zv:case e1:case t1:case n1:case r1:case a1:case i1:case s1:case o1:case c1:case l1:case u1:case f1:case d1:case h1:return r&Dc;case Ac:case p1:case v1:case m1:case g1:return r&td;case Su:return Su;case wu:return wu;case Eo:return Eo;case Hr:return Hr;default:return c("Should have found matching lanes. This is a bug in React."),r}}function ad(r,a){var l=r.pendingLanes;if(l===ye)return ye;var f=ye,v=r.suspendedLanes,b=r.pingedLanes,w=l&S2;if(w!==ye){var C=w&~v;if(C!==ye)f=xu(C);else{var k=w&b;k!==ye&&(f=xu(k))}}else{var M=l&~v;M!==ye?f=xu(M):b!==ye&&(f=xu(b))}if(f===ye)return ye;if(a!==ye&&a!==f&&(a&v)===ye){var L=Co(f),W=Co(a);if(L>=W||L===si&&(W&Dc)!==ye)return a}(f&Fi)!==ye&&(f|=l&si);var q=r.entangledLanes;if(q!==ye)for(var re=r.entanglements,se=f&q;se>0;){var ue=To(se),De=1<<ue;f|=re[ue],se&=~De}return f}function PN(r,a){for(var l=r.eventTimes,f=Qt;a>0;){var v=To(a),b=1<<v,w=l[v];w>f&&(f=w),a&=~b}return f}function BN(r,a){switch(r){case rt:case kc:case Fi:return a+250;case xo:case si:case yu:case bu:case Zv:case e1:case t1:case n1:case r1:case a1:case i1:case s1:case o1:case c1:case l1:case u1:case f1:case d1:case h1:return a+5e3;case Ac:case p1:case v1:case m1:case g1:return Qt;case Su:case wu:case Eo:case Hr:return Qt;default:return c("Should have found matching lanes. This is a bug in React."),Qt}}function FN(r,a){for(var l=r.pendingLanes,f=r.suspendedLanes,v=r.pingedLanes,b=r.expirationTimes,w=l;w>0;){var C=To(w),k=1<<C,M=b[C];M===Qt?((k&f)===ye||(k&v)!==ye)&&(b[C]=BN(k,a)):M<=a&&(r.expiredLanes|=k),w&=~k}}function jN(r){return xu(r.pendingLanes)}function y1(r){var a=r.pendingLanes&~Hr;return a!==ye?a:a&Hr?Hr:ye}function zN(r){return(r&rt)!==ye}function b1(r){return(r&S2)!==ye}function w2(r){return(r&td)===r}function VN(r){var a=rt|Fi|si;return(r&a)===ye}function HN(r){return(r&Dc)===r}function id(r,a){var l=kc|Fi|xo|si;return(a&l)!==ye}function $N(r,a){return(a&r.expiredLanes)!==ye}function x2(r){return(r&Dc)!==ye}function E2(){var r=nd;return nd<<=1,(nd&Dc)===ye&&(nd=bu),r}function GN(){var r=rd;return rd<<=1,(rd&td)===ye&&(rd=Ac),r}function Co(r){return r&-r}function Eu(r){return Co(r)}function To(r){return 31-y2(r)}function S1(r){return To(r)}function $r(r,a){return(r&a)!==ye}function Oc(r,a){return(r&a)===a}function ht(r,a){return r|a}function sd(r,a){return r&~a}function C2(r,a){return r&a}function MJ(r){return r}function KN(r,a){return r!==zn&&r<a?r:a}function w1(r){for(var a=[],l=0;l<Jv;l++)a.push(r);return a}function Cu(r,a,l){r.pendingLanes|=a,a!==Eo&&(r.suspendedLanes=ye,r.pingedLanes=ye);var f=r.eventTimes,v=S1(a);f[v]=l}function YN(r,a){r.suspendedLanes|=a,r.pingedLanes&=~a;for(var l=r.expirationTimes,f=a;f>0;){var v=To(f),b=1<<v;l[v]=Qt,f&=~b}}function T2(r,a,l){r.pingedLanes|=r.suspendedLanes&a}function qN(r,a){var l=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=ye,r.pingedLanes=ye,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a;for(var f=r.entanglements,v=r.eventTimes,b=r.expirationTimes,w=l;w>0;){var C=To(w),k=1<<C;f[C]=ye,v[C]=Qt,b[C]=Qt,w&=~k}}function x1(r,a){for(var l=r.entangledLanes|=a,f=r.entanglements,v=l;v;){var b=To(v),w=1<<b;w&a|f[b]&a&&(f[b]|=a),v&=~w}}function WN(r,a){var l=Co(a),f;switch(l){case Fi:f=kc;break;case si:f=xo;break;case bu:case Zv:case e1:case t1:case n1:case r1:case a1:case i1:case s1:case o1:case c1:case l1:case u1:case f1:case d1:case h1:case Ac:case p1:case v1:case m1:case g1:f=yu;break;case Eo:f=wu;break;default:f=zn;break}return(f&(r.suspendedLanes|a))!==zn?zn:f}function N2(r,a,l){if(Aa)for(var f=r.pendingUpdatersLaneMap;l>0;){var v=S1(l),b=1<<v,w=f[v];w.add(a),l&=~b}}function _2(r,a){if(Aa)for(var l=r.pendingUpdatersLaneMap,f=r.memoizedUpdaters;a>0;){var v=S1(a),b=1<<v,w=l[v];w.size>0&&(w.forEach(function(C){var k=C.alternate;(k===null||!f.has(k))&&f.add(C)}),w.clear()),a&=~b}}function k2(r,a){return null}var Gr=rt,ji=Fi,zi=si,od=Eo,Tu=zn;function Oa(){return Tu}function Vn(r){Tu=r}function XN(r,a){var l=Tu;try{return Tu=r,a()}finally{Tu=l}}function QN(r,a){return r!==0&&r<a?r:a}function JN(r,a){return r>a?r:a}function E1(r,a){return r!==0&&r<a}function D2(r){var a=Co(r);return E1(Gr,a)?E1(ji,a)?b1(a)?zi:od:ji:Gr}function cd(r){var a=r.current.memoizedState;return a.isDehydrated}var A2;function ZN(r){A2=r}function e7(r){A2(r)}var C1;function t7(r){C1=r}var O2;function n7(r){O2=r}var R2;function r7(r){R2=r}var M2;function a7(r){M2=r}var T1=!1,ld=[],bs=null,Ss=null,ws=null,Nu=new Map,_u=new Map,xs=[],i7=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function s7(r){return i7.indexOf(r)>-1}function o7(r,a,l,f,v){return{blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:v,targetContainers:[f]}}function I2(r,a){switch(r){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":{var l=a.pointerId;Nu.delete(l);break}case"gotpointercapture":case"lostpointercapture":{var f=a.pointerId;_u.delete(f);break}}}function ku(r,a,l,f,v,b){if(r===null||r.nativeEvent!==b){var w=o7(a,l,f,v,b);if(a!==null){var C=Ts(a);C!==null&&C1(C)}return w}r.eventSystemFlags|=f;var k=r.targetContainers;return v!==null&&k.indexOf(v)===-1&&k.push(v),r}function c7(r,a,l,f,v){switch(a){case"focusin":{var b=v;return bs=ku(bs,r,a,l,f,b),!0}case"dragenter":{var w=v;return Ss=ku(Ss,r,a,l,f,w),!0}case"mouseover":{var C=v;return ws=ku(ws,r,a,l,f,C),!0}case"pointerover":{var k=v,M=k.pointerId;return Nu.set(M,ku(Nu.get(M)||null,r,a,l,f,k)),!0}case"gotpointercapture":{var L=v,W=L.pointerId;return _u.set(W,ku(_u.get(W)||null,r,a,l,f,L)),!0}}return!1}function L2(r){var a=ko(r.target);if(a!==null){var l=So(a);if(l!==null){var f=l.tag;if(f===D){var v=i2(l);if(v!==null){r.blockedOn=v,M2(r.priority,function(){O2(l)});return}}else if(f===p){var b=l.stateNode;if(cd(b)){r.blockedOn=s2(l);return}}}}r.blockedOn=null}function l7(r){for(var a=R2(),l={blockedOn:null,target:r,priority:a},f=0;f<xs.length&&E1(a,xs[f].priority);f++);xs.splice(f,0,l),f===0&&L2(l)}function ud(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;a.length>0;){var l=a[0],f=k1(r.domEventName,r.eventSystemFlags,l,r.nativeEvent);if(f===null){var v=r.nativeEvent,b=new v.constructor(v.type,v);U8(b),v.target.dispatchEvent(b),P8()}else{var w=Ts(f);return w!==null&&C1(w),r.blockedOn=f,!1}a.shift()}return!0}function U2(r,a,l){ud(r)&&l.delete(a)}function u7(){T1=!1,bs!==null&&ud(bs)&&(bs=null),Ss!==null&&ud(Ss)&&(Ss=null),ws!==null&&ud(ws)&&(ws=null),Nu.forEach(U2),_u.forEach(U2)}function Du(r,a){r.blockedOn===a&&(r.blockedOn=null,T1||(T1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,u7)))}function Au(r){if(ld.length>0){Du(ld[0],r);for(var a=1;a<ld.length;a++){var l=ld[a];l.blockedOn===r&&(l.blockedOn=null)}}bs!==null&&Du(bs,r),Ss!==null&&Du(Ss,r),ws!==null&&Du(ws,r);var f=function(C){return Du(C,r)};Nu.forEach(f),_u.forEach(f);for(var v=0;v<xs.length;v++){var b=xs[v];b.blockedOn===r&&(b.blockedOn=null)}for(;xs.length>0;){var w=xs[0];if(w.blockedOn!==null)break;L2(w),w.blockedOn===null&&xs.shift()}}var Rc=n.ReactCurrentBatchConfig,N1=!0;function P2(r){N1=!!r}function f7(){return N1}function d7(r,a,l){var f=B2(a),v;switch(f){case Gr:v=h7;break;case ji:v=p7;break;case zi:default:v=_1;break}return v.bind(null,a,l,r)}function h7(r,a,l,f){var v=Oa(),b=Rc.transition;Rc.transition=null;try{Vn(Gr),_1(r,a,l,f)}finally{Vn(v),Rc.transition=b}}function p7(r,a,l,f){var v=Oa(),b=Rc.transition;Rc.transition=null;try{Vn(ji),_1(r,a,l,f)}finally{Vn(v),Rc.transition=b}}function _1(r,a,l,f){N1&&v7(r,a,l,f)}function v7(r,a,l,f){var v=k1(r,a,l,f);if(v===null){V1(r,a,f,fd,l),I2(r,f);return}if(c7(v,r,a,l,f)){f.stopPropagation();return}if(I2(r,f),a&fu&&s7(r)){for(;v!==null;){var b=Ts(v);b!==null&&e7(b);var w=k1(r,a,l,f);if(w===null&&V1(r,a,f,fd,l),w===v)break;v=w}v!==null&&f.stopPropagation();return}V1(r,a,f,null,l)}var fd=null;function k1(r,a,l,f){fd=null;var v=Iv(f),b=ko(v);if(b!==null){var w=So(b);if(w===null)b=null;else{var C=w.tag;if(C===D){var k=i2(w);if(k!==null)return k;b=null}else if(C===p){var M=w.stateNode;if(cd(M))return s2(w);b=null}else w!==b&&(b=null)}}return fd=b,null}function B2(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Gr;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return ji;case"message":{var a=sN();switch(a){case ed:return Gr;case Wv:return ji;case wo:case oN:return zi;case Xv:return od;default:return zi}}default:return zi}}function m7(r,a,l){return r.addEventListener(a,l,!1),l}function g7(r,a,l){return r.addEventListener(a,l,!0),l}function y7(r,a,l,f){return r.addEventListener(a,l,{capture:!0,passive:f}),l}function b7(r,a,l,f){return r.addEventListener(a,l,{passive:f}),l}var Ou=null,D1=null,Ru=null;function S7(r){return Ou=r,D1=j2(),!0}function w7(){Ou=null,D1=null,Ru=null}function F2(){if(Ru)return Ru;var r,a=D1,l=a.length,f,v=j2(),b=v.length;for(r=0;r<l&&a[r]===v[r];r++);var w=l-r;for(f=1;f<=w&&a[l-f]===v[b-f];f++);var C=f>1?1-f:void 0;return Ru=v.slice(r,C),Ru}function j2(){return"value"in Ou?Ou.value:Ou.textContent}function dd(r){var a,l=r.keyCode;return"charCode"in r?(a=r.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),a>=32||a===13?a:0}function hd(){return!0}function z2(){return!1}function Kr(r){function a(l,f,v,b,w){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var C in r)if(r.hasOwnProperty(C)){var k=r[C];k?this[C]=k(b):this[C]=b[C]}var M=b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1;return M?this.isDefaultPrevented=hd:this.isDefaultPrevented=z2,this.isPropagationStopped=z2,this}return vt(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hd)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hd)},persist:function(){},isPersistent:hd}),a}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A1=Kr(Mc),Mu=vt({},Mc,{view:0,detail:0}),x7=Kr(Mu),O1,R1,Iu;function E7(r){r!==Iu&&(Iu&&r.type==="mousemove"?(O1=r.screenX-Iu.screenX,R1=r.screenY-Iu.screenY):(O1=0,R1=0),Iu=r)}var pd=vt({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I1,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(E7(r),O1)},movementY:function(r){return"movementY"in r?r.movementY:R1}}),V2=Kr(pd),C7=vt({},pd,{dataTransfer:0}),T7=Kr(C7),N7=vt({},Mu,{relatedTarget:0}),M1=Kr(N7),_7=vt({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),k7=Kr(_7),D7=vt({},Mc,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),A7=Kr(D7),O7=vt({},Mc,{data:0}),H2=Kr(O7),R7=H2,M7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function L7(r){if(r.key){var a=M7[r.key]||r.key;if(a!=="Unidentified")return a}if(r.type==="keypress"){var l=dd(r);return l===13?"Enter":String.fromCharCode(l)}return r.type==="keydown"||r.type==="keyup"?I7[r.keyCode]||"Unidentified":""}var U7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P7(r){var a=this,l=a.nativeEvent;if(l.getModifierState)return l.getModifierState(r);var f=U7[r];return f?!!l[f]:!1}function I1(r){return P7}var B7=vt({},Mu,{key:L7,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I1,charCode:function(r){return r.type==="keypress"?dd(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?dd(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),F7=Kr(B7),j7=vt({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$2=Kr(j7),z7=vt({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I1}),V7=Kr(z7),H7=vt({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$7=Kr(H7),G7=vt({},pd,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),K7=Kr(G7),Y7=[9,13,27,32],G2=229,L1=ze&&"CompositionEvent"in window,Lu=null;ze&&"documentMode"in document&&(Lu=document.documentMode);var q7=ze&&"TextEvent"in window&&!Lu,K2=ze&&(!L1||Lu&&Lu>8&&Lu<=11),Y2=32,q2=String.fromCharCode(Y2);function W7(){Ee("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ee("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),Ee("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),Ee("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var W2=!1;function X7(r){return(r.ctrlKey||r.altKey||r.metaKey)&&!(r.ctrlKey&&r.altKey)}function Q7(r){switch(r){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function J7(r,a){return r==="keydown"&&a.keyCode===G2}function X2(r,a){switch(r){case"keyup":return Y7.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==G2;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q2(r){var a=r.detail;return typeof a=="object"&&"data"in a?a.data:null}function J2(r){return r.locale==="ko"}var Ic=!1;function Z7(r,a,l,f,v){var b,w;if(L1?b=Q7(a):Ic?X2(a,f)&&(b="onCompositionEnd"):J7(a,f)&&(b="onCompositionStart"),!b)return null;K2&&!J2(f)&&(!Ic&&b==="onCompositionStart"?Ic=S7(v):b==="onCompositionEnd"&&Ic&&(w=F2()));var C=bd(l,b);if(C.length>0){var k=new H2(b,a,null,f,v);if(r.push({event:k,listeners:C}),w)k.data=w;else{var M=Q2(f);M!==null&&(k.data=M)}}}function e_(r,a){switch(r){case"compositionend":return Q2(a);case"keypress":var l=a.which;return l!==Y2?null:(W2=!0,q2);case"textInput":var f=a.data;return f===q2&&W2?null:f;default:return null}}function t_(r,a){if(Ic){if(r==="compositionend"||!L1&&X2(r,a)){var l=F2();return w7(),Ic=!1,l}return null}switch(r){case"paste":return null;case"keypress":if(!X7(a)){if(a.char&&a.char.length>1)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return K2&&!J2(a)?null:a.data;default:return null}}function n_(r,a,l,f,v){var b;if(q7?b=e_(a,f):b=t_(a,f),!b)return null;var w=bd(l,"onBeforeInput");if(w.length>0){var C=new R7("onBeforeInput","beforeinput",null,f,v);r.push({event:C,listeners:w}),C.data=b}}function r_(r,a,l,f,v,b,w){Z7(r,a,l,f,v),n_(r,a,l,f,v)}var a_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z2(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!a_[r.type]:a==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function i_(r){if(!ze)return!1;var a="on"+r,l=a in document;if(!l){var f=document.createElement("div");f.setAttribute(a,"return;"),l=typeof f[a]=="function"}return l}function s_(){Ee("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function e6(r,a,l,f){X3(f);var v=bd(a,"onChange");if(v.length>0){var b=new A1("onChange","change",null,l,f);r.push({event:b,listeners:v})}}var Uu=null,Pu=null;function o_(r){var a=r.nodeName&&r.nodeName.toLowerCase();return a==="select"||a==="input"&&r.type==="file"}function c_(r){var a=[];e6(a,Pu,r,Iv(r)),e2(l_,a)}function l_(r){y6(r,0)}function vd(r){var a=jc(r);if(iu(a))return r}function u_(r,a){if(r==="change")return a}var t6=!1;ze&&(t6=i_("input")&&(!document.documentMode||document.documentMode>9));function f_(r,a){Uu=r,Pu=a,Uu.attachEvent("onpropertychange",r6)}function n6(){Uu&&(Uu.detachEvent("onpropertychange",r6),Uu=null,Pu=null)}function r6(r){r.propertyName==="value"&&vd(Pu)&&c_(r)}function d_(r,a,l){r==="focusin"?(n6(),f_(a,l)):r==="focusout"&&n6()}function h_(r,a){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vd(Pu)}function p_(r){var a=r.nodeName;return a&&a.toLowerCase()==="input"&&(r.type==="checkbox"||r.type==="radio")}function v_(r,a){if(r==="click")return vd(a)}function m_(r,a){if(r==="input"||r==="change")return vd(a)}function g_(r){var a=r._wrapperState;!a||!a.controlled||r.type!=="number"||Je(r,"number",r.value)}function y_(r,a,l,f,v,b,w){var C=l?jc(l):window,k,M;if(o_(C)?k=u_:Z2(C)?t6?k=m_:(k=h_,M=d_):p_(C)&&(k=v_),k){var L=k(a,l);if(L){e6(r,L,f,v);return}}M&&M(a,C,l),a==="focusout"&&g_(C)}function b_(){Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"])}function S_(r,a,l,f,v,b,w){var C=a==="mouseover"||a==="pointerover",k=a==="mouseout"||a==="pointerout";if(C&&!B8(f)){var M=f.relatedTarget||f.fromElement;if(M&&(ko(M)||Ju(M)))return}if(!(!k&&!C)){var L;if(v.window===v)L=v;else{var W=v.ownerDocument;W?L=W.defaultView||W.parentWindow:L=window}var q,re;if(k){var se=f.relatedTarget||f.toElement;if(q=l,re=se?ko(se):null,re!==null){var ue=So(re);(re!==ue||re.tag!==y&&re.tag!==S)&&(re=null)}}else q=null,re=l;if(q!==re){var De=V2,Ye="onMouseLeave",$e="onMouseEnter",Tt="mouse";(a==="pointerout"||a==="pointerover")&&(De=$2,Ye="onPointerLeave",$e="onPointerEnter",Tt="pointer");var yt=q==null?L:jc(q),te=re==null?L:jc(re),fe=new De(Ye,Tt+"leave",q,f,v);fe.target=yt,fe.relatedTarget=te;var ne=null,xe=ko(v);if(xe===l){var Le=new De($e,Tt+"enter",re,f,v);Le.target=te,Le.relatedTarget=yt,ne=Le}$_(r,fe,ne,q,re)}}}function w_(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Yr=typeof Object.is=="function"?Object.is:w_;function Bu(r,a){if(Yr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),f=Object.keys(a);if(l.length!==f.length)return!1;for(var v=0;v<l.length;v++){var b=l[v];if(!He.call(a,b)||!Yr(r[b],a[b]))return!1}return!0}function a6(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function x_(r){for(;r;){if(r.nextSibling)return r.nextSibling;r=r.parentNode}}function i6(r,a){for(var l=a6(r),f=0,v=0;l;){if(l.nodeType===Ii){if(v=f+l.textContent.length,f<=a&&v>=a)return{node:l,offset:a-f};f=v}l=a6(x_(l))}}function E_(r){var a=r.ownerDocument,l=a&&a.defaultView||window,f=l.getSelection&&l.getSelection();if(!f||f.rangeCount===0)return null;var v=f.anchorNode,b=f.anchorOffset,w=f.focusNode,C=f.focusOffset;try{v.nodeType,w.nodeType}catch{return null}return C_(r,v,b,w,C)}function C_(r,a,l,f,v){var b=0,w=-1,C=-1,k=0,M=0,L=r,W=null;e:for(;;){for(var q=null;L===a&&(l===0||L.nodeType===Ii)&&(w=b+l),L===f&&(v===0||L.nodeType===Ii)&&(C=b+v),L.nodeType===Ii&&(b+=L.nodeValue.length),(q=L.firstChild)!==null;)W=L,L=q;for(;;){if(L===r)break e;if(W===a&&++k===l&&(w=b),W===f&&++M===v&&(C=b),(q=L.nextSibling)!==null)break;L=W,W=L.parentNode}L=q}return w===-1||C===-1?null:{start:w,end:C}}function T_(r,a){var l=r.ownerDocument||document,f=l&&l.defaultView||window;if(f.getSelection){var v=f.getSelection(),b=r.textContent.length,w=Math.min(a.start,b),C=a.end===void 0?w:Math.min(a.end,b);if(!v.extend&&w>C){var k=C;C=w,w=k}var M=i6(r,w),L=i6(r,C);if(M&&L){if(v.rangeCount===1&&v.anchorNode===M.node&&v.anchorOffset===M.offset&&v.focusNode===L.node&&v.focusOffset===L.offset)return;var W=l.createRange();W.setStart(M.node,M.offset),v.removeAllRanges(),w>C?(v.addRange(W),v.extend(L.node,L.offset)):(W.setEnd(L.node,L.offset),v.addRange(W))}}}function s6(r){return r&&r.nodeType===Ii}function o6(r,a){return!r||!a?!1:r===a?!0:s6(r)?!1:s6(a)?o6(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1}function N_(r){return r&&r.ownerDocument&&o6(r.ownerDocument.documentElement,r)}function __(r){try{return typeof r.contentWindow.location.href=="string"}catch{return!1}}function c6(){for(var r=window,a=Oi();a instanceof r.HTMLIFrameElement;){if(__(a))r=a.contentWindow;else return a;a=Oi(r.document)}return a}function U1(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function k_(){var r=c6();return{focusedElem:r,selectionRange:U1(r)?A_(r):null}}function D_(r){var a=c6(),l=r.focusedElem,f=r.selectionRange;if(a!==l&&N_(l)){f!==null&&U1(l)&&O_(l,f);for(var v=[],b=l;b=b.parentNode;)b.nodeType===Dr&&v.push({element:b,left:b.scrollLeft,top:b.scrollTop});typeof l.focus=="function"&&l.focus();for(var w=0;w<v.length;w++){var C=v[w];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}}function A_(r){var a;return"selectionStart"in r?a={start:r.selectionStart,end:r.selectionEnd}:a=E_(r),a||{start:0,end:0}}function O_(r,a){var l=a.start,f=a.end;f===void 0&&(f=l),"selectionStart"in r?(r.selectionStart=l,r.selectionEnd=Math.min(f,r.value.length)):T_(r,a)}var R_=ze&&"documentMode"in document&&document.documentMode<=11;function M_(){Ee("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Lc=null,P1=null,Fu=null,B1=!1;function I_(r){if("selectionStart"in r&&U1(r))return{start:r.selectionStart,end:r.selectionEnd};var a=r.ownerDocument&&r.ownerDocument.defaultView||window,l=a.getSelection();return{anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}}function L_(r){return r.window===r?r.document:r.nodeType===Li?r:r.ownerDocument}function l6(r,a,l){var f=L_(l);if(!(B1||Lc==null||Lc!==Oi(f))){var v=I_(Lc);if(!Fu||!Bu(Fu,v)){Fu=v;var b=bd(P1,"onSelect");if(b.length>0){var w=new A1("onSelect","select",null,a,l);r.push({event:w,listeners:b}),w.target=Lc}}}}function U_(r,a,l,f,v,b,w){var C=l?jc(l):window;switch(a){case"focusin":(Z2(C)||C.contentEditable==="true")&&(Lc=C,P1=l,Fu=null);break;case"focusout":Lc=null,P1=null,Fu=null;break;case"mousedown":B1=!0;break;case"contextmenu":case"mouseup":case"dragend":B1=!1,l6(r,f,v);break;case"selectionchange":if(R_)break;case"keydown":case"keyup":l6(r,f,v)}}function md(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Uc={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},F1={},u6={};ze&&(u6=document.createElement("div").style,"AnimationEvent"in window||(delete Uc.animationend.animation,delete Uc.animationiteration.animation,delete Uc.animationstart.animation),"TransitionEvent"in window||delete Uc.transitionend.transition);function gd(r){if(F1[r])return F1[r];if(!Uc[r])return r;var a=Uc[r];for(var l in a)if(a.hasOwnProperty(l)&&l in u6)return F1[r]=a[l];return r}var f6=gd("animationend"),d6=gd("animationiteration"),h6=gd("animationstart"),p6=gd("transitionend"),v6=new Map,m6=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Es(r,a){v6.set(r,a),Ee(a,[r])}function P_(){for(var r=0;r<m6.length;r++){var a=m6[r],l=a.toLowerCase(),f=a[0].toUpperCase()+a.slice(1);Es(l,"on"+f)}Es(f6,"onAnimationEnd"),Es(d6,"onAnimationIteration"),Es(h6,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(p6,"onTransitionEnd")}function B_(r,a,l,f,v,b,w){var C=v6.get(a);if(C!==void 0){var k=A1,M=a;switch(a){case"keypress":if(dd(f)===0)return;case"keydown":case"keyup":k=F7;break;case"focusin":M="focus",k=M1;break;case"focusout":M="blur",k=M1;break;case"beforeblur":case"afterblur":k=M1;break;case"click":if(f.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=V2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=T7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=V7;break;case f6:case d6:case h6:k=k7;break;case p6:k=$7;break;case"scroll":k=x7;break;case"wheel":k=K7;break;case"copy":case"cut":case"paste":k=A7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$2;break}var L=(b&fu)!==0;{var W=!L&&a==="scroll",q=V_(l,C,f.type,L,W);if(q.length>0){var re=new k(C,M,null,f,v);r.push({event:re,listeners:q})}}}}P_(),b_(),s_(),M_(),W7();function F_(r,a,l,f,v,b,w){B_(r,a,l,f,v,b);var C=(b&L8)===0;C&&(S_(r,a,l,f,v),y_(r,a,l,f,v),U_(r,a,l,f,v),r_(r,a,l,f,v))}var ju=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],j1=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(ju));function g6(r,a,l){var f=r.type||"unknown-event";r.currentTarget=l,Y8(f,a,void 0,r),r.currentTarget=null}function j_(r,a,l){var f;if(l)for(var v=a.length-1;v>=0;v--){var b=a[v],w=b.instance,C=b.currentTarget,k=b.listener;if(w!==f&&r.isPropagationStopped())return;g6(r,k,C),f=w}else for(var M=0;M<a.length;M++){var L=a[M],W=L.instance,q=L.currentTarget,re=L.listener;if(W!==f&&r.isPropagationStopped())return;g6(r,re,q),f=W}}function y6(r,a){for(var l=(a&fu)!==0,f=0;f<r.length;f++){var v=r[f],b=v.event,w=v.listeners;j_(b,w,l)}q8()}function z_(r,a,l,f,v){var b=Iv(l),w=[];F_(w,r,f,l,b,a),y6(w,a)}function nn(r,a){j1.has(r)||c('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',r);var l=!1,f=gD(a),v=G_(r);f.has(v)||(b6(a,r,Mv,l),f.add(v))}function z1(r,a,l){j1.has(r)&&!a&&c('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',r);var f=0;a&&(f|=fu),b6(l,r,f,a)}var yd="_reactListening"+Math.random().toString(36).slice(2);function zu(r){if(!r[yd]){r[yd]=!0,jt.forEach(function(l){l!=="selectionchange"&&(j1.has(l)||z1(l,!1,r),z1(l,!0,r))});var a=r.nodeType===Li?r:r.ownerDocument;a!==null&&(a[yd]||(a[yd]=!0,z1("selectionchange",!1,a)))}}function b6(r,a,l,f,v){var b=d7(r,a,l),w=void 0;Pv&&(a==="touchstart"||a==="touchmove"||a==="wheel")&&(w=!0),r=r,f?w!==void 0?y7(r,a,b,w):g7(r,a,b):w!==void 0?b7(r,a,b,w):m7(r,a,b)}function S6(r,a){return r===a||r.nodeType===bn&&r.parentNode===a}function V1(r,a,l,f,v){var b=f;if(!(a&q3)&&!(a&Mv)){var w=v;if(f!==null){var C=f;e:for(;;){if(C===null)return;var k=C.tag;if(k===p||k===g){var M=C.stateNode.containerInfo;if(S6(M,w))break;if(k===g)for(var L=C.return;L!==null;){var W=L.tag;if(W===p||W===g){var q=L.stateNode.containerInfo;if(S6(q,w))return}L=L.return}for(;M!==null;){var re=ko(M);if(re===null)return;var se=re.tag;if(se===y||se===S){C=b=re;continue e}M=M.parentNode}}C=C.return}}}e2(function(){return z_(r,a,l,b)})}function Vu(r,a,l){return{instance:r,listener:a,currentTarget:l}}function V_(r,a,l,f,v,b){for(var w=a!==null?a+"Capture":null,C=f?w:a,k=[],M=r,L=null;M!==null;){var W=M,q=W.stateNode,re=W.tag;if(re===y&&q!==null&&(L=q,C!==null)){var se=hu(M,C);se!=null&&k.push(Vu(M,se,L))}if(v)break;M=M.return}return k}function bd(r,a){for(var l=a+"Capture",f=[],v=r;v!==null;){var b=v,w=b.stateNode,C=b.tag;if(C===y&&w!==null){var k=w,M=hu(v,l);M!=null&&f.unshift(Vu(v,M,k));var L=hu(v,a);L!=null&&f.push(Vu(v,L,k))}v=v.return}return f}function Pc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==y);return r||null}function H_(r,a){for(var l=r,f=a,v=0,b=l;b;b=Pc(b))v++;for(var w=0,C=f;C;C=Pc(C))w++;for(;v-w>0;)l=Pc(l),v--;for(;w-v>0;)f=Pc(f),w--;for(var k=v;k--;){if(l===f||f!==null&&l===f.alternate)return l;l=Pc(l),f=Pc(f)}return null}function w6(r,a,l,f,v){for(var b=a._reactName,w=[],C=l;C!==null&&C!==f;){var k=C,M=k.alternate,L=k.stateNode,W=k.tag;if(M!==null&&M===f)break;if(W===y&&L!==null){var q=L;if(v){var re=hu(C,b);re!=null&&w.unshift(Vu(C,re,q))}else if(!v){var se=hu(C,b);se!=null&&w.push(Vu(C,se,q))}}C=C.return}w.length!==0&&r.push({event:a,listeners:w})}function $_(r,a,l,f,v){var b=f&&v?H_(f,v):null;f!==null&&w6(r,a,f,b,!1),v!==null&&l!==null&&w6(r,l,v,b,!0)}function G_(r,a){return r+"__bubble"}var Ar=!1,Hu="dangerouslySetInnerHTML",Sd="suppressContentEditableWarning",Cs="suppressHydrationWarning",x6="autoFocus",No="children",_o="style",wd="__html",H1,xd,$u,E6,Ed,C6,T6;H1={dialog:!0,webview:!0},xd=function(r,a){k8(r,a),D8(r,a),I8(r,a,{registrationNameDependencies:mt,possibleRegistrationNames:Nt})},C6=ze&&!document.documentMode,$u=function(r,a,l){if(!Ar){var f=Cd(l),v=Cd(a);v!==f&&(Ar=!0,c("Prop `%s` did not match. Server: %s Client: %s",r,JSON.stringify(v),JSON.stringify(f)))}},E6=function(r){if(!Ar){Ar=!0;var a=[];r.forEach(function(l){a.push(l)}),c("Extra attributes from the server: %s",a)}},Ed=function(r,a){a===!1?c("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",r,r,r):c("Expected `%s` listener to be a function, instead got a value of `%s` type.",r,typeof a)},T6=function(r,a){var l=r.namespaceURI===Mi?r.ownerDocument.createElement(r.tagName):r.ownerDocument.createElementNS(r.namespaceURI,r.tagName);return l.innerHTML=a,l.innerHTML};var K_=/\r\n?/g,Y_=/\u0000|\uFFFD/g;function Cd(r){oe(r);var a=typeof r=="string"?r:""+r;return a.replace(K_,`
`).replace(Y_,"")}function Td(r,a,l,f){var v=Cd(a),b=Cd(r);if(b!==v&&(f&&(Ar||(Ar=!0,c('Text content did not match. Server: "%s" Client: "%s"',b,v))),l&&I))throw new Error("Text content does not match server-rendered HTML.")}function N6(r){return r.nodeType===Li?r:r.ownerDocument}function q_(){}function Nd(r){r.onclick=q_}function W_(r,a,l,f,v){for(var b in f)if(f.hasOwnProperty(b)){var w=f[b];if(b===_o)w&&Object.freeze(w),V3(a,w);else if(b===Hu){var C=w?w[wd]:void 0;C!=null&&P3(a,C)}else if(b===No)if(typeof w=="string"){var k=r!=="textarea"||w!=="";k&&Wf(a,w)}else typeof w=="number"&&Wf(a,""+w);else b===Sd||b===Cs||b===x6||(mt.hasOwnProperty(b)?w!=null&&(typeof w!="function"&&Ed(b,w),b==="onScroll"&&nn("scroll",a)):w!=null&&Na(a,b,w,v))}}function X_(r,a,l,f){for(var v=0;v<a.length;v+=2){var b=a[v],w=a[v+1];b===_o?V3(r,w):b===Hu?P3(r,w):b===No?Wf(r,w):Na(r,b,w,f)}}function Q_(r,a,l,f){var v,b=N6(l),w,C=f;if(C===Mi&&(C=_v(r)),C===Mi){if(v=vo(r,a),!v&&r!==r.toLowerCase()&&c("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",r),r==="script"){var k=b.createElement("div");k.innerHTML="<script><\/script>";var M=k.firstChild;w=k.removeChild(M)}else if(typeof a.is=="string")w=b.createElement(r,{is:a.is});else if(w=b.createElement(r),r==="select"){var L=w;a.multiple?L.multiple=!0:a.size&&(L.size=a.size)}}else w=b.createElementNS(C,r);return C===Mi&&!v&&Object.prototype.toString.call(w)==="[object HTMLUnknownElement]"&&!He.call(H1,r)&&(H1[r]=!0,c("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",r)),w}function J_(r,a){return N6(a).createTextNode(r)}function Z_(r,a,l,f){var v=vo(a,l);xd(a,l);var b;switch(a){case"dialog":nn("cancel",r),nn("close",r),b=l;break;case"iframe":case"object":case"embed":nn("load",r),b=l;break;case"video":case"audio":for(var w=0;w<ju.length;w++)nn(ju[w],r);b=l;break;case"source":nn("error",r),b=l;break;case"img":case"image":case"link":nn("error",r),nn("load",r),b=l;break;case"details":nn("toggle",r),b=l;break;case"input":Kf(r,l),b=su(r,l),nn("invalid",r);break;case"option":Vt(r,l),b=l;break;case"select":lu(r,l),b=cu(r,l),nn("invalid",r);break;case"textarea":I3(r,l),b=Tv(r,l),nn("invalid",r);break;default:b=l}switch(Rv(a,b),W_(a,r,f,b,v),a){case"input":ho(r),ie(r,l,!1);break;case"textarea":ho(r),U3(r);break;case"option":Wt(r,l);break;case"select":Ev(r,l);break;default:typeof b.onClick=="function"&&Nd(r);break}}function ek(r,a,l,f,v){xd(a,f);var b=null,w,C;switch(a){case"input":w=su(r,l),C=su(r,f),b=[];break;case"select":w=cu(r,l),C=cu(r,f),b=[];break;case"textarea":w=Tv(r,l),C=Tv(r,f),b=[];break;default:w=l,C=f,typeof w.onClick!="function"&&typeof C.onClick=="function"&&Nd(r);break}Rv(a,C);var k,M,L=null;for(k in w)if(!(C.hasOwnProperty(k)||!w.hasOwnProperty(k)||w[k]==null))if(k===_o){var W=w[k];for(M in W)W.hasOwnProperty(M)&&(L||(L={}),L[M]="")}else k===Hu||k===No||k===Sd||k===Cs||k===x6||(mt.hasOwnProperty(k)?b||(b=[]):(b=b||[]).push(k,null));for(k in C){var q=C[k],re=w!=null?w[k]:void 0;if(!(!C.hasOwnProperty(k)||q===re||q==null&&re==null))if(k===_o)if(q&&Object.freeze(q),re){for(M in re)re.hasOwnProperty(M)&&(!q||!q.hasOwnProperty(M))&&(L||(L={}),L[M]="");for(M in q)q.hasOwnProperty(M)&&re[M]!==q[M]&&(L||(L={}),L[M]=q[M])}else L||(b||(b=[]),b.push(k,L)),L=q;else if(k===Hu){var se=q?q[wd]:void 0,ue=re?re[wd]:void 0;se!=null&&ue!==se&&(b=b||[]).push(k,se)}else k===No?(typeof q=="string"||typeof q=="number")&&(b=b||[]).push(k,""+q):k===Sd||k===Cs||(mt.hasOwnProperty(k)?(q!=null&&(typeof q!="function"&&Ed(k,q),k==="onScroll"&&nn("scroll",r)),!b&&re!==q&&(b=[])):(b=b||[]).push(k,q))}return L&&(S8(L,C[_o]),(b=b||[]).push(_o,L)),b}function tk(r,a,l,f,v){l==="input"&&v.type==="radio"&&v.name!=null&&A(r,v);var b=vo(l,f),w=vo(l,v);switch(X_(r,a,b,w),l){case"input":z(r,v);break;case"textarea":L3(r,v);break;case"select":Yf(r,v);break}}function nk(r){{var a=r.toLowerCase();return Xf.hasOwnProperty(a)&&Xf[a]||null}}function rk(r,a,l,f,v,b,w){var C,k;switch(C=vo(a,l),xd(a,l),a){case"dialog":nn("cancel",r),nn("close",r);break;case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(var M=0;M<ju.length;M++)nn(ju[M],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"details":nn("toggle",r);break;case"input":Kf(r,l),nn("invalid",r);break;case"option":Vt(r,l);break;case"select":lu(r,l),nn("invalid",r);break;case"textarea":I3(r,l),nn("invalid",r);break}Rv(a,l);{k=new Set;for(var L=r.attributes,W=0;W<L.length;W++){var q=L[W].name.toLowerCase();switch(q){case"value":break;case"checked":break;case"selected":break;default:k.add(L[W].name)}}}var re=null;for(var se in l)if(l.hasOwnProperty(se)){var ue=l[se];if(se===No)typeof ue=="string"?r.textContent!==ue&&(l[Cs]!==!0&&Td(r.textContent,ue,b,w),re=[No,ue]):typeof ue=="number"&&r.textContent!==""+ue&&(l[Cs]!==!0&&Td(r.textContent,ue,b,w),re=[No,""+ue]);else if(mt.hasOwnProperty(se))ue!=null&&(typeof ue!="function"&&Ed(se,ue),se==="onScroll"&&nn("scroll",r));else if(w&&typeof C=="boolean"){var De=void 0,Ye=kt(se);if(l[Cs]!==!0){if(!(se===Sd||se===Cs||se==="value"||se==="checked"||se==="selected")){if(se===Hu){var $e=r.innerHTML,Tt=ue?ue[wd]:void 0;if(Tt!=null){var yt=T6(r,Tt);yt!==$e&&$u(se,$e,yt)}}else if(se===_o){if(k.delete(se),C6){var te=y8(ue);De=r.getAttribute("style"),te!==De&&$u(se,De,te)}}else if(C&&!ge)k.delete(se.toLowerCase()),De=ao(r,se,ue),ue!==De&&$u(se,De,ue);else if(!_t(se,Ye,C)&&!Ot(se,ue,Ye,C)){var fe=!1;if(Ye!==null)k.delete(Ye.attributeName),De=mr(r,se,ue,Ye);else{var ne=f;if(ne===Mi&&(ne=_v(a)),ne===Mi)k.delete(se.toLowerCase());else{var xe=nk(se);xe!==null&&xe!==se&&(fe=!0,k.delete(xe)),k.delete(se)}De=ao(r,se,ue)}var Le=ge;!Le&&ue!==De&&!fe&&$u(se,De,ue)}}}}}switch(w&&k.size>0&&l[Cs]!==!0&&E6(k),a){case"input":ho(r),ie(r,l,!0);break;case"textarea":ho(r),U3(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&Nd(r);break}return re}function ak(r,a,l){var f=r.nodeValue!==a;return f}function $1(r,a){{if(Ar)return;Ar=!0,c("Did not expect server HTML to contain a <%s> in <%s>.",a.nodeName.toLowerCase(),r.nodeName.toLowerCase())}}function G1(r,a){{if(Ar)return;Ar=!0,c('Did not expect server HTML to contain the text node "%s" in <%s>.',a.nodeValue,r.nodeName.toLowerCase())}}function K1(r,a,l){{if(Ar)return;Ar=!0,c("Expected server HTML to contain a matching <%s> in <%s>.",a,r.nodeName.toLowerCase())}}function Y1(r,a){{if(a===""||Ar)return;Ar=!0,c('Expected server HTML to contain a matching text node for "%s" in <%s>.',a,r.nodeName.toLowerCase())}}function ik(r,a,l){switch(a){case"input":le(r,l);return;case"textarea":Z9(r,l);return;case"select":Cv(r,l);return}}var Gu=function(){},Ku=function(){};{var sk=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],_6=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],ok=_6.concat(["button"]),ck=["dd","dt","li","option","optgroup","p","rp","rt"],k6={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Ku=function(r,a){var l=vt({},r||k6),f={tag:a};return _6.indexOf(a)!==-1&&(l.aTagInScope=null,l.buttonTagInScope=null,l.nobrTagInScope=null),ok.indexOf(a)!==-1&&(l.pTagInButtonScope=null),sk.indexOf(a)!==-1&&a!=="address"&&a!=="div"&&a!=="p"&&(l.listItemTagAutoclosing=null,l.dlItemTagAutoclosing=null),l.current=f,a==="form"&&(l.formTag=f),a==="a"&&(l.aTagInScope=f),a==="button"&&(l.buttonTagInScope=f),a==="nobr"&&(l.nobrTagInScope=f),a==="p"&&(l.pTagInButtonScope=f),a==="li"&&(l.listItemTagAutoclosing=f),(a==="dd"||a==="dt")&&(l.dlItemTagAutoclosing=f),l};var lk=function(r,a){switch(a){case"select":return r==="option"||r==="optgroup"||r==="#text";case"optgroup":return r==="option"||r==="#text";case"option":return r==="#text";case"tr":return r==="th"||r==="td"||r==="style"||r==="script"||r==="template";case"tbody":case"thead":case"tfoot":return r==="tr"||r==="style"||r==="script"||r==="template";case"colgroup":return r==="col"||r==="template";case"table":return r==="caption"||r==="colgroup"||r==="tbody"||r==="tfoot"||r==="thead"||r==="style"||r==="script"||r==="template";case"head":return r==="base"||r==="basefont"||r==="bgsound"||r==="link"||r==="meta"||r==="title"||r==="noscript"||r==="noframes"||r==="style"||r==="script"||r==="template";case"html":return r==="head"||r==="body"||r==="frameset";case"frameset":return r==="frame";case"#document":return r==="html"}switch(r){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a!=="h1"&&a!=="h2"&&a!=="h3"&&a!=="h4"&&a!=="h5"&&a!=="h6";case"rp":case"rt":return ck.indexOf(a)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return a==null}return!0},uk=function(r,a){switch(r){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a.pTagInButtonScope;case"form":return a.formTag||a.pTagInButtonScope;case"li":return a.listItemTagAutoclosing;case"dd":case"dt":return a.dlItemTagAutoclosing;case"button":return a.buttonTagInScope;case"a":return a.aTagInScope;case"nobr":return a.nobrTagInScope}return null},D6={};Gu=function(r,a,l){l=l||k6;var f=l.current,v=f&&f.tag;a!=null&&(r!=null&&c("validateDOMNesting: when childText is passed, childTag should be null"),r="#text");var b=lk(r,v)?null:f,w=b?null:uk(r,l),C=b||w;if(C){var k=C.tag,M=!!b+"|"+r+"|"+k;if(!D6[M]){D6[M]=!0;var L=r,W="";if(r==="#text"?/\S/.test(a)?L="Text nodes":(L="Whitespace text nodes",W=" Make sure you don't have any extra whitespace between tags on each line of your source code."):L="<"+r+">",b){var q="";k==="table"&&r==="tr"&&(q+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),c("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",L,k,W,q)}else c("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",L,k)}}}}var _d="suppressHydrationWarning",kd="$",Dd="/$",Yu="$?",qu="$!",fk="style",q1=null,W1=null;function dk(r){var a,l,f=r.nodeType;switch(f){case Li:case Dv:{a=f===Li?"#document":"#fragment";var v=r.documentElement;l=v?v.namespaceURI:kv(null,"");break}default:{var b=f===bn?r.parentNode:r,w=b.namespaceURI||null;a=b.tagName,l=kv(w,a);break}}{var C=a.toLowerCase(),k=Ku(null,C);return{namespace:l,ancestorInfo:k}}}function hk(r,a,l){{var f=r,v=kv(f.namespace,a),b=Ku(f.ancestorInfo,a);return{namespace:v,ancestorInfo:b}}}function IJ(r){return r}function pk(r){q1=f7(),W1=k_();var a=null;return P2(!1),a}function vk(r){D_(W1),P2(q1),q1=null,W1=null}function mk(r,a,l,f,v){var b;{var w=f;if(Gu(r,null,w.ancestorInfo),typeof a.children=="string"||typeof a.children=="number"){var C=""+a.children,k=Ku(w.ancestorInfo,r);Gu(null,C,k)}b=w.namespace}var M=Q_(r,a,l,b);return Qu(v,M),rm(M,a),M}function gk(r,a){r.appendChild(a)}function yk(r,a,l,f,v){switch(Z_(r,a,l,f),a){case"button":case"input":case"select":case"textarea":return!!l.autoFocus;case"img":return!0;default:return!1}}function bk(r,a,l,f,v,b){{var w=b;if(typeof f.children!=typeof l.children&&(typeof f.children=="string"||typeof f.children=="number")){var C=""+f.children,k=Ku(w.ancestorInfo,a);Gu(null,C,k)}}return ek(r,a,l,f)}function X1(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}function Sk(r,a,l,f){{var v=l;Gu(null,r,v.ancestorInfo)}var b=J_(r,a);return Qu(f,b),b}function wk(){var r=window.event;return r===void 0?zi:B2(r.type)}var Q1=typeof setTimeout=="function"?setTimeout:void 0,xk=typeof clearTimeout=="function"?clearTimeout:void 0,J1=-1,A6=typeof Promise=="function"?Promise:void 0,Ek=typeof queueMicrotask=="function"?queueMicrotask:typeof A6<"u"?function(r){return A6.resolve(null).then(r).catch(Ck)}:Q1;function Ck(r){setTimeout(function(){throw r})}function Tk(r,a,l,f){switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();return;case"img":{l.src&&(r.src=l.src);return}}}function Nk(r,a,l,f,v,b){tk(r,a,l,f,v),rm(r,v)}function O6(r){Wf(r,"")}function _k(r,a,l){r.nodeValue=l}function kk(r,a){r.appendChild(a)}function Dk(r,a){var l;r.nodeType===bn?(l=r.parentNode,l.insertBefore(a,r)):(l=r,l.appendChild(a));var f=r._reactRootContainer;f==null&&l.onclick===null&&Nd(l)}function Ak(r,a,l){r.insertBefore(a,l)}function Ok(r,a,l){r.nodeType===bn?r.parentNode.insertBefore(a,l):r.insertBefore(a,l)}function Rk(r,a){r.removeChild(a)}function Mk(r,a){r.nodeType===bn?r.parentNode.removeChild(a):r.removeChild(a)}function Z1(r,a){var l=a,f=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===bn){var b=v.data;if(b===Dd)if(f===0){r.removeChild(v),Au(a);return}else f--;else(b===kd||b===Yu||b===qu)&&f++}l=v}while(l);Au(a)}function Ik(r,a){r.nodeType===bn?Z1(r.parentNode,a):r.nodeType===Dr&&Z1(r,a),Au(r)}function Lk(r){r=r;var a=r.style;typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"}function Uk(r){r.nodeValue=""}function Pk(r,a){r=r;var l=a[fk],f=l!=null&&l.hasOwnProperty("display")?l.display:null;r.style.display=Av("display",f)}function Bk(r,a){r.nodeValue=a}function Fk(r){r.nodeType===Dr?r.textContent="":r.nodeType===Li&&r.documentElement&&r.removeChild(r.documentElement)}function jk(r,a,l){return r.nodeType!==Dr||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r}function zk(r,a){return a===""||r.nodeType!==Ii?null:r}function Vk(r){return r.nodeType!==bn?null:r}function R6(r){return r.data===Yu}function em(r){return r.data===qu}function Hk(r){var a=r.nextSibling&&r.nextSibling.dataset,l,f,v;return a&&(l=a.dgst,f=a.msg,v=a.stck),{message:f,digest:l,stack:v}}function $k(r,a){r._reactRetry=a}function Ad(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===Dr||a===Ii)break;if(a===bn){var l=r.data;if(l===kd||l===qu||l===Yu)break;if(l===Dd)return null}}return r}function Wu(r){return Ad(r.nextSibling)}function Gk(r){return Ad(r.firstChild)}function Kk(r){return Ad(r.firstChild)}function Yk(r){return Ad(r.nextSibling)}function qk(r,a,l,f,v,b,w){Qu(b,r),rm(r,l);var C;{var k=v;C=k.namespace}var M=(b.mode&Et)!==We;return rk(r,a,l,C,f,M,w)}function Wk(r,a,l,f){return Qu(l,r),l.mode&Et,ak(r,a)}function Xk(r,a){Qu(a,r)}function Qk(r){for(var a=r.nextSibling,l=0;a;){if(a.nodeType===bn){var f=a.data;if(f===Dd){if(l===0)return Wu(a);l--}else(f===kd||f===qu||f===Yu)&&l++}a=a.nextSibling}return null}function M6(r){for(var a=r.previousSibling,l=0;a;){if(a.nodeType===bn){var f=a.data;if(f===kd||f===qu||f===Yu){if(l===0)return a;l--}else f===Dd&&l++}a=a.previousSibling}return null}function Jk(r){Au(r)}function Zk(r){Au(r)}function eD(r){return r!=="head"&&r!=="body"}function tD(r,a,l,f){var v=!0;Td(a.nodeValue,l,f,v)}function nD(r,a,l,f,v,b){if(a[_d]!==!0){var w=!0;Td(f.nodeValue,v,b,w)}}function rD(r,a){a.nodeType===Dr?$1(r,a):a.nodeType===bn||G1(r,a)}function aD(r,a){{var l=r.parentNode;l!==null&&(a.nodeType===Dr?$1(l,a):a.nodeType===bn||G1(l,a))}}function iD(r,a,l,f,v){(v||a[_d]!==!0)&&(f.nodeType===Dr?$1(l,f):f.nodeType===bn||G1(l,f))}function sD(r,a,l){K1(r,a)}function oD(r,a){Y1(r,a)}function cD(r,a,l){{var f=r.parentNode;f!==null&&K1(f,a)}}function lD(r,a){{var l=r.parentNode;l!==null&&Y1(l,a)}}function uD(r,a,l,f,v,b){(b||a[_d]!==!0)&&K1(l,f)}function fD(r,a,l,f,v){(v||a[_d]!==!0)&&Y1(l,f)}function dD(r){c("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",r.nodeName.toLowerCase())}function hD(r){zu(r)}var Bc=Math.random().toString(36).slice(2),Fc="__reactFiber$"+Bc,tm="__reactProps$"+Bc,Xu="__reactContainer$"+Bc,nm="__reactEvents$"+Bc,pD="__reactListeners$"+Bc,vD="__reactHandles$"+Bc;function mD(r){delete r[Fc],delete r[tm],delete r[nm],delete r[pD],delete r[vD]}function Qu(r,a){a[Fc]=r}function Od(r,a){a[Xu]=r}function I6(r){r[Xu]=null}function Ju(r){return!!r[Xu]}function ko(r){var a=r[Fc];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Xu]||l[Fc],a){var f=a.alternate;if(a.child!==null||f!==null&&f.child!==null)for(var v=M6(r);v!==null;){var b=v[Fc];if(b)return b;v=M6(v)}return a}r=l,l=r.parentNode}return null}function Ts(r){var a=r[Fc]||r[Xu];return a&&(a.tag===y||a.tag===S||a.tag===D||a.tag===p)?a:null}function jc(r){if(r.tag===y||r.tag===S)return r.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function Rd(r){return r[tm]||null}function rm(r,a){r[tm]=a}function gD(r){var a=r[nm];return a===void 0&&(a=r[nm]=new Set),a}var L6={},U6=n.ReactDebugCurrentFrame;function Md(r){if(r){var a=r._owner,l=eu(r.type,r._source,a?a.type:null);U6.setExtraStackFrame(l)}else U6.setExtraStackFrame(null)}function Ra(r,a,l,f,v){{var b=Function.call.bind(He);for(var w in r)if(b(r,w)){var C=void 0;try{if(typeof r[w]!="function"){var k=Error((f||"React class")+": "+l+" type `"+w+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[w]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw k.name="Invariant Violation",k}C=r[w](a,w,f,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(M){C=M}C&&!(C instanceof Error)&&(Md(v),c("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",f||"React class",l,w,typeof C),Md(null)),C instanceof Error&&!(C.message in L6)&&(L6[C.message]=!0,Md(v),c("Failed %s type: %s",l,C.message),Md(null))}}}var am=[],Id;Id=[];var Vi=-1;function Ns(r){return{current:r}}function sr(r,a){if(Vi<0){c("Unexpected pop.");return}a!==Id[Vi]&&c("Unexpected Fiber popped."),r.current=am[Vi],am[Vi]=null,Id[Vi]=null,Vi--}function or(r,a,l){Vi++,am[Vi]=r.current,Id[Vi]=l,r.current=a}var im;im={};var qr={};Object.freeze(qr);var Hi=Ns(qr),oi=Ns(!1),sm=qr;function zc(r,a,l){return l&&ci(a)?sm:Hi.current}function P6(r,a,l){{var f=r.stateNode;f.__reactInternalMemoizedUnmaskedChildContext=a,f.__reactInternalMemoizedMaskedChildContext=l}}function Vc(r,a){{var l=r.type,f=l.contextTypes;if(!f)return qr;var v=r.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===a)return v.__reactInternalMemoizedMaskedChildContext;var b={};for(var w in f)b[w]=a[w];{var C=ct(r)||"Unknown";Ra(f,b,"context",C)}return v&&P6(r,a,b),b}}function Ld(){return oi.current}function ci(r){{var a=r.childContextTypes;return a!=null}}function Ud(r){sr(oi,r),sr(Hi,r)}function om(r){sr(oi,r),sr(Hi,r)}function B6(r,a,l){{if(Hi.current!==qr)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");or(Hi,a,r),or(oi,l,r)}}function F6(r,a,l){{var f=r.stateNode,v=a.childContextTypes;if(typeof f.getChildContext!="function"){{var b=ct(r)||"Unknown";im[b]||(im[b]=!0,c("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",b,b))}return l}var w=f.getChildContext();for(var C in w)if(!(C in v))throw new Error((ct(r)||"Unknown")+'.getChildContext(): key "'+C+'" is not defined in childContextTypes.');{var k=ct(r)||"Unknown";Ra(v,w,"child context",k)}return vt({},l,w)}}function Pd(r){{var a=r.stateNode,l=a&&a.__reactInternalMemoizedMergedChildContext||qr;return sm=Hi.current,or(Hi,l,r),or(oi,oi.current,r),!0}}function j6(r,a,l){{var f=r.stateNode;if(!f)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(l){var v=F6(r,a,sm);f.__reactInternalMemoizedMergedChildContext=v,sr(oi,r),sr(Hi,r),or(Hi,v,r),or(oi,l,r)}else sr(oi,r),or(oi,l,r)}}function yD(r){{if(!eN(r)||r.tag!==h)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var a=r;do{switch(a.tag){case p:return a.stateNode.context;case h:{var l=a.type;if(ci(l))return a.stateNode.__reactInternalMemoizedMergedChildContext;break}}a=a.return}while(a!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var _s=0,Bd=1,$i=null,cm=!1,lm=!1;function z6(r){$i===null?$i=[r]:$i.push(r)}function bD(r){cm=!0,z6(r)}function V6(){cm&&ks()}function ks(){if(!lm&&$i!==null){lm=!0;var r=0,a=Oa();try{var l=!0,f=$i;for(Vn(Gr);r<f.length;r++){var v=f[r];do v=v(l);while(v!==null)}$i=null,cm=!1}catch(b){throw $i!==null&&($i=$i.slice(r+1)),d2(ed,ks),b}finally{Vn(a),lm=!1}}return null}var Hc=[],$c=0,Fd=null,jd=0,ca=[],la=0,Do=null,Gi=1,Ki="";function SD(r){return Oo(),(r.flags&a2)!==et}function wD(r){return Oo(),jd}function xD(){var r=Ki,a=Gi,l=a&~ED(a);return l.toString(32)+r}function Ao(r,a){Oo(),Hc[$c++]=jd,Hc[$c++]=Fd,Fd=r,jd=a}function H6(r,a,l){Oo(),ca[la++]=Gi,ca[la++]=Ki,ca[la++]=Do,Do=r;var f=Gi,v=Ki,b=zd(f)-1,w=f&~(1<<b),C=l+1,k=zd(a)+b;if(k>30){var M=b-b%5,L=(1<<M)-1,W=(w&L).toString(32),q=w>>M,re=b-M,se=zd(a)+re,ue=C<<re,De=ue|q,Ye=W+v;Gi=1<<se|De,Ki=Ye}else{var $e=C<<b,Tt=$e|w,yt=v;Gi=1<<k|Tt,Ki=yt}}function um(r){Oo();var a=r.return;if(a!==null){var l=1,f=0;Ao(r,l),H6(r,l,f)}}function zd(r){return 32-y2(r)}function ED(r){return 1<<zd(r)-1}function fm(r){for(;r===Fd;)Fd=Hc[--$c],Hc[$c]=null,jd=Hc[--$c],Hc[$c]=null;for(;r===Do;)Do=ca[--la],ca[la]=null,Ki=ca[--la],ca[la]=null,Gi=ca[--la],ca[la]=null}function CD(){return Oo(),Do!==null?{id:Gi,overflow:Ki}:null}function TD(r,a){Oo(),ca[la++]=Gi,ca[la++]=Ki,ca[la++]=Do,Gi=a.id,Ki=a.overflow,Do=r}function Oo(){Kn()||c("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Gn=null,ua=null,Ma=!1,Ro=!1,Ds=null;function ND(){Ma&&c("We should not be hydrating here. This is a bug in React. Please file a bug.")}function $6(){Ro=!0}function _D(){return Ro}function kD(r){var a=r.stateNode.containerInfo;return ua=Kk(a),Gn=r,Ma=!0,Ds=null,Ro=!1,!0}function DD(r,a,l){return ua=Yk(a),Gn=r,Ma=!0,Ds=null,Ro=!1,l!==null&&TD(r,l),!0}function G6(r,a){switch(r.tag){case p:{rD(r.stateNode.containerInfo,a);break}case y:{var l=(r.mode&Et)!==We;iD(r.type,r.memoizedProps,r.stateNode,a,l);break}case D:{var f=r.memoizedState;f.dehydrated!==null&&aD(f.dehydrated,a);break}}}function K6(r,a){G6(r,a);var l=MR();l.stateNode=a,l.return=r;var f=r.deletions;f===null?(r.deletions=[l],r.flags|=mo):f.push(l)}function dm(r,a){{if(Ro)return;switch(r.tag){case p:{var l=r.stateNode.containerInfo;switch(a.tag){case y:var f=a.type;a.pendingProps,sD(l,f);break;case S:var v=a.pendingProps;oD(l,v);break}break}case y:{var b=r.type,w=r.memoizedProps,C=r.stateNode;switch(a.tag){case y:{var k=a.type,M=a.pendingProps,L=(r.mode&Et)!==We;uD(b,w,C,k,M,L);break}case S:{var W=a.pendingProps,q=(r.mode&Et)!==We;fD(b,w,C,W,q);break}}break}case D:{var re=r.memoizedState,se=re.dehydrated;if(se!==null)switch(a.tag){case y:var ue=a.type;a.pendingProps,cD(se,ue);break;case S:var De=a.pendingProps;lD(se,De);break}break}default:return}}}function Y6(r,a){a.flags=a.flags&~Pi|Sn,dm(r,a)}function q6(r,a){switch(r.tag){case y:{var l=r.type;r.pendingProps;var f=jk(a,l);return f!==null?(r.stateNode=f,Gn=r,ua=Gk(f),!0):!1}case S:{var v=r.pendingProps,b=zk(a,v);return b!==null?(r.stateNode=b,Gn=r,ua=null,!0):!1}case D:{var w=Vk(a);if(w!==null){var C={dehydrated:w,treeContext:CD(),retryLane:Hr};r.memoizedState=C;var k=IR(w);return k.return=r,r.child=k,Gn=r,ua=null,!0}return!1}default:return!1}}function hm(r){return(r.mode&Et)!==We&&(r.flags&Pt)===et}function pm(r){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function vm(r){if(Ma){var a=ua;if(!a){hm(r)&&(dm(Gn,r),pm()),Y6(Gn,r),Ma=!1,Gn=r;return}var l=a;if(!q6(r,a)){hm(r)&&(dm(Gn,r),pm()),a=Wu(l);var f=Gn;if(!a||!q6(r,a)){Y6(Gn,r),Ma=!1,Gn=r;return}K6(f,l)}}}function AD(r,a,l){var f=r.stateNode,v=!Ro,b=qk(f,r.type,r.memoizedProps,a,l,r,v);return r.updateQueue=b,b!==null}function OD(r){var a=r.stateNode,l=r.memoizedProps,f=Wk(a,l,r);if(f){var v=Gn;if(v!==null)switch(v.tag){case p:{var b=v.stateNode.containerInfo,w=(v.mode&Et)!==We;tD(b,a,l,w);break}case y:{var C=v.type,k=v.memoizedProps,M=v.stateNode,L=(v.mode&Et)!==We;nD(C,k,M,a,l,L);break}}}return f}function RD(r){var a=r.memoizedState,l=a!==null?a.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Xk(l,r)}function MD(r){var a=r.memoizedState,l=a!==null?a.dehydrated:null;if(!l)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return Qk(l)}function W6(r){for(var a=r.return;a!==null&&a.tag!==y&&a.tag!==p&&a.tag!==D;)a=a.return;Gn=a}function Vd(r){if(r!==Gn)return!1;if(!Ma)return W6(r),Ma=!0,!1;if(r.tag!==p&&(r.tag!==y||eD(r.type)&&!X1(r.type,r.memoizedProps))){var a=ua;if(a)if(hm(r))X6(r),pm();else for(;a;)K6(r,a),a=Wu(a)}return W6(r),r.tag===D?ua=MD(r):ua=Gn?Wu(r.stateNode):null,!0}function ID(){return Ma&&ua!==null}function X6(r){for(var a=ua;a;)G6(r,a),a=Wu(a)}function Gc(){Gn=null,ua=null,Ma=!1,Ro=!1}function Q6(){Ds!==null&&($4(Ds),Ds=null)}function Kn(){return Ma}function mm(r){Ds===null?Ds=[r]:Ds.push(r)}var LD=n.ReactCurrentBatchConfig,UD=null;function PD(){return LD.transition}var Ia={recordUnsafeLifecycleWarnings:function(r,a){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(r,a){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var BD=function(r){for(var a=null,l=r;l!==null;)l.mode&ln&&(a=l),l=l.return;return a},Mo=function(r){var a=[];return r.forEach(function(l){a.push(l)}),a.sort().join(", ")},Zu=[],e0=[],t0=[],n0=[],r0=[],a0=[],Io=new Set;Ia.recordUnsafeLifecycleWarnings=function(r,a){Io.has(r.type)||(typeof a.componentWillMount=="function"&&a.componentWillMount.__suppressDeprecationWarning!==!0&&Zu.push(r),r.mode&ln&&typeof a.UNSAFE_componentWillMount=="function"&&e0.push(r),typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&t0.push(r),r.mode&ln&&typeof a.UNSAFE_componentWillReceiveProps=="function"&&n0.push(r),typeof a.componentWillUpdate=="function"&&a.componentWillUpdate.__suppressDeprecationWarning!==!0&&r0.push(r),r.mode&ln&&typeof a.UNSAFE_componentWillUpdate=="function"&&a0.push(r))},Ia.flushPendingUnsafeLifecycleWarnings=function(){var r=new Set;Zu.length>0&&(Zu.forEach(function(q){r.add(ct(q)||"Component"),Io.add(q.type)}),Zu=[]);var a=new Set;e0.length>0&&(e0.forEach(function(q){a.add(ct(q)||"Component"),Io.add(q.type)}),e0=[]);var l=new Set;t0.length>0&&(t0.forEach(function(q){l.add(ct(q)||"Component"),Io.add(q.type)}),t0=[]);var f=new Set;n0.length>0&&(n0.forEach(function(q){f.add(ct(q)||"Component"),Io.add(q.type)}),n0=[]);var v=new Set;r0.length>0&&(r0.forEach(function(q){v.add(ct(q)||"Component"),Io.add(q.type)}),r0=[]);var b=new Set;if(a0.length>0&&(a0.forEach(function(q){b.add(ct(q)||"Component"),Io.add(q.type)}),a0=[]),a.size>0){var w=Mo(a);c(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,w)}if(f.size>0){var C=Mo(f);c(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,C)}if(b.size>0){var k=Mo(b);c(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,k)}if(r.size>0){var M=Mo(r);o(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,M)}if(l.size>0){var L=Mo(l);o(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,L)}if(v.size>0){var W=Mo(v);o(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,W)}};var Hd=new Map,J6=new Set;Ia.recordLegacyContextWarning=function(r,a){var l=BD(r);if(l===null){c("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!J6.has(r.type)){var f=Hd.get(l);(r.type.contextTypes!=null||r.type.childContextTypes!=null||a!==null&&typeof a.getChildContext=="function")&&(f===void 0&&(f=[],Hd.set(l,f)),f.push(r))}},Ia.flushLegacyContextWarning=function(){Hd.forEach(function(r,a){if(r.length!==0){var l=r[0],f=new Set;r.forEach(function(b){f.add(ct(b)||"Component"),J6.add(b.type)});var v=Mo(f);try{rn(l),c(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,v)}finally{Bn()}}})},Ia.discardPendingWarnings=function(){Zu=[],e0=[],t0=[],n0=[],r0=[],a0=[],Hd=new Map}}var gm,ym,bm,Sm,wm,Z6=function(r,a){};gm=!1,ym=!1,bm={},Sm={},wm={},Z6=function(r,a){if(!(r===null||typeof r!="object")&&!(!r._store||r._store.validated||r.key!=null)){if(typeof r._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");r._store.validated=!0;var l=ct(a)||"Component";Sm[l]||(Sm[l]=!0,c('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function FD(r){return r.prototype&&r.prototype.isReactComponent}function i0(r,a,l){var f=l.ref;if(f!==null&&typeof f!="function"&&typeof f!="object"){if((r.mode&ln||Te)&&!(l._owner&&l._self&&l._owner.stateNode!==l._self)&&!(l._owner&&l._owner.tag!==h)&&!(typeof l.type=="function"&&!FD(l.type))&&l._owner){var v=ct(r)||"Component";bm[v]||(c('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',v,f),bm[v]=!0)}if(l._owner){var b=l._owner,w;if(b){var C=b;if(C.tag!==h)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");w=C.stateNode}if(!w)throw new Error("Missing owner for string ref "+f+". This error is likely caused by a bug in React. Please file an issue.");var k=w;$n(f,"ref");var M=""+f;if(a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===M)return a.ref;var L=function(W){var q=k.refs;W===null?delete q[M]:q[M]=W};return L._stringRef=M,L}else{if(typeof f!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!l._owner)throw new Error("Element ref was specified as a string ("+f+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return f}function $d(r,a){var l=Object.prototype.toString.call(a);throw new Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.")}function Gd(r){{var a=ct(r)||"Component";if(wm[a])return;wm[a]=!0,c("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function e5(r){var a=r._payload,l=r._init;return l(a)}function t5(r){function a(te,fe){if(r){var ne=te.deletions;ne===null?(te.deletions=[fe],te.flags|=mo):ne.push(fe)}}function l(te,fe){if(!r)return null;for(var ne=fe;ne!==null;)a(te,ne),ne=ne.sibling;return null}function f(te,fe){for(var ne=new Map,xe=fe;xe!==null;)xe.key!==null?ne.set(xe.key,xe):ne.set(xe.index,xe),xe=xe.sibling;return ne}function v(te,fe){var ne=Ho(te,fe);return ne.index=0,ne.sibling=null,ne}function b(te,fe,ne){if(te.index=ne,!r)return te.flags|=a2,fe;var xe=te.alternate;if(xe!==null){var Le=xe.index;return Le<fe?(te.flags|=Sn,fe):Le}else return te.flags|=Sn,fe}function w(te){return r&&te.alternate===null&&(te.flags|=Sn),te}function C(te,fe,ne,xe){if(fe===null||fe.tag!==S){var Le=my(ne,te.mode,xe);return Le.return=te,Le}else{var Ae=v(fe,ne);return Ae.return=te,Ae}}function k(te,fe,ne,xe){var Le=ne.type;if(Le===ti)return L(te,fe,ne.props.children,xe,ne.key);if(fe!==null&&(fe.elementType===Le||sS(fe,ne)||typeof Le=="object"&&Le!==null&&Le.$$typeof===qe&&e5(Le)===fe.type)){var Ae=v(fe,ne.props);return Ae.ref=i0(te,fe,ne),Ae.return=te,Ae._debugSource=ne._source,Ae._debugOwner=ne._owner,Ae}var tt=vy(ne,te.mode,xe);return tt.ref=i0(te,fe,ne),tt.return=te,tt}function M(te,fe,ne,xe){if(fe===null||fe.tag!==g||fe.stateNode.containerInfo!==ne.containerInfo||fe.stateNode.implementation!==ne.implementation){var Le=gy(ne,te.mode,xe);return Le.return=te,Le}else{var Ae=v(fe,ne.children||[]);return Ae.return=te,Ae}}function L(te,fe,ne,xe,Le){if(fe===null||fe.tag!==x){var Ae=js(ne,te.mode,xe,Le);return Ae.return=te,Ae}else{var tt=v(fe,ne);return tt.return=te,tt}}function W(te,fe,ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number"){var xe=my(""+fe,te.mode,ne);return xe.return=te,xe}if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case sa:{var Le=vy(fe,te.mode,ne);return Le.ref=i0(te,null,fe),Le.return=te,Le}case Vr:{var Ae=gy(fe,te.mode,ne);return Ae.return=te,Ae}case qe:{var tt=fe._payload,st=fe._init;return W(te,st(tt),ne)}}if(gt(fe)||ka(fe)){var Gt=js(fe,te.mode,ne,null);return Gt.return=te,Gt}$d(te,fe)}return typeof fe=="function"&&Gd(te),null}function q(te,fe,ne,xe){var Le=fe!==null?fe.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Le!==null?null:C(te,fe,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case sa:return ne.key===Le?k(te,fe,ne,xe):null;case Vr:return ne.key===Le?M(te,fe,ne,xe):null;case qe:{var Ae=ne._payload,tt=ne._init;return q(te,fe,tt(Ae),xe)}}if(gt(ne)||ka(ne))return Le!==null?null:L(te,fe,ne,xe,null);$d(te,ne)}return typeof ne=="function"&&Gd(te),null}function re(te,fe,ne,xe,Le){if(typeof xe=="string"&&xe!==""||typeof xe=="number"){var Ae=te.get(ne)||null;return C(fe,Ae,""+xe,Le)}if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case sa:{var tt=te.get(xe.key===null?ne:xe.key)||null;return k(fe,tt,xe,Le)}case Vr:{var st=te.get(xe.key===null?ne:xe.key)||null;return M(fe,st,xe,Le)}case qe:var Gt=xe._payload,Rt=xe._init;return re(te,fe,ne,Rt(Gt),Le)}if(gt(xe)||ka(xe)){var pn=te.get(ne)||null;return L(fe,pn,xe,Le,null)}$d(fe,xe)}return typeof xe=="function"&&Gd(fe),null}function se(te,fe,ne){{if(typeof te!="object"||te===null)return fe;switch(te.$$typeof){case sa:case Vr:Z6(te,ne);var xe=te.key;if(typeof xe!="string")break;if(fe===null){fe=new Set,fe.add(xe);break}if(!fe.has(xe)){fe.add(xe);break}c("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",xe);break;case qe:var Le=te._payload,Ae=te._init;se(Ae(Le),fe,ne);break}}return fe}function ue(te,fe,ne,xe){for(var Le=null,Ae=0;Ae<ne.length;Ae++){var tt=ne[Ae];Le=se(tt,Le,te)}for(var st=null,Gt=null,Rt=fe,pn=0,Mt=0,un=null;Rt!==null&&Mt<ne.length;Mt++){Rt.index>Mt?(un=Rt,Rt=null):un=Rt.sibling;var lr=q(te,Rt,ne[Mt],xe);if(lr===null){Rt===null&&(Rt=un);break}r&&Rt&&lr.alternate===null&&a(te,Rt),pn=b(lr,pn,Mt),Gt===null?st=lr:Gt.sibling=lr,Gt=lr,Rt=un}if(Mt===ne.length){if(l(te,Rt),Kn()){var Zn=Mt;Ao(te,Zn)}return st}if(Rt===null){for(;Mt<ne.length;Mt++){var Xr=W(te,ne[Mt],xe);Xr!==null&&(pn=b(Xr,pn,Mt),Gt===null?st=Xr:Gt.sibling=Xr,Gt=Xr)}if(Kn()){var Cr=Mt;Ao(te,Cr)}return st}for(var Tr=f(te,Rt);Mt<ne.length;Mt++){var ur=re(Tr,te,Mt,ne[Mt],xe);ur!==null&&(r&&ur.alternate!==null&&Tr.delete(ur.key===null?Mt:ur.key),pn=b(ur,pn,Mt),Gt===null?st=ur:Gt.sibling=ur,Gt=ur)}if(r&&Tr.forEach(function(ul){return a(te,ul)}),Kn()){var Zi=Mt;Ao(te,Zi)}return st}function De(te,fe,ne,xe){var Le=ka(ne);if(typeof Le!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&ne[Symbol.toStringTag]==="Generator"&&(ym||c("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),ym=!0),ne.entries===Le&&(gm||c("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),gm=!0);var Ae=Le.call(ne);if(Ae)for(var tt=null,st=Ae.next();!st.done;st=Ae.next()){var Gt=st.value;tt=se(Gt,tt,te)}}var Rt=Le.call(ne);if(Rt==null)throw new Error("An iterable object provided no iterator.");for(var pn=null,Mt=null,un=fe,lr=0,Zn=0,Xr=null,Cr=Rt.next();un!==null&&!Cr.done;Zn++,Cr=Rt.next()){un.index>Zn?(Xr=un,un=null):Xr=un.sibling;var Tr=q(te,un,Cr.value,xe);if(Tr===null){un===null&&(un=Xr);break}r&&un&&Tr.alternate===null&&a(te,un),lr=b(Tr,lr,Zn),Mt===null?pn=Tr:Mt.sibling=Tr,Mt=Tr,un=Xr}if(Cr.done){if(l(te,un),Kn()){var ur=Zn;Ao(te,ur)}return pn}if(un===null){for(;!Cr.done;Zn++,Cr=Rt.next()){var Zi=W(te,Cr.value,xe);Zi!==null&&(lr=b(Zi,lr,Zn),Mt===null?pn=Zi:Mt.sibling=Zi,Mt=Zi)}if(Kn()){var ul=Zn;Ao(te,ul)}return pn}for(var P0=f(te,un);!Cr.done;Zn++,Cr=Rt.next()){var mi=re(P0,te,Zn,Cr.value,xe);mi!==null&&(r&&mi.alternate!==null&&P0.delete(mi.key===null?Zn:mi.key),lr=b(mi,lr,Zn),Mt===null?pn=mi:Mt.sibling=mi,Mt=mi)}if(r&&P0.forEach(function(fM){return a(te,fM)}),Kn()){var uM=Zn;Ao(te,uM)}return pn}function Ye(te,fe,ne,xe){if(fe!==null&&fe.tag===S){l(te,fe.sibling);var Le=v(fe,ne);return Le.return=te,Le}l(te,fe);var Ae=my(ne,te.mode,xe);return Ae.return=te,Ae}function $e(te,fe,ne,xe){for(var Le=ne.key,Ae=fe;Ae!==null;){if(Ae.key===Le){var tt=ne.type;if(tt===ti){if(Ae.tag===x){l(te,Ae.sibling);var st=v(Ae,ne.props.children);return st.return=te,st._debugSource=ne._source,st._debugOwner=ne._owner,st}}else if(Ae.elementType===tt||sS(Ae,ne)||typeof tt=="object"&&tt!==null&&tt.$$typeof===qe&&e5(tt)===Ae.type){l(te,Ae.sibling);var Gt=v(Ae,ne.props);return Gt.ref=i0(te,Ae,ne),Gt.return=te,Gt._debugSource=ne._source,Gt._debugOwner=ne._owner,Gt}l(te,Ae);break}else a(te,Ae);Ae=Ae.sibling}if(ne.type===ti){var Rt=js(ne.props.children,te.mode,xe,ne.key);return Rt.return=te,Rt}else{var pn=vy(ne,te.mode,xe);return pn.ref=i0(te,fe,ne),pn.return=te,pn}}function Tt(te,fe,ne,xe){for(var Le=ne.key,Ae=fe;Ae!==null;){if(Ae.key===Le)if(Ae.tag===g&&Ae.stateNode.containerInfo===ne.containerInfo&&Ae.stateNode.implementation===ne.implementation){l(te,Ae.sibling);var tt=v(Ae,ne.children||[]);return tt.return=te,tt}else{l(te,Ae);break}else a(te,Ae);Ae=Ae.sibling}var st=gy(ne,te.mode,xe);return st.return=te,st}function yt(te,fe,ne,xe){var Le=typeof ne=="object"&&ne!==null&&ne.type===ti&&ne.key===null;if(Le&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case sa:return w($e(te,fe,ne,xe));case Vr:return w(Tt(te,fe,ne,xe));case qe:var Ae=ne._payload,tt=ne._init;return yt(te,fe,tt(Ae),xe)}if(gt(ne))return ue(te,fe,ne,xe);if(ka(ne))return De(te,fe,ne,xe);$d(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?w(Ye(te,fe,""+ne,xe)):(typeof ne=="function"&&Gd(te),l(te,fe))}return yt}var Kc=t5(!0),n5=t5(!1);function jD(r,a){if(r!==null&&a.child!==r.child)throw new Error("Resuming work not yet implemented.");if(a.child!==null){var l=a.child,f=Ho(l,l.pendingProps);for(a.child=f,f.return=a;l.sibling!==null;)l=l.sibling,f=f.sibling=Ho(l,l.pendingProps),f.return=a;f.sibling=null}}function zD(r,a){for(var l=r.child;l!==null;)kR(l,a),l=l.sibling}var xm=Ns(null),Em;Em={};var Kd=null,Yc=null,Cm=null,Yd=!1;function qd(){Kd=null,Yc=null,Cm=null,Yd=!1}function r5(){Yd=!0}function a5(){Yd=!1}function i5(r,a,l){or(xm,a._currentValue,r),a._currentValue=l,a._currentRenderer!==void 0&&a._currentRenderer!==null&&a._currentRenderer!==Em&&c("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),a._currentRenderer=Em}function Tm(r,a){var l=xm.current;sr(xm,a),r._currentValue=l}function Nm(r,a,l){for(var f=r;f!==null;){var v=f.alternate;if(Oc(f.childLanes,a)?v!==null&&!Oc(v.childLanes,a)&&(v.childLanes=ht(v.childLanes,a)):(f.childLanes=ht(f.childLanes,a),v!==null&&(v.childLanes=ht(v.childLanes,a))),f===l)break;f=f.return}f!==l&&c("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function VD(r,a,l){HD(r,a,l)}function HD(r,a,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var v=void 0,b=f.dependencies;if(b!==null){v=f.child;for(var w=b.firstContext;w!==null;){if(w.context===a){if(f.tag===h){var C=Eu(l),k=Yi(Qt,C);k.tag=Xd;var M=f.updateQueue;if(M!==null){var L=M.shared,W=L.pending;W===null?k.next=k:(k.next=W.next,W.next=k),L.pending=k}}f.lanes=ht(f.lanes,l);var q=f.alternate;q!==null&&(q.lanes=ht(q.lanes,l)),Nm(f.return,l,r),b.lanes=ht(b.lanes,l);break}w=w.next}}else if(f.tag===T)v=f.type===r.type?null:f.child;else if(f.tag===H){var re=f.return;if(re===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");re.lanes=ht(re.lanes,l);var se=re.alternate;se!==null&&(se.lanes=ht(se.lanes,l)),Nm(re,l,r),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===r){v=null;break}var ue=v.sibling;if(ue!==null){ue.return=v.return,v=ue;break}v=v.return}f=v}}function qc(r,a){Kd=r,Yc=null,Cm=null;var l=r.dependencies;if(l!==null){var f=l.firstContext;f!==null&&($r(l.lanes,a)&&S0(),l.firstContext=null)}}function wn(r){Yd&&c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var a=r._currentValue;if(Cm!==r){var l={context:r,memoizedValue:a,next:null};if(Yc===null){if(Kd===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Yc=l,Kd.dependencies={lanes:ye,firstContext:l}}else Yc=Yc.next=l}return a}var Lo=null;function _m(r){Lo===null?Lo=[r]:Lo.push(r)}function $D(){if(Lo!==null){for(var r=0;r<Lo.length;r++){var a=Lo[r],l=a.interleaved;if(l!==null){a.interleaved=null;var f=l.next,v=a.pending;if(v!==null){var b=v.next;v.next=f,l.next=b}a.pending=l}}Lo=null}}function s5(r,a,l,f){var v=a.interleaved;return v===null?(l.next=l,_m(a)):(l.next=v.next,v.next=l),a.interleaved=l,Wd(r,f)}function GD(r,a,l,f){var v=a.interleaved;v===null?(l.next=l,_m(a)):(l.next=v.next,v.next=l),a.interleaved=l}function KD(r,a,l,f){var v=a.interleaved;return v===null?(l.next=l,_m(a)):(l.next=v.next,v.next=l),a.interleaved=l,Wd(r,f)}function Or(r,a){return Wd(r,a)}var YD=Wd;function Wd(r,a){r.lanes=ht(r.lanes,a);var l=r.alternate;l!==null&&(l.lanes=ht(l.lanes,a)),l===null&&(r.flags&(Sn|Pi))!==et&&nS(r);for(var f=r,v=r.return;v!==null;)v.childLanes=ht(v.childLanes,a),l=v.alternate,l!==null?l.childLanes=ht(l.childLanes,a):(v.flags&(Sn|Pi))!==et&&nS(r),f=v,v=v.return;if(f.tag===p){var b=f.stateNode;return b}else return null}var o5=0,c5=1,Xd=2,km=3,Qd=!1,Dm,Jd;Dm=!1,Jd=null;function Am(r){var a={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:ye},effects:null};r.updateQueue=a}function l5(r,a){var l=a.updateQueue,f=r.updateQueue;if(l===f){var v={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects};a.updateQueue=v}}function Yi(r,a){var l={eventTime:r,lane:a,tag:o5,payload:null,callback:null,next:null};return l}function As(r,a,l){var f=r.updateQueue;if(f===null)return null;var v=f.shared;if(Jd===v&&!Dm&&(c("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Dm=!0),GO()){var b=v.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),v.pending=a,YD(r,l)}else return KD(r,v,a,l)}function Zd(r,a,l){var f=a.updateQueue;if(f!==null){var v=f.shared;if(x2(l)){var b=v.lanes;b=C2(b,r.pendingLanes);var w=ht(b,l);v.lanes=w,x1(r,w)}}}function Om(r,a){var l=r.updateQueue,f=r.alternate;if(f!==null){var v=f.updateQueue;if(l===v){var b=null,w=null,C=l.firstBaseUpdate;if(C!==null){var k=C;do{var M={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};w===null?b=w=M:(w.next=M,w=M),k=k.next}while(k!==null);w===null?b=w=a:(w.next=a,w=a)}else b=w=a;l={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:v.shared,effects:v.effects},r.updateQueue=l;return}}var L=l.lastBaseUpdate;L===null?l.firstBaseUpdate=a:L.next=a,l.lastBaseUpdate=a}function qD(r,a,l,f,v,b){switch(l.tag){case c5:{var w=l.payload;if(typeof w=="function"){r5();var C=w.call(b,f,v);{if(r.mode&ln){jn(!0);try{w.call(b,f,v)}finally{jn(!1)}}a5()}return C}return w}case km:r.flags=r.flags&~Sr|Pt;case o5:{var k=l.payload,M;if(typeof k=="function"){r5(),M=k.call(b,f,v);{if(r.mode&ln){jn(!0);try{k.call(b,f,v)}finally{jn(!1)}}a5()}}else M=k;return M==null?f:vt({},f,M)}case Xd:return Qd=!0,f}return f}function eh(r,a,l,f){var v=r.updateQueue;Qd=!1,Jd=v.shared;var b=v.firstBaseUpdate,w=v.lastBaseUpdate,C=v.shared.pending;if(C!==null){v.shared.pending=null;var k=C,M=k.next;k.next=null,w===null?b=M:w.next=M,w=k;var L=r.alternate;if(L!==null){var W=L.updateQueue,q=W.lastBaseUpdate;q!==w&&(q===null?W.firstBaseUpdate=M:q.next=M,W.lastBaseUpdate=k)}}if(b!==null){var re=v.baseState,se=ye,ue=null,De=null,Ye=null,$e=b;do{var Tt=$e.lane,yt=$e.eventTime;if(Oc(f,Tt)){if(Ye!==null){var fe={eventTime:yt,lane:zn,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null};Ye=Ye.next=fe}re=qD(r,v,$e,re,a,l);var ne=$e.callback;if(ne!==null&&$e.lane!==zn){r.flags|=r2;var xe=v.effects;xe===null?v.effects=[$e]:xe.push($e)}}else{var te={eventTime:yt,lane:Tt,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null};Ye===null?(De=Ye=te,ue=re):Ye=Ye.next=te,se=ht(se,Tt)}if($e=$e.next,$e===null){if(C=v.shared.pending,C===null)break;var Le=C,Ae=Le.next;Le.next=null,$e=Ae,v.lastBaseUpdate=Le,v.shared.pending=null}}while(!0);Ye===null&&(ue=re),v.baseState=ue,v.firstBaseUpdate=De,v.lastBaseUpdate=Ye;var tt=v.shared.interleaved;if(tt!==null){var st=tt;do se=ht(se,st.lane),st=st.next;while(st!==tt)}else b===null&&(v.shared.lanes=ye);R0(se),r.lanes=se,r.memoizedState=re}Jd=null}function WD(r,a){if(typeof r!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+r));r.call(a)}function u5(){Qd=!1}function th(){return Qd}function f5(r,a,l){var f=a.effects;if(a.effects=null,f!==null)for(var v=0;v<f.length;v++){var b=f[v],w=b.callback;w!==null&&(b.callback=null,WD(w,l))}}var s0={},Os=Ns(s0),o0=Ns(s0),nh=Ns(s0);function rh(r){if(r===s0)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return r}function d5(){var r=rh(nh.current);return r}function Rm(r,a){or(nh,a,r),or(o0,r,r),or(Os,s0,r);var l=dk(a);sr(Os,r),or(Os,l,r)}function Wc(r){sr(Os,r),sr(o0,r),sr(nh,r)}function Mm(){var r=rh(Os.current);return r}function h5(r){rh(nh.current);var a=rh(Os.current),l=hk(a,r.type);a!==l&&(or(o0,r,r),or(Os,l,r))}function Im(r){o0.current===r&&(sr(Os,r),sr(o0,r))}var XD=0,p5=1,v5=1,c0=2,La=Ns(XD);function Lm(r,a){return(r&a)!==0}function Xc(r){return r&p5}function Um(r,a){return r&p5|a}function QD(r,a){return r|a}function Rs(r,a){or(La,a,r)}function Qc(r){sr(La,r)}function JD(r,a){var l=r.memoizedState;return l!==null?l.dehydrated!==null:(r.memoizedProps,!0)}function ah(r){for(var a=r;a!==null;){if(a.tag===D){var l=a.memoizedState;if(l!==null){var f=l.dehydrated;if(f===null||R6(f)||em(f))return a}}else if(a.tag===Y&&a.memoizedProps.revealOrder!==void 0){var v=(a.flags&Pt)!==et;if(v)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)return null;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rr=0,kn=1,li=2,Dn=4,Yn=8,Pm=[];function Bm(){for(var r=0;r<Pm.length;r++){var a=Pm[r];a._workInProgressVersionPrimary=null}Pm.length=0}function ZD(r,a){var l=a._getVersion,f=l(a._source);r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,f]:r.mutableSourceEagerHydrationData.push(a,f)}var Re=n.ReactCurrentDispatcher,l0=n.ReactCurrentBatchConfig,Fm,Jc;Fm=new Set;var Uo=ye,$t=null,An=null,On=null,ih=!1,u0=!1,f0=0,eA=0,tA=25,de=null,fa=null,Ms=-1,jm=!1;function Ft(){{var r=de;fa===null?fa=[r]:fa.push(r)}}function Ne(){{var r=de;fa!==null&&(Ms++,fa[Ms]!==r&&nA(r))}}function Zc(r){r!=null&&!gt(r)&&c("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",de,typeof r)}function nA(r){{var a=ct($t);if(!Fm.has(a)&&(Fm.add(a),fa!==null)){for(var l="",f=30,v=0;v<=Ms;v++){for(var b=fa[v],w=v===Ms?r:b,C=v+1+". "+b;C.length<f;)C+=" ";C+=w+`
`,l+=C}c(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,a,l)}}}function cr(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function zm(r,a){if(jm)return!1;if(a===null)return c("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",de),!1;r.length!==a.length&&c(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,de,"["+a.join(", ")+"]","["+r.join(", ")+"]");for(var l=0;l<a.length&&l<r.length;l++)if(!Yr(r[l],a[l]))return!1;return!0}function el(r,a,l,f,v,b){Uo=b,$t=a,fa=r!==null?r._debugHookTypes:null,Ms=-1,jm=r!==null&&r.type!==a.type,a.memoizedState=null,a.updateQueue=null,a.lanes=ye,r!==null&&r.memoizedState!==null?Re.current=P5:fa!==null?Re.current=U5:Re.current=L5;var w=l(f,v);if(u0){var C=0;do{if(u0=!1,f0=0,C>=tA)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");C+=1,jm=!1,An=null,On=null,a.updateQueue=null,Ms=-1,Re.current=B5,w=l(f,v)}while(u0)}Re.current=yh,a._debugHookTypes=fa;var k=An!==null&&An.next!==null;if(Uo=ye,$t=null,An=null,On=null,de=null,fa=null,Ms=-1,r!==null&&(r.flags&Bi)!==(a.flags&Bi)&&(r.mode&Et)!==We&&c("Internal React error: Expected static flag was missing. Please notify the React team."),ih=!1,k)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return w}function tl(){var r=f0!==0;return f0=0,r}function m5(r,a,l){a.updateQueue=r.updateQueue,(a.mode&ii)!==We?a.flags&=-50333701:a.flags&=-2053,r.lanes=sd(r.lanes,l)}function g5(){if(Re.current=yh,ih){for(var r=$t.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ih=!1}Uo=ye,$t=null,An=null,On=null,fa=null,Ms=-1,de=null,A5=!1,u0=!1,f0=0}function ui(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?$t.memoizedState=On=r:On=On.next=r,On}function da(){var r;if(An===null){var a=$t.alternate;a!==null?r=a.memoizedState:r=null}else r=An.next;var l;if(On===null?l=$t.memoizedState:l=On.next,l!==null)On=l,l=On.next,An=r;else{if(r===null)throw new Error("Rendered more hooks than during the previous render.");An=r;var f={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null};On===null?$t.memoizedState=On=f:On=On.next=f}return On}function y5(){return{lastEffect:null,stores:null}}function Vm(r,a){return typeof a=="function"?a(r):a}function Hm(r,a,l){var f=ui(),v;l!==void 0?v=l(a):v=a,f.memoizedState=f.baseState=v;var b={pending:null,interleaved:null,lanes:ye,dispatch:null,lastRenderedReducer:r,lastRenderedState:v};f.queue=b;var w=b.dispatch=sA.bind(null,$t,b);return[f.memoizedState,w]}function $m(r,a,l){var f=da(),v=f.queue;if(v===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");v.lastRenderedReducer=r;var b=An,w=b.baseQueue,C=v.pending;if(C!==null){if(w!==null){var k=w.next,M=C.next;w.next=M,C.next=k}b.baseQueue!==w&&c("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),b.baseQueue=w=C,v.pending=null}if(w!==null){var L=w.next,W=b.baseState,q=null,re=null,se=null,ue=L;do{var De=ue.lane;if(Oc(Uo,De)){if(se!==null){var $e={lane:zn,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};se=se.next=$e}if(ue.hasEagerState)W=ue.eagerState;else{var Tt=ue.action;W=r(W,Tt)}}else{var Ye={lane:De,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};se===null?(re=se=Ye,q=W):se=se.next=Ye,$t.lanes=ht($t.lanes,De),R0(De)}ue=ue.next}while(ue!==null&&ue!==L);se===null?q=W:se.next=re,Yr(W,f.memoizedState)||S0(),f.memoizedState=W,f.baseState=q,f.baseQueue=se,v.lastRenderedState=W}var yt=v.interleaved;if(yt!==null){var te=yt;do{var fe=te.lane;$t.lanes=ht($t.lanes,fe),R0(fe),te=te.next}while(te!==yt)}else w===null&&(v.lanes=ye);var ne=v.dispatch;return[f.memoizedState,ne]}function Gm(r,a,l){var f=da(),v=f.queue;if(v===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");v.lastRenderedReducer=r;var b=v.dispatch,w=v.pending,C=f.memoizedState;if(w!==null){v.pending=null;var k=w.next,M=k;do{var L=M.action;C=r(C,L),M=M.next}while(M!==k);Yr(C,f.memoizedState)||S0(),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),v.lastRenderedState=C}return[C,b]}function LJ(r,a,l){}function UJ(r,a,l){}function Km(r,a,l){var f=$t,v=ui(),b,w=Kn();if(w){if(l===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");b=l(),Jc||b!==l()&&(c("The result of getServerSnapshot should be cached to avoid an infinite loop"),Jc=!0)}else{if(b=a(),!Jc){var C=a();Yr(b,C)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),Jc=!0)}var k=Ph();if(k===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");id(k,Uo)||b5(f,a,b)}v.memoizedState=b;var M={value:b,getSnapshot:a};return v.queue=M,uh(w5.bind(null,f,M,r),[r]),f.flags|=gs,d0(kn|Yn,S5.bind(null,f,M,b,a),void 0,null),b}function sh(r,a,l){var f=$t,v=da(),b=a();if(!Jc){var w=a();Yr(b,w)||(c("The result of getSnapshot should be cached to avoid an infinite loop"),Jc=!0)}var C=v.memoizedState,k=!Yr(C,b);k&&(v.memoizedState=b,S0());var M=v.queue;if(p0(w5.bind(null,f,M,r),[r]),M.getSnapshot!==a||k||On!==null&&On.memoizedState.tag&kn){f.flags|=gs,d0(kn|Yn,S5.bind(null,f,M,b,a),void 0,null);var L=Ph();if(L===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");id(L,Uo)||b5(f,a,b)}return b}function b5(r,a,l){r.flags|=Vv;var f={getSnapshot:a,value:l},v=$t.updateQueue;if(v===null)v=y5(),$t.updateQueue=v,v.stores=[f];else{var b=v.stores;b===null?v.stores=[f]:b.push(f)}}function S5(r,a,l,f){a.value=l,a.getSnapshot=f,x5(a)&&E5(r)}function w5(r,a,l){var f=function(){x5(a)&&E5(r)};return l(f)}function x5(r){var a=r.getSnapshot,l=r.value;try{var f=a();return!Yr(l,f)}catch{return!0}}function E5(r){var a=Or(r,rt);a!==null&&Ln(a,r,rt,Qt)}function oh(r){var a=ui();typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r;var l={pending:null,interleaved:null,lanes:ye,dispatch:null,lastRenderedReducer:Vm,lastRenderedState:r};a.queue=l;var f=l.dispatch=oA.bind(null,$t,l);return[a.memoizedState,f]}function Ym(r){return $m(Vm)}function qm(r){return Gm(Vm)}function d0(r,a,l,f){var v={tag:r,create:a,destroy:l,deps:f,next:null},b=$t.updateQueue;if(b===null)b=y5(),$t.updateQueue=b,b.lastEffect=v.next=v;else{var w=b.lastEffect;if(w===null)b.lastEffect=v.next=v;else{var C=w.next;w.next=v,v.next=C,b.lastEffect=v}}return v}function Wm(r){var a=ui();{var l={current:r};return a.memoizedState=l,l}}function ch(r){var a=da();return a.memoizedState}function h0(r,a,l,f){var v=ui(),b=f===void 0?null:f;$t.flags|=r,v.memoizedState=d0(kn|a,l,void 0,b)}function lh(r,a,l,f){var v=da(),b=f===void 0?null:f,w=void 0;if(An!==null){var C=An.memoizedState;if(w=C.destroy,b!==null){var k=C.deps;if(zm(b,k)){v.memoizedState=d0(a,l,w,b);return}}}$t.flags|=r,v.memoizedState=d0(kn|a,l,w,b)}function uh(r,a){return($t.mode&ii)!==We?h0(Kv|gs|Gv,Yn,r,a):h0(gs|Gv,Yn,r,a)}function p0(r,a){return lh(gs,Yn,r,a)}function Xm(r,a){return h0(Ut,li,r,a)}function fh(r,a){return lh(Ut,li,r,a)}function Qm(r,a){var l=Ut;return l|=bo,($t.mode&ii)!==We&&(l|=ys),h0(l,Dn,r,a)}function dh(r,a){return lh(Ut,Dn,r,a)}function C5(r,a){if(typeof a=="function"){var l=a,f=r();return l(f),function(){l(null)}}else if(a!=null){var v=a;v.hasOwnProperty("current")||c("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(v).join(", ")+"}");var b=r();return v.current=b,function(){v.current=null}}}function Jm(r,a,l){typeof a!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null");var f=l!=null?l.concat([r]):null,v=Ut;return v|=bo,($t.mode&ii)!==We&&(v|=ys),h0(v,Dn,C5.bind(null,a,r),f)}function hh(r,a,l){typeof a!="function"&&c("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null");var f=l!=null?l.concat([r]):null;return lh(Ut,Dn,C5.bind(null,a,r),f)}function rA(r,a){}var ph=rA;function Zm(r,a){var l=ui(),f=a===void 0?null:a;return l.memoizedState=[r,f],r}function vh(r,a){var l=da(),f=a===void 0?null:a,v=l.memoizedState;if(v!==null&&f!==null){var b=v[1];if(zm(f,b))return v[0]}return l.memoizedState=[r,f],r}function eg(r,a){var l=ui(),f=a===void 0?null:a,v=r();return l.memoizedState=[v,f],v}function mh(r,a){var l=da(),f=a===void 0?null:a,v=l.memoizedState;if(v!==null&&f!==null){var b=v[1];if(zm(f,b))return v[0]}var w=r();return l.memoizedState=[w,f],w}function tg(r){var a=ui();return a.memoizedState=r,r}function T5(r){var a=da(),l=An,f=l.memoizedState;return _5(a,f,r)}function N5(r){var a=da();if(An===null)return a.memoizedState=r,r;var l=An.memoizedState;return _5(a,l,r)}function _5(r,a,l){var f=!VN(Uo);if(f){if(!Yr(l,a)){var v=E2();$t.lanes=ht($t.lanes,v),R0(v),r.baseState=!0}return a}else return r.baseState&&(r.baseState=!1,S0()),r.memoizedState=l,l}function aA(r,a,l){var f=Oa();Vn(QN(f,ji)),r(!0);var v=l0.transition;l0.transition={};var b=l0.transition;l0.transition._updatedFibers=new Set;try{r(!1),a()}finally{if(Vn(f),l0.transition=v,v===null&&b._updatedFibers){var w=b._updatedFibers.size;w>10&&o("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),b._updatedFibers.clear()}}}function ng(){var r=oh(!1),a=r[0],l=r[1],f=aA.bind(null,l),v=ui();return v.memoizedState=f,[a,f]}function k5(){var r=Ym(),a=r[0],l=da(),f=l.memoizedState;return[a,f]}function D5(){var r=qm(),a=r[0],l=da(),f=l.memoizedState;return[a,f]}var A5=!1;function iA(){return A5}function rg(){var r=ui(),a=Ph(),l=a.identifierPrefix,f;if(Kn()){var v=xD();f=":"+l+"R"+v;var b=f0++;b>0&&(f+="H"+b.toString(32)),f+=":"}else{var w=eA++;f=":"+l+"r"+w.toString(32)+":"}return r.memoizedState=f,f}function gh(){var r=da(),a=r.memoizedState;return a}function sA(r,a,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var f=Bs(r),v={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(O5(r))R5(a,v);else{var b=s5(r,a,v,f);if(b!==null){var w=Er();Ln(b,r,f,w),M5(b,a,f)}}I5(r,f)}function oA(r,a,l){typeof arguments[3]=="function"&&c("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var f=Bs(r),v={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(O5(r))R5(a,v);else{var b=r.alternate;if(r.lanes===ye&&(b===null||b.lanes===ye)){var w=a.lastRenderedReducer;if(w!==null){var C;C=Re.current,Re.current=Ua;try{var k=a.lastRenderedState,M=w(k,l);if(v.hasEagerState=!0,v.eagerState=M,Yr(M,k)){GD(r,a,v,f);return}}catch{}finally{Re.current=C}}}var L=s5(r,a,v,f);if(L!==null){var W=Er();Ln(L,r,f,W),M5(L,a,f)}}I5(r,f)}function O5(r){var a=r.alternate;return r===$t||a!==null&&a===$t}function R5(r,a){u0=ih=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function M5(r,a,l){if(x2(l)){var f=a.lanes;f=C2(f,r.pendingLanes);var v=ht(f,l);a.lanes=v,x1(r,v)}}function I5(r,a,l){Qv(r,a)}var yh={readContext:wn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:j},L5=null,U5=null,P5=null,B5=null,fi=null,Ua=null,bh=null;{var ag=function(){c("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},at=function(){c("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};L5={readContext:function(r){return wn(r)},useCallback:function(r,a){return de="useCallback",Ft(),Zc(a),Zm(r,a)},useContext:function(r){return de="useContext",Ft(),wn(r)},useEffect:function(r,a){return de="useEffect",Ft(),Zc(a),uh(r,a)},useImperativeHandle:function(r,a,l){return de="useImperativeHandle",Ft(),Zc(l),Jm(r,a,l)},useInsertionEffect:function(r,a){return de="useInsertionEffect",Ft(),Zc(a),Xm(r,a)},useLayoutEffect:function(r,a){return de="useLayoutEffect",Ft(),Zc(a),Qm(r,a)},useMemo:function(r,a){de="useMemo",Ft(),Zc(a);var l=Re.current;Re.current=fi;try{return eg(r,a)}finally{Re.current=l}},useReducer:function(r,a,l){de="useReducer",Ft();var f=Re.current;Re.current=fi;try{return Hm(r,a,l)}finally{Re.current=f}},useRef:function(r){return de="useRef",Ft(),Wm(r)},useState:function(r){de="useState",Ft();var a=Re.current;Re.current=fi;try{return oh(r)}finally{Re.current=a}},useDebugValue:function(r,a){return de="useDebugValue",Ft(),void 0},useDeferredValue:function(r){return de="useDeferredValue",Ft(),tg(r)},useTransition:function(){return de="useTransition",Ft(),ng()},useMutableSource:function(r,a,l){return de="useMutableSource",Ft(),void 0},useSyncExternalStore:function(r,a,l){return de="useSyncExternalStore",Ft(),Km(r,a,l)},useId:function(){return de="useId",Ft(),rg()},unstable_isNewReconciler:j},U5={readContext:function(r){return wn(r)},useCallback:function(r,a){return de="useCallback",Ne(),Zm(r,a)},useContext:function(r){return de="useContext",Ne(),wn(r)},useEffect:function(r,a){return de="useEffect",Ne(),uh(r,a)},useImperativeHandle:function(r,a,l){return de="useImperativeHandle",Ne(),Jm(r,a,l)},useInsertionEffect:function(r,a){return de="useInsertionEffect",Ne(),Xm(r,a)},useLayoutEffect:function(r,a){return de="useLayoutEffect",Ne(),Qm(r,a)},useMemo:function(r,a){de="useMemo",Ne();var l=Re.current;Re.current=fi;try{return eg(r,a)}finally{Re.current=l}},useReducer:function(r,a,l){de="useReducer",Ne();var f=Re.current;Re.current=fi;try{return Hm(r,a,l)}finally{Re.current=f}},useRef:function(r){return de="useRef",Ne(),Wm(r)},useState:function(r){de="useState",Ne();var a=Re.current;Re.current=fi;try{return oh(r)}finally{Re.current=a}},useDebugValue:function(r,a){return de="useDebugValue",Ne(),void 0},useDeferredValue:function(r){return de="useDeferredValue",Ne(),tg(r)},useTransition:function(){return de="useTransition",Ne(),ng()},useMutableSource:function(r,a,l){return de="useMutableSource",Ne(),void 0},useSyncExternalStore:function(r,a,l){return de="useSyncExternalStore",Ne(),Km(r,a,l)},useId:function(){return de="useId",Ne(),rg()},unstable_isNewReconciler:j},P5={readContext:function(r){return wn(r)},useCallback:function(r,a){return de="useCallback",Ne(),vh(r,a)},useContext:function(r){return de="useContext",Ne(),wn(r)},useEffect:function(r,a){return de="useEffect",Ne(),p0(r,a)},useImperativeHandle:function(r,a,l){return de="useImperativeHandle",Ne(),hh(r,a,l)},useInsertionEffect:function(r,a){return de="useInsertionEffect",Ne(),fh(r,a)},useLayoutEffect:function(r,a){return de="useLayoutEffect",Ne(),dh(r,a)},useMemo:function(r,a){de="useMemo",Ne();var l=Re.current;Re.current=Ua;try{return mh(r,a)}finally{Re.current=l}},useReducer:function(r,a,l){de="useReducer",Ne();var f=Re.current;Re.current=Ua;try{return $m(r,a,l)}finally{Re.current=f}},useRef:function(r){return de="useRef",Ne(),ch()},useState:function(r){de="useState",Ne();var a=Re.current;Re.current=Ua;try{return Ym(r)}finally{Re.current=a}},useDebugValue:function(r,a){return de="useDebugValue",Ne(),ph()},useDeferredValue:function(r){return de="useDeferredValue",Ne(),T5(r)},useTransition:function(){return de="useTransition",Ne(),k5()},useMutableSource:function(r,a,l){return de="useMutableSource",Ne(),void 0},useSyncExternalStore:function(r,a,l){return de="useSyncExternalStore",Ne(),sh(r,a)},useId:function(){return de="useId",Ne(),gh()},unstable_isNewReconciler:j},B5={readContext:function(r){return wn(r)},useCallback:function(r,a){return de="useCallback",Ne(),vh(r,a)},useContext:function(r){return de="useContext",Ne(),wn(r)},useEffect:function(r,a){return de="useEffect",Ne(),p0(r,a)},useImperativeHandle:function(r,a,l){return de="useImperativeHandle",Ne(),hh(r,a,l)},useInsertionEffect:function(r,a){return de="useInsertionEffect",Ne(),fh(r,a)},useLayoutEffect:function(r,a){return de="useLayoutEffect",Ne(),dh(r,a)},useMemo:function(r,a){de="useMemo",Ne();var l=Re.current;Re.current=bh;try{return mh(r,a)}finally{Re.current=l}},useReducer:function(r,a,l){de="useReducer",Ne();var f=Re.current;Re.current=bh;try{return Gm(r,a,l)}finally{Re.current=f}},useRef:function(r){return de="useRef",Ne(),ch()},useState:function(r){de="useState",Ne();var a=Re.current;Re.current=bh;try{return qm(r)}finally{Re.current=a}},useDebugValue:function(r,a){return de="useDebugValue",Ne(),ph()},useDeferredValue:function(r){return de="useDeferredValue",Ne(),N5(r)},useTransition:function(){return de="useTransition",Ne(),D5()},useMutableSource:function(r,a,l){return de="useMutableSource",Ne(),void 0},useSyncExternalStore:function(r,a,l){return de="useSyncExternalStore",Ne(),sh(r,a)},useId:function(){return de="useId",Ne(),gh()},unstable_isNewReconciler:j},fi={readContext:function(r){return ag(),wn(r)},useCallback:function(r,a){return de="useCallback",at(),Ft(),Zm(r,a)},useContext:function(r){return de="useContext",at(),Ft(),wn(r)},useEffect:function(r,a){return de="useEffect",at(),Ft(),uh(r,a)},useImperativeHandle:function(r,a,l){return de="useImperativeHandle",at(),Ft(),Jm(r,a,l)},useInsertionEffect:function(r,a){return de="useInsertionEffect",at(),Ft(),Xm(r,a)},useLayoutEffect:function(r,a){return de="useLayoutEffect",at(),Ft(),Qm(r,a)},useMemo:function(r,a){de="useMemo",at(),Ft();var l=Re.current;Re.current=fi;try{return eg(r,a)}finally{Re.current=l}},useReducer:function(r,a,l){de="useReducer",at(),Ft();var f=Re.current;Re.current=fi;try{return Hm(r,a,l)}finally{Re.current=f}},useRef:function(r){return de="useRef",at(),Ft(),Wm(r)},useState:function(r){de="useState",at(),Ft();var a=Re.current;Re.current=fi;try{return oh(r)}finally{Re.current=a}},useDebugValue:function(r,a){return de="useDebugValue",at(),Ft(),void 0},useDeferredValue:function(r){return de="useDeferredValue",at(),Ft(),tg(r)},useTransition:function(){return de="useTransition",at(),Ft(),ng()},useMutableSource:function(r,a,l){return de="useMutableSource",at(),Ft(),void 0},useSyncExternalStore:function(r,a,l){return de="useSyncExternalStore",at(),Ft(),Km(r,a,l)},useId:function(){return de="useId",at(),Ft(),rg()},unstable_isNewReconciler:j},Ua={readContext:function(r){return ag(),wn(r)},useCallback:function(r,a){return de="useCallback",at(),Ne(),vh(r,a)},useContext:function(r){return de="useContext",at(),Ne(),wn(r)},useEffect:function(r,a){return de="useEffect",at(),Ne(),p0(r,a)},useImperativeHandle:function(r,a,l){return de="useImperativeHandle",at(),Ne(),hh(r,a,l)},useInsertionEffect:function(r,a){return de="useInsertionEffect",at(),Ne(),fh(r,a)},useLayoutEffect:function(r,a){return de="useLayoutEffect",at(),Ne(),dh(r,a)},useMemo:function(r,a){de="useMemo",at(),Ne();var l=Re.current;Re.current=Ua;try{return mh(r,a)}finally{Re.current=l}},useReducer:function(r,a,l){de="useReducer",at(),Ne();var f=Re.current;Re.current=Ua;try{return $m(r,a,l)}finally{Re.current=f}},useRef:function(r){return de="useRef",at(),Ne(),ch()},useState:function(r){de="useState",at(),Ne();var a=Re.current;Re.current=Ua;try{return Ym(r)}finally{Re.current=a}},useDebugValue:function(r,a){return de="useDebugValue",at(),Ne(),ph()},useDeferredValue:function(r){return de="useDeferredValue",at(),Ne(),T5(r)},useTransition:function(){return de="useTransition",at(),Ne(),k5()},useMutableSource:function(r,a,l){return de="useMutableSource",at(),Ne(),void 0},useSyncExternalStore:function(r,a,l){return de="useSyncExternalStore",at(),Ne(),sh(r,a)},useId:function(){return de="useId",at(),Ne(),gh()},unstable_isNewReconciler:j},bh={readContext:function(r){return ag(),wn(r)},useCallback:function(r,a){return de="useCallback",at(),Ne(),vh(r,a)},useContext:function(r){return de="useContext",at(),Ne(),wn(r)},useEffect:function(r,a){return de="useEffect",at(),Ne(),p0(r,a)},useImperativeHandle:function(r,a,l){return de="useImperativeHandle",at(),Ne(),hh(r,a,l)},useInsertionEffect:function(r,a){return de="useInsertionEffect",at(),Ne(),fh(r,a)},useLayoutEffect:function(r,a){return de="useLayoutEffect",at(),Ne(),dh(r,a)},useMemo:function(r,a){de="useMemo",at(),Ne();var l=Re.current;Re.current=Ua;try{return mh(r,a)}finally{Re.current=l}},useReducer:function(r,a,l){de="useReducer",at(),Ne();var f=Re.current;Re.current=Ua;try{return Gm(r,a,l)}finally{Re.current=f}},useRef:function(r){return de="useRef",at(),Ne(),ch()},useState:function(r){de="useState",at(),Ne();var a=Re.current;Re.current=Ua;try{return qm(r)}finally{Re.current=a}},useDebugValue:function(r,a){return de="useDebugValue",at(),Ne(),ph()},useDeferredValue:function(r){return de="useDeferredValue",at(),Ne(),N5(r)},useTransition:function(){return de="useTransition",at(),Ne(),D5()},useMutableSource:function(r,a,l){return de="useMutableSource",at(),Ne(),void 0},useSyncExternalStore:function(r,a,l){return de="useSyncExternalStore",at(),Ne(),sh(r,a)},useId:function(){return de="useId",at(),Ne(),gh()},unstable_isNewReconciler:j}}var Is=t.unstable_now,F5=0,Sh=-1,v0=-1,wh=-1,ig=!1,xh=!1;function j5(){return ig}function cA(){xh=!0}function lA(){ig=!1,xh=!1}function uA(){ig=xh,xh=!1}function z5(){return F5}function V5(){F5=Is()}function sg(r){v0=Is(),r.actualStartTime<0&&(r.actualStartTime=Is())}function H5(r){v0=-1}function Eh(r,a){if(v0>=0){var l=Is()-v0;r.actualDuration+=l,a&&(r.selfBaseDuration=l),v0=-1}}function di(r){if(Sh>=0){var a=Is()-Sh;Sh=-1;for(var l=r.return;l!==null;){switch(l.tag){case p:var f=l.stateNode;f.effectDuration+=a;return;case N:var v=l.stateNode;v.effectDuration+=a;return}l=l.return}}}function og(r){if(wh>=0){var a=Is()-wh;wh=-1;for(var l=r.return;l!==null;){switch(l.tag){case p:var f=l.stateNode;f!==null&&(f.passiveEffectDuration+=a);return;case N:var v=l.stateNode;v!==null&&(v.passiveEffectDuration+=a);return}l=l.return}}}function hi(){Sh=Is()}function cg(){wh=Is()}function lg(r){for(var a=r.child;a;)r.actualDuration+=a.actualDuration,a=a.sibling}function Pa(r,a){if(r&&r.defaultProps){var l=vt({},a),f=r.defaultProps;for(var v in f)l[v]===void 0&&(l[v]=f[v]);return l}return a}var ug={},fg,dg,hg,pg,vg,$5,Ch,mg,gg,yg,m0;{fg=new Set,dg=new Set,hg=new Set,pg=new Set,mg=new Set,vg=new Set,gg=new Set,yg=new Set,m0=new Set;var G5=new Set;Ch=function(r,a){if(!(r===null||typeof r=="function")){var l=a+"_"+r;G5.has(l)||(G5.add(l),c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",a,r))}},$5=function(r,a){if(a===void 0){var l=Lt(r)||"Component";vg.has(l)||(vg.add(l),c("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",l))}},Object.defineProperty(ug,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(ug)}function bg(r,a,l,f){var v=r.memoizedState,b=l(f,v);{if(r.mode&ln){jn(!0);try{b=l(f,v)}finally{jn(!1)}}$5(a,b)}var w=b==null?v:vt({},v,b);if(r.memoizedState=w,r.lanes===ye){var C=r.updateQueue;C.baseState=w}}var Sg={isMounted:tN,enqueueSetState:function(r,a,l){var f=xc(r),v=Er(),b=Bs(f),w=Yi(v,b);w.payload=a,l!=null&&(Ch(l,"setState"),w.callback=l);var C=As(f,w,b);C!==null&&(Ln(C,f,b,v),Zd(C,f,b)),Qv(f,b)},enqueueReplaceState:function(r,a,l){var f=xc(r),v=Er(),b=Bs(f),w=Yi(v,b);w.tag=c5,w.payload=a,l!=null&&(Ch(l,"replaceState"),w.callback=l);var C=As(f,w,b);C!==null&&(Ln(C,f,b,v),Zd(C,f,b)),Qv(f,b)},enqueueForceUpdate:function(r,a){var l=xc(r),f=Er(),v=Bs(l),b=Yi(f,v);b.tag=Xd,a!=null&&(Ch(a,"forceUpdate"),b.callback=a);var w=As(l,b,v);w!==null&&(Ln(w,l,v,f),Zd(w,l,v)),RN(l,v)}};function K5(r,a,l,f,v,b,w){var C=r.stateNode;if(typeof C.shouldComponentUpdate=="function"){var k=C.shouldComponentUpdate(f,b,w);{if(r.mode&ln){jn(!0);try{k=C.shouldComponentUpdate(f,b,w)}finally{jn(!1)}}k===void 0&&c("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Lt(a)||"Component")}return k}return a.prototype&&a.prototype.isPureReactComponent?!Bu(l,f)||!Bu(v,b):!0}function fA(r,a,l){var f=r.stateNode;{var v=Lt(a)||"Component",b=f.render;b||(a.prototype&&typeof a.prototype.render=="function"?c("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",v):c("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",v)),f.getInitialState&&!f.getInitialState.isReactClassApproved&&!f.state&&c("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",v),f.getDefaultProps&&!f.getDefaultProps.isReactClassApproved&&c("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",v),f.propTypes&&c("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",v),f.contextType&&c("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",v),a.childContextTypes&&!m0.has(a)&&(r.mode&ln)===We&&(m0.add(a),c(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,v)),a.contextTypes&&!m0.has(a)&&(r.mode&ln)===We&&(m0.add(a),c(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,v)),f.contextTypes&&c("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",v),a.contextType&&a.contextTypes&&!gg.has(a)&&(gg.add(a),c("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",v)),typeof f.componentShouldUpdate=="function"&&c("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",v),a.prototype&&a.prototype.isPureReactComponent&&typeof f.shouldComponentUpdate<"u"&&c("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Lt(a)||"A pure component"),typeof f.componentDidUnmount=="function"&&c("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",v),typeof f.componentDidReceiveProps=="function"&&c("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",v),typeof f.componentWillRecieveProps=="function"&&c("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",v),typeof f.UNSAFE_componentWillRecieveProps=="function"&&c("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",v);var w=f.props!==l;f.props!==void 0&&w&&c("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",v,v),f.defaultProps&&c("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",v,v),typeof f.getSnapshotBeforeUpdate=="function"&&typeof f.componentDidUpdate!="function"&&!hg.has(a)&&(hg.add(a),c("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Lt(a))),typeof f.getDerivedStateFromProps=="function"&&c("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",v),typeof f.getDerivedStateFromError=="function"&&c("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",v),typeof a.getSnapshotBeforeUpdate=="function"&&c("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",v);var C=f.state;C&&(typeof C!="object"||gt(C))&&c("%s.state: must be set to an object or null",v),typeof f.getChildContext=="function"&&typeof a.childContextTypes!="object"&&c("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",v)}}function Y5(r,a){a.updater=Sg,r.stateNode=a,Q8(a,r),a._reactInternalInstance=ug}function q5(r,a,l){var f=!1,v=qr,b=qr,w=a.contextType;if("contextType"in a){var C=w===null||w!==void 0&&w.$$typeof===ke&&w._context===void 0;if(!C&&!yg.has(a)){yg.add(a);var k="";w===void 0?k=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof w!="object"?k=" However, it is set to a "+typeof w+".":w.$$typeof===we?k=" Did you accidentally pass the Context.Provider instead?":w._context!==void 0?k=" Did you accidentally pass the Context.Consumer instead?":k=" However, it is set to an object with keys {"+Object.keys(w).join(", ")+"}.",c("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Lt(a)||"Component",k)}}if(typeof w=="object"&&w!==null)b=wn(w);else{v=zc(r,a,!0);var M=a.contextTypes;f=M!=null,b=f?Vc(r,v):qr}var L=new a(l,b);if(r.mode&ln){jn(!0);try{L=new a(l,b)}finally{jn(!1)}}var W=r.memoizedState=L.state!==null&&L.state!==void 0?L.state:null;Y5(r,L);{if(typeof a.getDerivedStateFromProps=="function"&&W===null){var q=Lt(a)||"Component";dg.has(q)||(dg.add(q),c("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",q,L.state===null?"null":"undefined",q))}if(typeof a.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"){var re=null,se=null,ue=null;if(typeof L.componentWillMount=="function"&&L.componentWillMount.__suppressDeprecationWarning!==!0?re="componentWillMount":typeof L.UNSAFE_componentWillMount=="function"&&(re="UNSAFE_componentWillMount"),typeof L.componentWillReceiveProps=="function"&&L.componentWillReceiveProps.__suppressDeprecationWarning!==!0?se="componentWillReceiveProps":typeof L.UNSAFE_componentWillReceiveProps=="function"&&(se="UNSAFE_componentWillReceiveProps"),typeof L.componentWillUpdate=="function"&&L.componentWillUpdate.__suppressDeprecationWarning!==!0?ue="componentWillUpdate":typeof L.UNSAFE_componentWillUpdate=="function"&&(ue="UNSAFE_componentWillUpdate"),re!==null||se!==null||ue!==null){var De=Lt(a)||"Component",Ye=typeof a.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";pg.has(De)||(pg.add(De),c(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,De,Ye,re!==null?`
  `+re:"",se!==null?`
  `+se:"",ue!==null?`
  `+ue:""))}}}return f&&P6(r,v,b),L}function dA(r,a){var l=a.state;typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&(c("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",ct(r)||"Component"),Sg.enqueueReplaceState(a,a.state,null))}function W5(r,a,l,f){var v=a.state;if(typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==v){{var b=ct(r)||"Component";fg.has(b)||(fg.add(b),c("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",b))}Sg.enqueueReplaceState(a,a.state,null)}}function wg(r,a,l,f){fA(r,a,l);var v=r.stateNode;v.props=l,v.state=r.memoizedState,v.refs={},Am(r);var b=a.contextType;if(typeof b=="object"&&b!==null)v.context=wn(b);else{var w=zc(r,a,!0);v.context=Vc(r,w)}{if(v.state===l){var C=Lt(a)||"Component";mg.has(C)||(mg.add(C),c("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",C))}r.mode&ln&&Ia.recordLegacyContextWarning(r,v),Ia.recordUnsafeLifecycleWarnings(r,v)}v.state=r.memoizedState;var k=a.getDerivedStateFromProps;if(typeof k=="function"&&(bg(r,a,k,l),v.state=r.memoizedState),typeof a.getDerivedStateFromProps!="function"&&typeof v.getSnapshotBeforeUpdate!="function"&&(typeof v.UNSAFE_componentWillMount=="function"||typeof v.componentWillMount=="function")&&(dA(r,v),eh(r,l,v,f),v.state=r.memoizedState),typeof v.componentDidMount=="function"){var M=Ut;M|=bo,(r.mode&ii)!==We&&(M|=ys),r.flags|=M}}function hA(r,a,l,f){var v=r.stateNode,b=r.memoizedProps;v.props=b;var w=v.context,C=a.contextType,k=qr;if(typeof C=="object"&&C!==null)k=wn(C);else{var M=zc(r,a,!0);k=Vc(r,M)}var L=a.getDerivedStateFromProps,W=typeof L=="function"||typeof v.getSnapshotBeforeUpdate=="function";!W&&(typeof v.UNSAFE_componentWillReceiveProps=="function"||typeof v.componentWillReceiveProps=="function")&&(b!==l||w!==k)&&W5(r,v,l,k),u5();var q=r.memoizedState,re=v.state=q;if(eh(r,l,v,f),re=r.memoizedState,b===l&&q===re&&!Ld()&&!th()){if(typeof v.componentDidMount=="function"){var se=Ut;se|=bo,(r.mode&ii)!==We&&(se|=ys),r.flags|=se}return!1}typeof L=="function"&&(bg(r,a,L,l),re=r.memoizedState);var ue=th()||K5(r,a,b,l,q,re,k);if(ue){if(!W&&(typeof v.UNSAFE_componentWillMount=="function"||typeof v.componentWillMount=="function")&&(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"){var De=Ut;De|=bo,(r.mode&ii)!==We&&(De|=ys),r.flags|=De}}else{if(typeof v.componentDidMount=="function"){var Ye=Ut;Ye|=bo,(r.mode&ii)!==We&&(Ye|=ys),r.flags|=Ye}r.memoizedProps=l,r.memoizedState=re}return v.props=l,v.state=re,v.context=k,ue}function pA(r,a,l,f,v){var b=a.stateNode;l5(r,a);var w=a.memoizedProps,C=a.type===a.elementType?w:Pa(a.type,w);b.props=C;var k=a.pendingProps,M=b.context,L=l.contextType,W=qr;if(typeof L=="object"&&L!==null)W=wn(L);else{var q=zc(a,l,!0);W=Vc(a,q)}var re=l.getDerivedStateFromProps,se=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function";!se&&(typeof b.UNSAFE_componentWillReceiveProps=="function"||typeof b.componentWillReceiveProps=="function")&&(w!==k||M!==W)&&W5(a,b,f,W),u5();var ue=a.memoizedState,De=b.state=ue;if(eh(a,f,b,v),De=a.memoizedState,w===k&&ue===De&&!Ld()&&!th()&&!X)return typeof b.componentDidUpdate=="function"&&(w!==r.memoizedProps||ue!==r.memoizedState)&&(a.flags|=Ut),typeof b.getSnapshotBeforeUpdate=="function"&&(w!==r.memoizedProps||ue!==r.memoizedState)&&(a.flags|=Cc),!1;typeof re=="function"&&(bg(a,l,re,f),De=a.memoizedState);var Ye=th()||K5(a,l,C,f,ue,De,W)||X;return Ye?(!se&&(typeof b.UNSAFE_componentWillUpdate=="function"||typeof b.componentWillUpdate=="function")&&(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,De,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,De,W)),typeof b.componentDidUpdate=="function"&&(a.flags|=Ut),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=Cc)):(typeof b.componentDidUpdate=="function"&&(w!==r.memoizedProps||ue!==r.memoizedState)&&(a.flags|=Ut),typeof b.getSnapshotBeforeUpdate=="function"&&(w!==r.memoizedProps||ue!==r.memoizedState)&&(a.flags|=Cc),a.memoizedProps=f,a.memoizedState=De),b.props=f,b.state=De,b.context=W,Ye}function Po(r,a){return{value:r,source:a,stack:uo(a),digest:null}}function xg(r,a,l){return{value:r,source:null,stack:l??null,digest:a??null}}function vA(r,a){return!0}function Eg(r,a){try{var l=vA(r,a);if(l===!1)return;var f=a.value,v=a.source,b=a.stack,w=b!==null?b:"";if(f!=null&&f._suppressLogging){if(r.tag===h)return;console.error(f)}var C=v?ct(v):null,k=C?"The above error occurred in the <"+C+"> component:":"The above error occurred in one of your React components:",M;if(r.tag===p)M=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var L=ct(r)||"Anonymous";M="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+L+".")}var W=k+`
`+w+`

`+(""+M);console.error(W)}catch(q){setTimeout(function(){throw q})}}var mA=typeof WeakMap=="function"?WeakMap:Map;function X5(r,a,l){var f=Yi(Qt,l);f.tag=km,f.payload={element:null};var v=a.value;return f.callback=function(){cR(v),Eg(r,a)},f}function Cg(r,a,l){var f=Yi(Qt,l);f.tag=km;var v=r.type.getDerivedStateFromError;if(typeof v=="function"){var b=a.value;f.payload=function(){return v(b)},f.callback=function(){oS(r),Eg(r,a)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(f.callback=function(){oS(r),Eg(r,a),typeof v!="function"&&sR(this);var k=a.value,M=a.stack;this.componentDidCatch(k,{componentStack:M!==null?M:""}),typeof v!="function"&&($r(r.lanes,rt)||c("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",ct(r)||"Unknown"))}),f}function Q5(r,a,l){var f=r.pingCache,v;if(f===null?(f=r.pingCache=new mA,v=new Set,f.set(a,v)):(v=f.get(a),v===void 0&&(v=new Set,f.set(a,v))),!v.has(l)){v.add(l);var b=lR.bind(null,r,a,l);Aa&&M0(r,l),a.then(b,b)}}function gA(r,a,l,f){var v=r.updateQueue;if(v===null){var b=new Set;b.add(l),r.updateQueue=b}else v.add(l)}function yA(r,a){var l=r.tag;if((r.mode&Et)===We&&(l===d||l===O||l===P)){var f=r.alternate;f?(r.updateQueue=f.updateQueue,r.memoizedState=f.memoizedState,r.lanes=f.lanes):(r.updateQueue=null,r.memoizedState=null)}}function J5(r){var a=r;do{if(a.tag===D&&JD(a))return a;a=a.return}while(a!==null);return null}function Z5(r,a,l,f,v){if((r.mode&Et)===We){if(r===a)r.flags|=Sr;else{if(r.flags|=Pt,l.flags|=Hv,l.flags&=-52805,l.tag===h){var b=l.alternate;if(b===null)l.tag=F;else{var w=Yi(Qt,rt);w.tag=Xd,As(l,w,rt)}}l.lanes=ht(l.lanes,rt)}return r}return r.flags|=Sr,r.lanes=v,r}function bA(r,a,l,f,v){if(l.flags|=Zf,Aa&&M0(r,v),f!==null&&typeof f=="object"&&typeof f.then=="function"){var b=f;yA(l),Kn()&&l.mode&Et&&$6();var w=J5(a);if(w!==null){w.flags&=~Ui,Z5(w,a,l,r,v),w.mode&Et&&Q5(r,b,v),gA(w,r,b);return}else{if(!zN(v)){Q5(r,b,v),ry();return}var C=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");f=C}}else if(Kn()&&l.mode&Et){$6();var k=J5(a);if(k!==null){(k.flags&Sr)===et&&(k.flags|=Ui),Z5(k,a,l,r,v),mm(Po(f,l));return}}f=Po(f,l),JO(f);var M=a;do{switch(M.tag){case p:{var L=f;M.flags|=Sr;var W=Eu(v);M.lanes=ht(M.lanes,W);var q=X5(M,L,W);Om(M,q);return}case h:var re=f,se=M.type,ue=M.stateNode;if((M.flags&Pt)===et&&(typeof se.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&!J4(ue))){M.flags|=Sr;var De=Eu(v);M.lanes=ht(M.lanes,De);var Ye=Cg(M,re,De);Om(M,Ye);return}break}M=M.return}while(M!==null)}function SA(){return null}var g0=n.ReactCurrentOwner,Ba=!1,Tg,y0,Ng,_g,kg,Bo,Dg,Th,b0;Tg={},y0={},Ng={},_g={},kg={},Bo=!1,Dg={},Th={},b0={};function wr(r,a,l,f){r===null?a.child=n5(a,null,l,f):a.child=Kc(a,r.child,l,f)}function wA(r,a,l,f){a.child=Kc(a,r.child,null,f),a.child=Kc(a,null,l,f)}function e4(r,a,l,f,v){if(a.type!==a.elementType){var b=l.propTypes;b&&Ra(b,f,"prop",Lt(l))}var w=l.render,C=a.ref,k,M;qc(a,v),gu(a);{if(g0.current=a,oa(!0),k=el(r,a,w,f,C,v),M=tl(),a.mode&ln){jn(!0);try{k=el(r,a,w,f,C,v),M=tl()}finally{jn(!1)}}oa(!1)}return _c(),r!==null&&!Ba?(m5(r,a,v),qi(r,a,v)):(Kn()&&M&&um(a),a.flags|=Ec,wr(r,a,k,v),a.child)}function t4(r,a,l,f,v){if(r===null){var b=l.type;if(NR(b)&&l.compare===null&&l.defaultProps===void 0){var w=b;return w=ll(b),a.tag=P,a.type=w,Rg(a,b),n4(r,a,w,f,v)}{var C=b.propTypes;if(C&&Ra(C,f,"prop",Lt(b)),l.defaultProps!==void 0){var k=Lt(b)||"Unknown";b0[k]||(c("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",k),b0[k]=!0)}}var M=py(l.type,null,f,a,a.mode,v);return M.ref=a.ref,M.return=a,a.child=M,M}{var L=l.type,W=L.propTypes;W&&Ra(W,f,"prop",Lt(L))}var q=r.child,re=Bg(r,v);if(!re){var se=q.memoizedProps,ue=l.compare;if(ue=ue!==null?ue:Bu,ue(se,f)&&r.ref===a.ref)return qi(r,a,v)}a.flags|=Ec;var De=Ho(q,f);return De.ref=a.ref,De.return=a,a.child=De,De}function n4(r,a,l,f,v){if(a.type!==a.elementType){var b=a.elementType;if(b.$$typeof===qe){var w=b,C=w._payload,k=w._init;try{b=k(C)}catch{b=null}var M=b&&b.propTypes;M&&Ra(M,f,"prop",Lt(b))}}if(r!==null){var L=r.memoizedProps;if(Bu(L,f)&&r.ref===a.ref&&a.type===r.type)if(Ba=!1,a.pendingProps=f=L,Bg(r,v))(r.flags&Hv)!==et&&(Ba=!0);else return a.lanes=r.lanes,qi(r,a,v)}return Ag(r,a,l,f,v)}function r4(r,a,l){var f=a.pendingProps,v=f.children,b=r!==null?r.memoizedState:null;if(f.mode==="hidden"||K)if((a.mode&Et)===We){var w={baseLanes:ye,cachePool:null,transitions:null};a.memoizedState=w,Bh(a,l)}else if($r(l,Hr)){var W={baseLanes:ye,cachePool:null,transitions:null};a.memoizedState=W;var q=b!==null?b.baseLanes:l;Bh(a,q)}else{var C=null,k;if(b!==null){var M=b.baseLanes;k=ht(M,l)}else k=l;a.lanes=a.childLanes=Hr;var L={baseLanes:k,cachePool:C,transitions:null};return a.memoizedState=L,a.updateQueue=null,Bh(a,k),null}else{var re;b!==null?(re=ht(b.baseLanes,l),a.memoizedState=null):re=l,Bh(a,re)}return wr(r,a,v,l),a.child}function xA(r,a,l){var f=a.pendingProps;return wr(r,a,f,l),a.child}function EA(r,a,l){var f=a.pendingProps.children;return wr(r,a,f,l),a.child}function CA(r,a,l){{a.flags|=Ut;{var f=a.stateNode;f.effectDuration=0,f.passiveEffectDuration=0}}var v=a.pendingProps,b=v.children;return wr(r,a,b,l),a.child}function a4(r,a){var l=a.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(a.flags|=go,a.flags|=$v)}function Ag(r,a,l,f,v){if(a.type!==a.elementType){var b=l.propTypes;b&&Ra(b,f,"prop",Lt(l))}var w;{var C=zc(a,l,!0);w=Vc(a,C)}var k,M;qc(a,v),gu(a);{if(g0.current=a,oa(!0),k=el(r,a,l,f,w,v),M=tl(),a.mode&ln){jn(!0);try{k=el(r,a,l,f,w,v),M=tl()}finally{jn(!1)}}oa(!1)}return _c(),r!==null&&!Ba?(m5(r,a,v),qi(r,a,v)):(Kn()&&M&&um(a),a.flags|=Ec,wr(r,a,k,v),a.child)}function i4(r,a,l,f,v){{switch(zR(a)){case!1:{var b=a.stateNode,w=a.type,C=new w(a.memoizedProps,b.context),k=C.state;b.updater.enqueueSetState(b,k,null);break}case!0:{a.flags|=Pt,a.flags|=Sr;var M=new Error("Simulated error coming from DevTools"),L=Eu(v);a.lanes=ht(a.lanes,L);var W=Cg(a,Po(M,a),L);Om(a,W);break}}if(a.type!==a.elementType){var q=l.propTypes;q&&Ra(q,f,"prop",Lt(l))}}var re;ci(l)?(re=!0,Pd(a)):re=!1,qc(a,v);var se=a.stateNode,ue;se===null?(_h(r,a),q5(a,l,f),wg(a,l,f,v),ue=!0):r===null?ue=hA(a,l,f,v):ue=pA(r,a,l,f,v);var De=Og(r,a,l,ue,re,v);{var Ye=a.stateNode;ue&&Ye.props!==f&&(Bo||c("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",ct(a)||"a component"),Bo=!0)}return De}function Og(r,a,l,f,v,b){a4(r,a);var w=(a.flags&Pt)!==et;if(!f&&!w)return v&&j6(a,l,!1),qi(r,a,b);var C=a.stateNode;g0.current=a;var k;if(w&&typeof l.getDerivedStateFromError!="function")k=null,H5();else{gu(a);{if(oa(!0),k=C.render(),a.mode&ln){jn(!0);try{C.render()}finally{jn(!1)}}oa(!1)}_c()}return a.flags|=Ec,r!==null&&w?wA(r,a,k,b):wr(r,a,k,b),a.memoizedState=C.state,v&&j6(a,l,!0),a.child}function s4(r){var a=r.stateNode;a.pendingContext?B6(r,a.pendingContext,a.pendingContext!==a.context):a.context&&B6(r,a.context,!1),Rm(r,a.containerInfo)}function TA(r,a,l){if(s4(a),r===null)throw new Error("Should have a current fiber. This is a bug in React.");var f=a.pendingProps,v=a.memoizedState,b=v.element;l5(r,a),eh(a,f,null,l);var w=a.memoizedState;a.stateNode;var C=w.element;if(v.isDehydrated){var k={element:C,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},M=a.updateQueue;if(M.baseState=k,a.memoizedState=k,a.flags&Ui){var L=Po(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),a);return o4(r,a,C,l,L)}else if(C!==b){var W=Po(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),a);return o4(r,a,C,l,W)}else{kD(a);var q=n5(a,null,C,l);a.child=q;for(var re=q;re;)re.flags=re.flags&~Sn|Pi,re=re.sibling}}else{if(Gc(),C===b)return qi(r,a,l);wr(r,a,C,l)}return a.child}function o4(r,a,l,f,v){return Gc(),mm(v),a.flags|=Ui,wr(r,a,l,f),a.child}function NA(r,a,l){h5(a),r===null&&vm(a);var f=a.type,v=a.pendingProps,b=r!==null?r.memoizedProps:null,w=v.children,C=X1(f,v);return C?w=null:b!==null&&X1(f,b)&&(a.flags|=vu),a4(r,a),wr(r,a,w,l),a.child}function _A(r,a){return r===null&&vm(a),null}function kA(r,a,l,f){_h(r,a);var v=a.pendingProps,b=l,w=b._payload,C=b._init,k=C(w);a.type=k;var M=a.tag=_R(k),L=Pa(k,v),W;switch(M){case d:return Rg(a,k),a.type=k=ll(k),W=Ag(null,a,k,L,f),W;case h:return a.type=k=cy(k),W=i4(null,a,k,L,f),W;case O:return a.type=k=ly(k),W=e4(null,a,k,L,f),W;case R:{if(a.type!==a.elementType){var q=k.propTypes;q&&Ra(q,L,"prop",Lt(k))}return W=t4(null,a,k,Pa(k.type,L),f),W}}var re="";throw k!==null&&typeof k=="object"&&k.$$typeof===qe&&(re=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+k+". "+("Lazy element type must resolve to a class or function."+re))}function DA(r,a,l,f,v){_h(r,a),a.tag=h;var b;return ci(l)?(b=!0,Pd(a)):b=!1,qc(a,v),q5(a,l,f),wg(a,l,f,v),Og(null,a,l,!0,b,v)}function AA(r,a,l,f){_h(r,a);var v=a.pendingProps,b;{var w=zc(a,l,!1);b=Vc(a,w)}qc(a,f);var C,k;gu(a);{if(l.prototype&&typeof l.prototype.render=="function"){var M=Lt(l)||"Unknown";Tg[M]||(c("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",M,M),Tg[M]=!0)}a.mode&ln&&Ia.recordLegacyContextWarning(a,null),oa(!0),g0.current=a,C=el(null,a,l,v,b,f),k=tl(),oa(!1)}if(_c(),a.flags|=Ec,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0){var L=Lt(l)||"Unknown";y0[L]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",L,L,L),y0[L]=!0)}if(typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0){{var W=Lt(l)||"Unknown";y0[W]||(c("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",W,W,W),y0[W]=!0)}a.tag=h,a.memoizedState=null,a.updateQueue=null;var q=!1;return ci(l)?(q=!0,Pd(a)):q=!1,a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Am(a),Y5(a,C),wg(a,l,v,f),Og(null,a,l,!0,q,f)}else{if(a.tag=d,a.mode&ln){jn(!0);try{C=el(null,a,l,v,b,f),k=tl()}finally{jn(!1)}}return Kn()&&k&&um(a),wr(null,a,C,f),Rg(a,l),a.child}}function Rg(r,a){{if(a&&a.childContextTypes&&c("%s(...): childContextTypes cannot be defined on a function component.",a.displayName||a.name||"Component"),r.ref!==null){var l="",f=vs();f&&(l+=`

Check the render method of \``+f+"`.");var v=f||"",b=r._debugSource;b&&(v=b.fileName+":"+b.lineNumber),kg[v]||(kg[v]=!0,c("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",l))}if(a.defaultProps!==void 0){var w=Lt(a)||"Unknown";b0[w]||(c("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",w),b0[w]=!0)}if(typeof a.getDerivedStateFromProps=="function"){var C=Lt(a)||"Unknown";_g[C]||(c("%s: Function components do not support getDerivedStateFromProps.",C),_g[C]=!0)}if(typeof a.contextType=="object"&&a.contextType!==null){var k=Lt(a)||"Unknown";Ng[k]||(c("%s: Function components do not support contextType.",k),Ng[k]=!0)}}}var Mg={dehydrated:null,treeContext:null,retryLane:zn};function Ig(r){return{baseLanes:r,cachePool:SA(),transitions:null}}function OA(r,a){var l=null;return{baseLanes:ht(r.baseLanes,a),cachePool:l,transitions:r.transitions}}function RA(r,a,l,f){if(a!==null){var v=a.memoizedState;if(v===null)return!1}return Lm(r,c0)}function MA(r,a){return sd(r.childLanes,a)}function c4(r,a,l){var f=a.pendingProps;VR(a)&&(a.flags|=Pt);var v=La.current,b=!1,w=(a.flags&Pt)!==et;if(w||RA(v,r)?(b=!0,a.flags&=~Pt):(r===null||r.memoizedState!==null)&&(v=QD(v,v5)),v=Xc(v),Rs(a,v),r===null){vm(a);var C=a.memoizedState;if(C!==null){var k=C.dehydrated;if(k!==null)return BA(a,k)}var M=f.children,L=f.fallback;if(b){var W=IA(a,M,L,l),q=a.child;return q.memoizedState=Ig(l),a.memoizedState=Mg,W}else return Lg(a,M)}else{var re=r.memoizedState;if(re!==null){var se=re.dehydrated;if(se!==null)return FA(r,a,w,f,se,re,l)}if(b){var ue=f.fallback,De=f.children,Ye=UA(r,a,De,ue,l),$e=a.child,Tt=r.child.memoizedState;return $e.memoizedState=Tt===null?Ig(l):OA(Tt,l),$e.childLanes=MA(r,l),a.memoizedState=Mg,Ye}else{var yt=f.children,te=LA(r,a,yt,l);return a.memoizedState=null,te}}}function Lg(r,a,l){var f=r.mode,v={mode:"visible",children:a},b=Ug(v,f);return b.return=r,r.child=b,b}function IA(r,a,l,f){var v=r.mode,b=r.child,w={mode:"hidden",children:a},C,k;return(v&Et)===We&&b!==null?(C=b,C.childLanes=ye,C.pendingProps=w,r.mode&Ht&&(C.actualDuration=0,C.actualStartTime=-1,C.selfBaseDuration=0,C.treeBaseDuration=0),k=js(l,v,f,null)):(C=Ug(w,v),k=js(l,v,f,null)),C.return=r,k.return=r,C.sibling=k,r.child=C,k}function Ug(r,a,l){return lS(r,a,ye,null)}function l4(r,a){return Ho(r,a)}function LA(r,a,l,f){var v=r.child,b=v.sibling,w=l4(v,{mode:"visible",children:l});if((a.mode&Et)===We&&(w.lanes=f),w.return=a,w.sibling=null,b!==null){var C=a.deletions;C===null?(a.deletions=[b],a.flags|=mo):C.push(b)}return a.child=w,w}function UA(r,a,l,f,v){var b=a.mode,w=r.child,C=w.sibling,k={mode:"hidden",children:l},M;if((b&Et)===We&&a.child!==w){var L=a.child;M=L,M.childLanes=ye,M.pendingProps=k,a.mode&Ht&&(M.actualDuration=0,M.actualStartTime=-1,M.selfBaseDuration=w.selfBaseDuration,M.treeBaseDuration=w.treeBaseDuration),a.deletions=null}else M=l4(w,k),M.subtreeFlags=w.subtreeFlags&Bi;var W;return C!==null?W=Ho(C,f):(W=js(f,b,v,null),W.flags|=Sn),W.return=a,M.return=a,M.sibling=W,a.child=M,W}function Nh(r,a,l,f){f!==null&&mm(f),Kc(a,r.child,null,l);var v=a.pendingProps,b=v.children,w=Lg(a,b);return w.flags|=Sn,a.memoizedState=null,w}function PA(r,a,l,f,v){var b=a.mode,w={mode:"visible",children:l},C=Ug(w,b),k=js(f,b,v,null);return k.flags|=Sn,C.return=a,k.return=a,C.sibling=k,a.child=C,(a.mode&Et)!==We&&Kc(a,r.child,null,v),k}function BA(r,a,l){return(r.mode&Et)===We?(c("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),r.lanes=rt):em(a)?r.lanes=xo:r.lanes=Hr,null}function FA(r,a,l,f,v,b,w){if(l)if(a.flags&Ui){a.flags&=~Ui;var te=xg(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return Nh(r,a,w,te)}else{if(a.memoizedState!==null)return a.child=r.child,a.flags|=Pt,null;var fe=f.children,ne=f.fallback,xe=PA(r,a,fe,ne,w),Le=a.child;return Le.memoizedState=Ig(w),a.memoizedState=Mg,xe}else{if(ND(),(a.mode&Et)===We)return Nh(r,a,w,null);if(em(v)){var C,k,M;{var L=Hk(v);C=L.digest,k=L.message,M=L.stack}var W;k?W=new Error(k):W=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var q=xg(W,C,M);return Nh(r,a,w,q)}var re=$r(w,r.childLanes);if(Ba||re){var se=Ph();if(se!==null){var ue=WN(se,w);if(ue!==zn&&ue!==b.retryLane){b.retryLane=ue;var De=Qt;Or(r,ue),Ln(se,r,ue,De)}}ry();var Ye=xg(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return Nh(r,a,w,Ye)}else if(R6(v)){a.flags|=Pt,a.child=r.child;var $e=uR.bind(null,r);return $k(v,$e),null}else{DD(a,v,b.treeContext);var Tt=f.children,yt=Lg(a,Tt);return yt.flags|=Pi,yt}}}function u4(r,a,l){r.lanes=ht(r.lanes,a);var f=r.alternate;f!==null&&(f.lanes=ht(f.lanes,a)),Nm(r.return,a,l)}function jA(r,a,l){for(var f=a;f!==null;){if(f.tag===D){var v=f.memoizedState;v!==null&&u4(f,l,r)}else if(f.tag===Y)u4(f,l,r);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)return;for(;f.sibling===null;){if(f.return===null||f.return===r)return;f=f.return}f.sibling.return=f.return,f=f.sibling}}function zA(r){for(var a=r,l=null;a!==null;){var f=a.alternate;f!==null&&ah(f)===null&&(l=a),a=a.sibling}return l}function VA(r){if(r!==void 0&&r!=="forwards"&&r!=="backwards"&&r!=="together"&&!Dg[r])if(Dg[r]=!0,typeof r=="string")switch(r.toLowerCase()){case"together":case"forwards":case"backwards":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',r,r.toLowerCase());break}case"forward":case"backward":{c('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',r,r.toLowerCase());break}default:c('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',r);break}else c('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',r)}function HA(r,a){r!==void 0&&!Th[r]&&(r!=="collapsed"&&r!=="hidden"?(Th[r]=!0,c('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',r)):a!=="forwards"&&a!=="backwards"&&(Th[r]=!0,c('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',r)))}function f4(r,a){{var l=gt(r),f=!l&&typeof ka(r)=="function";if(l||f){var v=l?"array":"iterable";return c("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",v,a,v),!1}}return!0}function $A(r,a){if((a==="forwards"||a==="backwards")&&r!==void 0&&r!==null&&r!==!1)if(gt(r)){for(var l=0;l<r.length;l++)if(!f4(r[l],l))return}else{var f=ka(r);if(typeof f=="function"){var v=f.call(r);if(v)for(var b=v.next(),w=0;!b.done;b=v.next()){if(!f4(b.value,w))return;w++}}else c('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',a)}}function Pg(r,a,l,f,v){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=v)}function d4(r,a,l){var f=a.pendingProps,v=f.revealOrder,b=f.tail,w=f.children;VA(v),HA(b,v),$A(w,v),wr(r,a,w,l);var C=La.current,k=Lm(C,c0);if(k)C=Um(C,c0),a.flags|=Pt;else{var M=r!==null&&(r.flags&Pt)!==et;M&&jA(a,a.child,l),C=Xc(C)}if(Rs(a,C),(a.mode&Et)===We)a.memoizedState=null;else switch(v){case"forwards":{var L=zA(a.child),W;L===null?(W=a.child,a.child=null):(W=L.sibling,L.sibling=null),Pg(a,!1,W,L,b);break}case"backwards":{var q=null,re=a.child;for(a.child=null;re!==null;){var se=re.alternate;if(se!==null&&ah(se)===null){a.child=re;break}var ue=re.sibling;re.sibling=q,q=re,re=ue}Pg(a,!0,q,null,b);break}case"together":{Pg(a,!1,null,null,void 0);break}default:a.memoizedState=null}return a.child}function GA(r,a,l){Rm(a,a.stateNode.containerInfo);var f=a.pendingProps;return r===null?a.child=Kc(a,null,f,l):wr(r,a,f,l),a.child}var h4=!1;function KA(r,a,l){var f=a.type,v=f._context,b=a.pendingProps,w=a.memoizedProps,C=b.value;{"value"in b||h4||(h4=!0,c("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var k=a.type.propTypes;k&&Ra(k,b,"prop","Context.Provider")}if(i5(a,v,C),w!==null){var M=w.value;if(Yr(M,C)){if(w.children===b.children&&!Ld())return qi(r,a,l)}else VD(a,v,l)}var L=b.children;return wr(r,a,L,l),a.child}var p4=!1;function YA(r,a,l){var f=a.type;f._context===void 0?f!==f.Consumer&&(p4||(p4=!0,c("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):f=f._context;var v=a.pendingProps,b=v.children;typeof b!="function"&&c("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),qc(a,l);var w=wn(f);gu(a);var C;return g0.current=a,oa(!0),C=b(w),oa(!1),_c(),a.flags|=Ec,wr(r,a,C,l),a.child}function S0(){Ba=!0}function _h(r,a){(a.mode&Et)===We&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=Sn)}function qi(r,a,l){return r!==null&&(a.dependencies=r.dependencies),H5(),R0(a.lanes),$r(l,a.childLanes)?(jD(r,a),a.child):null}function qA(r,a,l){{var f=a.return;if(f===null)throw new Error("Cannot swap the root fiber.");if(r.alternate=null,a.alternate=null,l.index=a.index,l.sibling=a.sibling,l.return=a.return,l.ref=a.ref,a===f.child)f.child=l;else{var v=f.child;if(v===null)throw new Error("Expected parent to have a child.");for(;v.sibling!==a;)if(v=v.sibling,v===null)throw new Error("Expected to find the previous sibling.");v.sibling=l}var b=f.deletions;return b===null?(f.deletions=[r],f.flags|=mo):b.push(r),l.flags|=Sn,l}}function Bg(r,a){var l=r.lanes;return!!$r(l,a)}function WA(r,a,l){switch(a.tag){case p:s4(a),a.stateNode,Gc();break;case y:h5(a);break;case h:{var f=a.type;ci(f)&&Pd(a);break}case g:Rm(a,a.stateNode.containerInfo);break;case T:{var v=a.memoizedProps.value,b=a.type._context;i5(a,b,v);break}case N:{var w=$r(l,a.childLanes);w&&(a.flags|=Ut);{var C=a.stateNode;C.effectDuration=0,C.passiveEffectDuration=0}}break;case D:{var k=a.memoizedState;if(k!==null){if(k.dehydrated!==null)return Rs(a,Xc(La.current)),a.flags|=Pt,null;var M=a.child,L=M.childLanes;if($r(l,L))return c4(r,a,l);Rs(a,Xc(La.current));var W=qi(r,a,l);return W!==null?W.sibling:null}else Rs(a,Xc(La.current));break}case Y:{var q=(r.flags&Pt)!==et,re=$r(l,a.childLanes);if(q){if(re)return d4(r,a,l);a.flags|=Pt}var se=a.memoizedState;if(se!==null&&(se.rendering=null,se.tail=null,se.lastEffect=null),Rs(a,La.current),re)break;return null}case G:case ce:return a.lanes=ye,r4(r,a,l)}return qi(r,a,l)}function v4(r,a,l){if(a._debugNeedsRemount&&r!==null)return qA(r,a,py(a.type,a.key,a.pendingProps,a._debugOwner||null,a.mode,a.lanes));if(r!==null){var f=r.memoizedProps,v=a.pendingProps;if(f!==v||Ld()||a.type!==r.type)Ba=!0;else{var b=Bg(r,l);if(!b&&(a.flags&Pt)===et)return Ba=!1,WA(r,a,l);(r.flags&Hv)!==et?Ba=!0:Ba=!1}}else if(Ba=!1,Kn()&&SD(a)){var w=a.index,C=wD();H6(a,C,w)}switch(a.lanes=ye,a.tag){case m:return AA(r,a,a.type,l);case U:{var k=a.elementType;return kA(r,a,k,l)}case d:{var M=a.type,L=a.pendingProps,W=a.elementType===M?L:Pa(M,L);return Ag(r,a,M,W,l)}case h:{var q=a.type,re=a.pendingProps,se=a.elementType===q?re:Pa(q,re);return i4(r,a,q,se,l)}case p:return TA(r,a,l);case y:return NA(r,a,l);case S:return _A(r,a);case D:return c4(r,a,l);case g:return GA(r,a,l);case O:{var ue=a.type,De=a.pendingProps,Ye=a.elementType===ue?De:Pa(ue,De);return e4(r,a,ue,Ye,l)}case x:return xA(r,a,l);case E:return EA(r,a,l);case N:return CA(r,a,l);case T:return KA(r,a,l);case _:return YA(r,a,l);case R:{var $e=a.type,Tt=a.pendingProps,yt=Pa($e,Tt);if(a.type!==a.elementType){var te=$e.propTypes;te&&Ra(te,yt,"prop",Lt($e))}return yt=Pa($e.type,yt),t4(r,a,$e,yt,l)}case P:return n4(r,a,a.type,a.pendingProps,l);case F:{var fe=a.type,ne=a.pendingProps,xe=a.elementType===fe?ne:Pa(fe,ne);return DA(r,a,fe,xe,l)}case Y:return d4(r,a,l);case $:break;case G:return r4(r,a,l)}throw new Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function nl(r){r.flags|=Ut}function m4(r){r.flags|=go,r.flags|=$v}var g4,Fg,y4,b4;g4=function(r,a,l,f){for(var v=a.child;v!==null;){if(v.tag===y||v.tag===S)gk(r,v.stateNode);else if(v.tag!==g){if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===a)return;for(;v.sibling===null;){if(v.return===null||v.return===a)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Fg=function(r,a){},y4=function(r,a,l,f,v){var b=r.memoizedProps;if(b!==f){var w=a.stateNode,C=Mm(),k=bk(w,l,b,f,v,C);a.updateQueue=k,k&&nl(a)}},b4=function(r,a,l,f){l!==f&&nl(a)};function w0(r,a){if(!Kn())switch(r.tailMode){case"hidden":{for(var l=r.tail,f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r.tail=null:f.sibling=null;break}case"collapsed":{for(var v=r.tail,b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?!a&&r.tail!==null?r.tail.sibling=null:r.tail=null:b.sibling=null;break}}}function qn(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=ye,f=et;if(a){if((r.mode&Ht)!==We){for(var k=r.selfBaseDuration,M=r.child;M!==null;)l=ht(l,ht(M.lanes,M.childLanes)),f|=M.subtreeFlags&Bi,f|=M.flags&Bi,k+=M.treeBaseDuration,M=M.sibling;r.treeBaseDuration=k}else for(var L=r.child;L!==null;)l=ht(l,ht(L.lanes,L.childLanes)),f|=L.subtreeFlags&Bi,f|=L.flags&Bi,L.return=r,L=L.sibling;r.subtreeFlags|=f}else{if((r.mode&Ht)!==We){for(var v=r.actualDuration,b=r.selfBaseDuration,w=r.child;w!==null;)l=ht(l,ht(w.lanes,w.childLanes)),f|=w.subtreeFlags,f|=w.flags,v+=w.actualDuration,b+=w.treeBaseDuration,w=w.sibling;r.actualDuration=v,r.treeBaseDuration=b}else for(var C=r.child;C!==null;)l=ht(l,ht(C.lanes,C.childLanes)),f|=C.subtreeFlags,f|=C.flags,C.return=r,C=C.sibling;r.subtreeFlags|=f}return r.childLanes=l,a}function XA(r,a,l){if(ID()&&(a.mode&Et)!==We&&(a.flags&Pt)===et)return X6(a),Gc(),a.flags|=Ui|Zf|Sr,!1;var f=Vd(a);if(l!==null&&l.dehydrated!==null)if(r===null){if(!f)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(RD(a),qn(a),(a.mode&Ht)!==We){var v=l!==null;if(v){var b=a.child;b!==null&&(a.treeBaseDuration-=b.treeBaseDuration)}}return!1}else{if(Gc(),(a.flags&Pt)===et&&(a.memoizedState=null),a.flags|=Ut,qn(a),(a.mode&Ht)!==We){var w=l!==null;if(w){var C=a.child;C!==null&&(a.treeBaseDuration-=C.treeBaseDuration)}}return!1}else return Q6(),!0}function S4(r,a,l){var f=a.pendingProps;switch(fm(a),a.tag){case m:case U:case P:case d:case O:case x:case E:case N:case _:case R:return qn(a),null;case h:{var v=a.type;return ci(v)&&Ud(a),qn(a),null}case p:{var b=a.stateNode;if(Wc(a),om(a),Bm(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),r===null||r.child===null){var w=Vd(a);if(w)nl(a);else if(r!==null){var C=r.memoizedState;(!C.isDehydrated||(a.flags&Ui)!==et)&&(a.flags|=Cc,Q6())}}return Fg(r,a),qn(a),null}case y:{Im(a);var k=d5(),M=a.type;if(r!==null&&a.stateNode!=null)y4(r,a,M,f,k),r.ref!==a.ref&&m4(a);else{if(!f){if(a.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return qn(a),null}var L=Mm(),W=Vd(a);if(W)AD(a,k,L)&&nl(a);else{var q=mk(M,f,k,L,a);g4(q,a,!1,!1),a.stateNode=q,yk(q,M,f,k)&&nl(a)}a.ref!==null&&m4(a)}return qn(a),null}case S:{var re=f;if(r&&a.stateNode!=null){var se=r.memoizedProps;b4(r,a,se,re)}else{if(typeof re!="string"&&a.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var ue=d5(),De=Mm(),Ye=Vd(a);Ye?OD(a)&&nl(a):a.stateNode=Sk(re,ue,De,a)}return qn(a),null}case D:{Qc(a);var $e=a.memoizedState;if(r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){var Tt=XA(r,a,$e);if(!Tt)return a.flags&Sr?a:null}if((a.flags&Pt)!==et)return a.lanes=l,(a.mode&Ht)!==We&&lg(a),a;var yt=$e!==null,te=r!==null&&r.memoizedState!==null;if(yt!==te&&yt){var fe=a.child;if(fe.flags|=yo,(a.mode&Et)!==We){var ne=r===null&&(a.memoizedProps.unstable_avoidThisFallback!==!0||!0);ne||Lm(La.current,v5)?QO():ry()}}var xe=a.updateQueue;if(xe!==null&&(a.flags|=Ut),qn(a),(a.mode&Ht)!==We&&yt){var Le=a.child;Le!==null&&(a.treeBaseDuration-=Le.treeBaseDuration)}return null}case g:return Wc(a),Fg(r,a),r===null&&hD(a.stateNode.containerInfo),qn(a),null;case T:var Ae=a.type._context;return Tm(Ae,a),qn(a),null;case F:{var tt=a.type;return ci(tt)&&Ud(a),qn(a),null}case Y:{Qc(a);var st=a.memoizedState;if(st===null)return qn(a),null;var Gt=(a.flags&Pt)!==et,Rt=st.rendering;if(Rt===null)if(Gt)w0(st,!1);else{var pn=ZO()&&(r===null||(r.flags&Pt)===et);if(!pn)for(var Mt=a.child;Mt!==null;){var un=ah(Mt);if(un!==null){Gt=!0,a.flags|=Pt,w0(st,!1);var lr=un.updateQueue;return lr!==null&&(a.updateQueue=lr,a.flags|=Ut),a.subtreeFlags=et,zD(a,l),Rs(a,Um(La.current,c0)),a.child}Mt=Mt.sibling}st.tail!==null&&Fn()>z4()&&(a.flags|=Pt,Gt=!0,w0(st,!1),a.lanes=b2)}else{if(!Gt){var Zn=ah(Rt);if(Zn!==null){a.flags|=Pt,Gt=!0;var Xr=Zn.updateQueue;if(Xr!==null&&(a.updateQueue=Xr,a.flags|=Ut),w0(st,!0),st.tail===null&&st.tailMode==="hidden"&&!Rt.alternate&&!Kn())return qn(a),null}else Fn()*2-st.renderingStartTime>z4()&&l!==Hr&&(a.flags|=Pt,Gt=!0,w0(st,!1),a.lanes=b2)}if(st.isBackwards)Rt.sibling=a.child,a.child=Rt;else{var Cr=st.last;Cr!==null?Cr.sibling=Rt:a.child=Rt,st.last=Rt}}if(st.tail!==null){var Tr=st.tail;st.rendering=Tr,st.tail=Tr.sibling,st.renderingStartTime=Fn(),Tr.sibling=null;var ur=La.current;return Gt?ur=Um(ur,c0):ur=Xc(ur),Rs(a,ur),Tr}return qn(a),null}case $:break;case G:case ce:{ny(a);var Zi=a.memoizedState,ul=Zi!==null;if(r!==null){var P0=r.memoizedState,mi=P0!==null;mi!==ul&&!K&&(a.flags|=yo)}return!ul||(a.mode&Et)===We?qn(a):$r(vi,Hr)&&(qn(a),a.subtreeFlags&(Sn|Ut)&&(a.flags|=yo)),null}case Se:return null;case ee:return null}throw new Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function QA(r,a,l){switch(fm(a),a.tag){case h:{var f=a.type;ci(f)&&Ud(a);var v=a.flags;return v&Sr?(a.flags=v&~Sr|Pt,(a.mode&Ht)!==We&&lg(a),a):null}case p:{a.stateNode,Wc(a),om(a),Bm();var b=a.flags;return(b&Sr)!==et&&(b&Pt)===et?(a.flags=b&~Sr|Pt,a):null}case y:return Im(a),null;case D:{Qc(a);var w=a.memoizedState;if(w!==null&&w.dehydrated!==null){if(a.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Gc()}var C=a.flags;return C&Sr?(a.flags=C&~Sr|Pt,(a.mode&Ht)!==We&&lg(a),a):null}case Y:return Qc(a),null;case g:return Wc(a),null;case T:var k=a.type._context;return Tm(k,a),null;case G:case ce:return ny(a),null;case Se:return null;default:return null}}function w4(r,a,l){switch(fm(a),a.tag){case h:{var f=a.type.childContextTypes;f!=null&&Ud(a);break}case p:{a.stateNode,Wc(a),om(a),Bm();break}case y:{Im(a);break}case g:Wc(a);break;case D:Qc(a);break;case Y:Qc(a);break;case T:var v=a.type._context;Tm(v,a);break;case G:case ce:ny(a);break}}var x4=null;x4=new Set;var kh=!1,Wn=!1,JA=typeof WeakSet=="function"?WeakSet:Set,Fe=null,rl=null,al=null;function ZA(r){jv(null,function(){throw r}),zv()}var eO=function(r,a){if(a.props=r.memoizedProps,a.state=r.memoizedState,r.mode&Ht)try{hi(),a.componentWillUnmount()}finally{di(r)}else a.componentWillUnmount()};function E4(r,a){try{Ls(Dn,r)}catch(l){qt(r,a,l)}}function jg(r,a,l){try{eO(r,l)}catch(f){qt(r,a,f)}}function tO(r,a,l){try{l.componentDidMount()}catch(f){qt(r,a,f)}}function C4(r,a){try{N4(r)}catch(l){qt(r,a,l)}}function il(r,a){var l=r.ref;if(l!==null)if(typeof l=="function"){var f;try{if(lt&&bt&&r.mode&Ht)try{hi(),f=l(null)}finally{di(r)}else f=l(null)}catch(v){qt(r,a,v)}typeof f=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",ct(r))}else l.current=null}function Dh(r,a,l){try{l()}catch(f){qt(r,a,f)}}var T4=!1;function nO(r,a){pk(r.containerInfo),Fe=a,rO();var l=T4;return T4=!1,l}function rO(){for(;Fe!==null;){var r=Fe,a=r.child;(r.subtreeFlags&Yv)!==et&&a!==null?(a.return=r,Fe=a):aO()}}function aO(){for(;Fe!==null;){var r=Fe;rn(r);try{iO(r)}catch(l){qt(r,r.return,l)}Bn();var a=r.sibling;if(a!==null){a.return=r.return,Fe=a;return}Fe=r.return}}function iO(r){var a=r.alternate,l=r.flags;if((l&Cc)!==et){switch(rn(r),r.tag){case d:case O:case P:break;case h:{if(a!==null){var f=a.memoizedProps,v=a.memoizedState,b=r.stateNode;r.type===r.elementType&&!Bo&&(b.props!==r.memoizedProps&&c("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ct(r)||"instance"),b.state!==r.memoizedState&&c("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ct(r)||"instance"));var w=b.getSnapshotBeforeUpdate(r.elementType===r.type?f:Pa(r.type,f),v);{var C=x4;w===void 0&&!C.has(r.type)&&(C.add(r.type),c("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",ct(r)))}b.__reactInternalSnapshotBeforeUpdate=w}break}case p:{{var k=r.stateNode;Fk(k.containerInfo)}break}case y:case S:case g:case F:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Bn()}}function Fa(r,a,l){var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next,w=b;do{if((w.tag&r)===r){var C=w.destroy;w.destroy=void 0,C!==void 0&&((r&Yn)!==Rr?SN(a):(r&Dn)!==Rr&&p2(a),(r&li)!==Rr&&I0(!0),Dh(a,l,C),(r&li)!==Rr&&I0(!1),(r&Yn)!==Rr?wN():(r&Dn)!==Rr&&v2())}w=w.next}while(w!==b)}}function Ls(r,a){var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next,b=v;do{if((b.tag&r)===r){(r&Yn)!==Rr?yN(a):(r&Dn)!==Rr&&xN(a);var w=b.create;(r&li)!==Rr&&I0(!0),b.destroy=w(),(r&li)!==Rr&&I0(!1),(r&Yn)!==Rr?bN():(r&Dn)!==Rr&&EN();{var C=b.destroy;if(C!==void 0&&typeof C!="function"){var k=void 0;(b.tag&Dn)!==et?k="useLayoutEffect":(b.tag&li)!==et?k="useInsertionEffect":k="useEffect";var M=void 0;C===null?M=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof C.then=="function"?M=`

It looks like you wrote `+k+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+k+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:M=" You returned: "+C,c("%s must not return anything besides a function, which is used for clean-up.%s",k,M)}}}b=b.next}while(b!==v)}}function sO(r,a){if((a.flags&Ut)!==et)switch(a.tag){case N:{var l=a.stateNode.passiveEffectDuration,f=a.memoizedProps,v=f.id,b=f.onPostCommit,w=z5(),C=a.alternate===null?"mount":"update";j5()&&(C="nested-update"),typeof b=="function"&&b(v,C,l,w);var k=a.return;e:for(;k!==null;){switch(k.tag){case p:var M=k.stateNode;M.passiveEffectDuration+=l;break e;case N:var L=k.stateNode;L.passiveEffectDuration+=l;break e}k=k.return}break}}}function oO(r,a,l,f){if((l.flags&mu)!==et)switch(l.tag){case d:case O:case P:{if(!Wn)if(l.mode&Ht)try{hi(),Ls(Dn|kn,l)}finally{di(l)}else Ls(Dn|kn,l);break}case h:{var v=l.stateNode;if(l.flags&Ut&&!Wn)if(a===null)if(l.type===l.elementType&&!Bo&&(v.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ct(l)||"instance"),v.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ct(l)||"instance")),l.mode&Ht)try{hi(),v.componentDidMount()}finally{di(l)}else v.componentDidMount();else{var b=l.elementType===l.type?a.memoizedProps:Pa(l.type,a.memoizedProps),w=a.memoizedState;if(l.type===l.elementType&&!Bo&&(v.props!==l.memoizedProps&&c("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ct(l)||"instance"),v.state!==l.memoizedState&&c("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ct(l)||"instance")),l.mode&Ht)try{hi(),v.componentDidUpdate(b,w,v.__reactInternalSnapshotBeforeUpdate)}finally{di(l)}else v.componentDidUpdate(b,w,v.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&(l.type===l.elementType&&!Bo&&(v.props!==l.memoizedProps&&c("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",ct(l)||"instance"),v.state!==l.memoizedState&&c("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",ct(l)||"instance")),f5(l,C,v));break}case p:{var k=l.updateQueue;if(k!==null){var M=null;if(l.child!==null)switch(l.child.tag){case y:M=l.child.stateNode;break;case h:M=l.child.stateNode;break}f5(l,k,M)}break}case y:{var L=l.stateNode;if(a===null&&l.flags&Ut){var W=l.type,q=l.memoizedProps;Tk(L,W,q)}break}case S:break;case g:break;case N:{{var re=l.memoizedProps,se=re.onCommit,ue=re.onRender,De=l.stateNode.effectDuration,Ye=z5(),$e=a===null?"mount":"update";j5()&&($e="nested-update"),typeof ue=="function"&&ue(l.memoizedProps.id,$e,l.actualDuration,l.treeBaseDuration,l.actualStartTime,Ye);{typeof se=="function"&&se(l.memoizedProps.id,$e,De,Ye),aR(l);var Tt=l.return;e:for(;Tt!==null;){switch(Tt.tag){case p:var yt=Tt.stateNode;yt.effectDuration+=De;break e;case N:var te=Tt.stateNode;te.effectDuration+=De;break e}Tt=Tt.return}}}break}case D:{vO(r,l);break}case Y:case F:case $:case G:case ce:case ee:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Wn||l.flags&go&&N4(l)}function cO(r){switch(r.tag){case d:case O:case P:{if(r.mode&Ht)try{hi(),E4(r,r.return)}finally{di(r)}else E4(r,r.return);break}case h:{var a=r.stateNode;typeof a.componentDidMount=="function"&&tO(r,r.return,a),C4(r,r.return);break}case y:{C4(r,r.return);break}}}function lO(r,a){for(var l=null,f=r;;){if(f.tag===y){if(l===null){l=f;try{var v=f.stateNode;a?Lk(v):Pk(f.stateNode,f.memoizedProps)}catch(w){qt(r,r.return,w)}}}else if(f.tag===S){if(l===null)try{var b=f.stateNode;a?Uk(b):Bk(b,f.memoizedProps)}catch(w){qt(r,r.return,w)}}else if(!((f.tag===G||f.tag===ce)&&f.memoizedState!==null&&f!==r)){if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===r)return;for(;f.sibling===null;){if(f.return===null||f.return===r)return;l===f&&(l=null),f=f.return}l===f&&(l=null),f.sibling.return=f.return,f=f.sibling}}function N4(r){var a=r.ref;if(a!==null){var l=r.stateNode,f;switch(r.tag){case y:f=l;break;default:f=l}if(typeof a=="function"){var v;if(r.mode&Ht)try{hi(),v=a(f)}finally{di(r)}else v=a(f);typeof v=="function"&&c("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",ct(r))}else a.hasOwnProperty("current")||c("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",ct(r)),a.current=f}}function uO(r){var a=r.alternate;a!==null&&(a.return=null),r.return=null}function _4(r){var a=r.alternate;a!==null&&(r.alternate=null,_4(a));{if(r.child=null,r.deletions=null,r.sibling=null,r.tag===y){var l=r.stateNode;l!==null&&mD(l)}r.stateNode=null,r._debugOwner=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}}function fO(r){for(var a=r.return;a!==null;){if(k4(a))return a;a=a.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function k4(r){return r.tag===y||r.tag===p||r.tag===g}function D4(r){var a=r;e:for(;;){for(;a.sibling===null;){if(a.return===null||k4(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==y&&a.tag!==S&&a.tag!==H;){if(a.flags&Sn||a.child===null||a.tag===g)continue e;a.child.return=a,a=a.child}if(!(a.flags&Sn))return a.stateNode}}function dO(r){var a=fO(r);switch(a.tag){case y:{var l=a.stateNode;a.flags&vu&&(O6(l),a.flags&=~vu);var f=D4(r);Vg(r,f,l);break}case p:case g:{var v=a.stateNode.containerInfo,b=D4(r);zg(r,b,v);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function zg(r,a,l){var f=r.tag,v=f===y||f===S;if(v){var b=r.stateNode;a?Ok(l,b,a):Dk(l,b)}else if(f!==g){var w=r.child;if(w!==null){zg(w,a,l);for(var C=w.sibling;C!==null;)zg(C,a,l),C=C.sibling}}}function Vg(r,a,l){var f=r.tag,v=f===y||f===S;if(v){var b=r.stateNode;a?Ak(l,b,a):kk(l,b)}else if(f!==g){var w=r.child;if(w!==null){Vg(w,a,l);for(var C=w.sibling;C!==null;)Vg(C,a,l),C=C.sibling}}}var Xn=null,ja=!1;function hO(r,a,l){{var f=a;e:for(;f!==null;){switch(f.tag){case y:{Xn=f.stateNode,ja=!1;break e}case p:{Xn=f.stateNode.containerInfo,ja=!0;break e}case g:{Xn=f.stateNode.containerInfo,ja=!0;break e}}f=f.return}if(Xn===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");A4(r,a,l),Xn=null,ja=!1}uO(l)}function Us(r,a,l){for(var f=l.child;f!==null;)A4(r,a,f),f=f.sibling}function A4(r,a,l){switch(pN(l),l.tag){case y:Wn||il(l,a);case S:{{var f=Xn,v=ja;Xn=null,Us(r,a,l),Xn=f,ja=v,Xn!==null&&(ja?Mk(Xn,l.stateNode):Rk(Xn,l.stateNode))}return}case H:{Xn!==null&&(ja?Ik(Xn,l.stateNode):Z1(Xn,l.stateNode));return}case g:{{var b=Xn,w=ja;Xn=l.stateNode.containerInfo,ja=!0,Us(r,a,l),Xn=b,ja=w}return}case d:case O:case R:case P:{if(!Wn){var C=l.updateQueue;if(C!==null){var k=C.lastEffect;if(k!==null){var M=k.next,L=M;do{var W=L,q=W.destroy,re=W.tag;q!==void 0&&((re&li)!==Rr?Dh(l,a,q):(re&Dn)!==Rr&&(p2(l),l.mode&Ht?(hi(),Dh(l,a,q),di(l)):Dh(l,a,q),v2())),L=L.next}while(L!==M)}}}Us(r,a,l);return}case h:{if(!Wn){il(l,a);var se=l.stateNode;typeof se.componentWillUnmount=="function"&&jg(l,a,se)}Us(r,a,l);return}case $:{Us(r,a,l);return}case G:{if(l.mode&Et){var ue=Wn;Wn=ue||l.memoizedState!==null,Us(r,a,l),Wn=ue}else Us(r,a,l);break}default:{Us(r,a,l);return}}}function pO(r){r.memoizedState}function vO(r,a){var l=a.memoizedState;if(l===null){var f=a.alternate;if(f!==null){var v=f.memoizedState;if(v!==null){var b=v.dehydrated;b!==null&&Zk(b)}}}}function O4(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new JA),a.forEach(function(f){var v=fR.bind(null,r,f);if(!l.has(f)){if(l.add(f),Aa)if(rl!==null&&al!==null)M0(al,rl);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");f.then(v,v)}})}}function mO(r,a,l){rl=l,al=r,rn(a),R4(a,r),rn(a),rl=null,al=null}function za(r,a,l){var f=a.deletions;if(f!==null)for(var v=0;v<f.length;v++){var b=f[v];try{hO(r,a,b)}catch(k){qt(b,a,k)}}var w=Vf();if(a.subtreeFlags&qv)for(var C=a.child;C!==null;)rn(C),R4(C,r),C=C.sibling;rn(w)}function R4(r,a,l){var f=r.alternate,v=r.flags;switch(r.tag){case d:case O:case R:case P:{if(za(a,r),pi(r),v&Ut){try{Fa(li|kn,r,r.return),Ls(li|kn,r)}catch(tt){qt(r,r.return,tt)}if(r.mode&Ht){try{hi(),Fa(Dn|kn,r,r.return)}catch(tt){qt(r,r.return,tt)}di(r)}else try{Fa(Dn|kn,r,r.return)}catch(tt){qt(r,r.return,tt)}}return}case h:{za(a,r),pi(r),v&go&&f!==null&&il(f,f.return);return}case y:{za(a,r),pi(r),v&go&&f!==null&&il(f,f.return);{if(r.flags&vu){var b=r.stateNode;try{O6(b)}catch(tt){qt(r,r.return,tt)}}if(v&Ut){var w=r.stateNode;if(w!=null){var C=r.memoizedProps,k=f!==null?f.memoizedProps:C,M=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{Nk(w,L,M,k,C,r)}catch(tt){qt(r,r.return,tt)}}}}return}case S:{if(za(a,r),pi(r),v&Ut){if(r.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var W=r.stateNode,q=r.memoizedProps,re=f!==null?f.memoizedProps:q;try{_k(W,re,q)}catch(tt){qt(r,r.return,tt)}}return}case p:{if(za(a,r),pi(r),v&Ut&&f!==null){var se=f.memoizedState;if(se.isDehydrated)try{Jk(a.containerInfo)}catch(tt){qt(r,r.return,tt)}}return}case g:{za(a,r),pi(r);return}case D:{za(a,r),pi(r);var ue=r.child;if(ue.flags&yo){var De=ue.stateNode,Ye=ue.memoizedState,$e=Ye!==null;if(De.isHidden=$e,$e){var Tt=ue.alternate!==null&&ue.alternate.memoizedState!==null;Tt||XO()}}if(v&Ut){try{pO(r)}catch(tt){qt(r,r.return,tt)}O4(r)}return}case G:{var yt=f!==null&&f.memoizedState!==null;if(r.mode&Et){var te=Wn;Wn=te||yt,za(a,r),Wn=te}else za(a,r);if(pi(r),v&yo){var fe=r.stateNode,ne=r.memoizedState,xe=ne!==null,Le=r;if(fe.isHidden=xe,xe&&!yt&&(Le.mode&Et)!==We){Fe=Le;for(var Ae=Le.child;Ae!==null;)Fe=Ae,yO(Ae),Ae=Ae.sibling}lO(Le,xe)}return}case Y:{za(a,r),pi(r),v&Ut&&O4(r);return}case $:return;default:{za(a,r),pi(r);return}}}function pi(r){var a=r.flags;if(a&Sn){try{dO(r)}catch(l){qt(r,r.return,l)}r.flags&=~Sn}a&Pi&&(r.flags&=~Pi)}function gO(r,a,l){rl=l,al=a,Fe=r,M4(r,a,l),rl=null,al=null}function M4(r,a,l){for(var f=(r.mode&Et)!==We;Fe!==null;){var v=Fe,b=v.child;if(v.tag===G&&f){var w=v.memoizedState!==null,C=w||kh;if(C){Hg(r,a,l);continue}else{var k=v.alternate,M=k!==null&&k.memoizedState!==null,L=M||Wn,W=kh,q=Wn;kh=C,Wn=L,Wn&&!q&&(Fe=v,bO(v));for(var re=b;re!==null;)Fe=re,M4(re,a,l),re=re.sibling;Fe=v,kh=W,Wn=q,Hg(r,a,l);continue}}(v.subtreeFlags&mu)!==et&&b!==null?(b.return=v,Fe=b):Hg(r,a,l)}}function Hg(r,a,l){for(;Fe!==null;){var f=Fe;if((f.flags&mu)!==et){var v=f.alternate;rn(f);try{oO(a,v,f,l)}catch(w){qt(f,f.return,w)}Bn()}if(f===r){Fe=null;return}var b=f.sibling;if(b!==null){b.return=f.return,Fe=b;return}Fe=f.return}}function yO(r){for(;Fe!==null;){var a=Fe,l=a.child;switch(a.tag){case d:case O:case R:case P:{if(a.mode&Ht)try{hi(),Fa(Dn,a,a.return)}finally{di(a)}else Fa(Dn,a,a.return);break}case h:{il(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&jg(a,a.return,f);break}case y:{il(a,a.return);break}case G:{var v=a.memoizedState!==null;if(v){I4(r);continue}break}}l!==null?(l.return=a,Fe=l):I4(r)}}function I4(r){for(;Fe!==null;){var a=Fe;if(a===r){Fe=null;return}var l=a.sibling;if(l!==null){l.return=a.return,Fe=l;return}Fe=a.return}}function bO(r){for(;Fe!==null;){var a=Fe,l=a.child;if(a.tag===G){var f=a.memoizedState!==null;if(f){L4(r);continue}}l!==null?(l.return=a,Fe=l):L4(r)}}function L4(r){for(;Fe!==null;){var a=Fe;rn(a);try{cO(a)}catch(f){qt(a,a.return,f)}if(Bn(),a===r){Fe=null;return}var l=a.sibling;if(l!==null){l.return=a.return,Fe=l;return}Fe=a.return}}function SO(r,a,l,f){Fe=a,wO(a,r,l,f)}function wO(r,a,l,f){for(;Fe!==null;){var v=Fe,b=v.child;(v.subtreeFlags&Tc)!==et&&b!==null?(b.return=v,Fe=b):xO(r,a,l,f)}}function xO(r,a,l,f){for(;Fe!==null;){var v=Fe;if((v.flags&gs)!==et){rn(v);try{EO(a,v,l,f)}catch(w){qt(v,v.return,w)}Bn()}if(v===r){Fe=null;return}var b=v.sibling;if(b!==null){b.return=v.return,Fe=b;return}Fe=v.return}}function EO(r,a,l,f){switch(a.tag){case d:case O:case P:{if(a.mode&Ht){cg();try{Ls(Yn|kn,a)}finally{og(a)}}else Ls(Yn|kn,a);break}}}function CO(r){Fe=r,TO()}function TO(){for(;Fe!==null;){var r=Fe,a=r.child;if((Fe.flags&mo)!==et){var l=r.deletions;if(l!==null){for(var f=0;f<l.length;f++){var v=l[f];Fe=v,kO(v,r)}{var b=r.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}}Fe=r}}(r.subtreeFlags&Tc)!==et&&a!==null?(a.return=r,Fe=a):NO()}}function NO(){for(;Fe!==null;){var r=Fe;(r.flags&gs)!==et&&(rn(r),_O(r),Bn());var a=r.sibling;if(a!==null){a.return=r.return,Fe=a;return}Fe=r.return}}function _O(r){switch(r.tag){case d:case O:case P:{r.mode&Ht?(cg(),Fa(Yn|kn,r,r.return),og(r)):Fa(Yn|kn,r,r.return);break}}}function kO(r,a){for(;Fe!==null;){var l=Fe;rn(l),AO(l,a),Bn();var f=l.child;f!==null?(f.return=l,Fe=f):DO(r)}}function DO(r){for(;Fe!==null;){var a=Fe,l=a.sibling,f=a.return;if(_4(a),a===r){Fe=null;return}if(l!==null){l.return=f,Fe=l;return}Fe=f}}function AO(r,a){switch(r.tag){case d:case O:case P:{r.mode&Ht?(cg(),Fa(Yn,r,a),og(r)):Fa(Yn,r,a);break}}}function OO(r){switch(r.tag){case d:case O:case P:{try{Ls(Dn|kn,r)}catch(l){qt(r,r.return,l)}break}case h:{var a=r.stateNode;try{a.componentDidMount()}catch(l){qt(r,r.return,l)}break}}}function RO(r){switch(r.tag){case d:case O:case P:{try{Ls(Yn|kn,r)}catch(a){qt(r,r.return,a)}break}}}function MO(r){switch(r.tag){case d:case O:case P:{try{Fa(Dn|kn,r,r.return)}catch(l){qt(r,r.return,l)}break}case h:{var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jg(r,r.return,a);break}}}function IO(r){switch(r.tag){case d:case O:case P:try{Fa(Yn|kn,r,r.return)}catch(a){qt(r,r.return,a)}}}if(typeof Symbol=="function"&&Symbol.for){var x0=Symbol.for;x0("selector.component"),x0("selector.has_pseudo_class"),x0("selector.role"),x0("selector.test_id"),x0("selector.text")}var LO=[];function UO(){LO.forEach(function(r){return r()})}var PO=n.ReactCurrentActQueue;function BO(r){{var a=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,l=typeof jest<"u";return l&&a!==!1}}function U4(){{var r=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!r&&PO.current!==null&&c("The current testing environment is not configured to support act(...)"),r}}var FO=Math.ceil,$g=n.ReactCurrentDispatcher,Gg=n.ReactCurrentOwner,Qn=n.ReactCurrentBatchConfig,Va=n.ReactCurrentActQueue,Rn=0,P4=1,Jn=2,ha=4,Wi=0,E0=1,Fo=2,Ah=3,C0=4,B4=5,Kg=6,Ct=Rn,xr=null,sn=null,Mn=ye,vi=ye,Yg=Ns(ye),In=Wi,T0=null,Oh=ye,N0=ye,Rh=ye,_0=null,Mr=null,qg=0,F4=500,j4=1/0,jO=500,Xi=null;function k0(){j4=Fn()+jO}function z4(){return j4}var Mh=!1,Wg=null,sl=null,jo=!1,Ps=null,D0=ye,Xg=[],Qg=null,zO=50,A0=0,Jg=null,Zg=!1,Ih=!1,VO=50,ol=0,Lh=null,O0=Qt,Uh=ye,V4=!1;function Ph(){return xr}function Er(){return(Ct&(Jn|ha))!==Rn?Fn():(O0!==Qt||(O0=Fn()),O0)}function Bs(r){var a=r.mode;if((a&Et)===We)return rt;if((Ct&Jn)!==Rn&&Mn!==ye)return Eu(Mn);var l=PD()!==UD;if(l){if(Qn.transition!==null){var f=Qn.transition;f._updatedFibers||(f._updatedFibers=new Set),f._updatedFibers.add(r)}return Uh===zn&&(Uh=E2()),Uh}var v=Oa();if(v!==zn)return v;var b=wk();return b}function HO(r){var a=r.mode;return(a&Et)===We?rt:GN()}function Ln(r,a,l,f){hR(),V4&&c("useInsertionEffect must not schedule updates."),Zg&&(Ih=!0),Cu(r,l,f),(Ct&Jn)!==ye&&r===xr?mR(a):(Aa&&N2(r,a,l),gR(a),r===xr&&((Ct&Jn)===Rn&&(N0=ht(N0,l)),In===C0&&Fs(r,Mn)),Ir(r,f),l===rt&&Ct===Rn&&(a.mode&Et)===We&&!Va.isBatchingLegacy&&(k0(),V6()))}function $O(r,a,l){var f=r.current;f.lanes=a,Cu(r,a,l),Ir(r,l)}function GO(r){return(Ct&Jn)!==Rn}function Ir(r,a){var l=r.callbackNode;FN(r,a);var f=ad(r,r===xr?Mn:ye);if(f===ye){l!==null&&aS(l),r.callbackNode=null,r.callbackPriority=zn;return}var v=Co(f),b=r.callbackPriority;if(b===v&&!(Va.current!==null&&l!==sy)){l==null&&b!==rt&&c("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}l!=null&&aS(l);var w;if(v===rt)r.tag===_s?(Va.isBatchingLegacy!==null&&(Va.didScheduleLegacyUpdate=!0),bD(G4.bind(null,r))):z6(G4.bind(null,r)),Va.current!==null?Va.current.push(ks):Ek(function(){(Ct&(Jn|ha))===Rn&&ks()}),w=null;else{var C;switch(D2(f)){case Gr:C=ed;break;case ji:C=Wv;break;case zi:C=wo;break;case od:C=Xv;break;default:C=wo;break}w=oy(C,H4.bind(null,r))}r.callbackPriority=v,r.callbackNode=w}function H4(r,a){if(lA(),O0=Qt,Uh=ye,(Ct&(Jn|ha))!==Rn)throw new Error("Should not already be working.");var l=r.callbackNode,f=Ji();if(f&&r.callbackNode!==l)return null;var v=ad(r,r===xr?Mn:ye);if(v===ye)return null;var b=!id(r,v)&&!$N(r,v)&&!a,w=b?tR(r,v):Fh(r,v);if(w!==Wi){if(w===Fo){var C=y1(r);C!==ye&&(v=C,w=ey(r,C))}if(w===E0){var k=T0;throw zo(r,ye),Fs(r,v),Ir(r,Fn()),k}if(w===Kg)Fs(r,v);else{var M=!id(r,v),L=r.current.alternate;if(M&&!YO(L)){if(w=Fh(r,v),w===Fo){var W=y1(r);W!==ye&&(v=W,w=ey(r,W))}if(w===E0){var q=T0;throw zo(r,ye),Fs(r,v),Ir(r,Fn()),q}}r.finishedWork=L,r.finishedLanes=v,KO(r,w,v)}}return Ir(r,Fn()),r.callbackNode===l?H4.bind(null,r):null}function ey(r,a){var l=_0;if(cd(r)){var f=zo(r,a);f.flags|=Ui,dD(r.containerInfo)}var v=Fh(r,a);if(v!==Fo){var b=Mr;Mr=l,b!==null&&$4(b)}return v}function $4(r){Mr===null?Mr=r:Mr.push.apply(Mr,r)}function KO(r,a,l){switch(a){case Wi:case E0:throw new Error("Root did not complete. This is a bug in React.");case Fo:{Vo(r,Mr,Xi);break}case Ah:{if(Fs(r,l),w2(l)&&!iS()){var f=qg+F4-Fn();if(f>10){var v=ad(r,ye);if(v!==ye)break;var b=r.suspendedLanes;if(!Oc(b,l)){Er(),T2(r,b);break}r.timeoutHandle=Q1(Vo.bind(null,r,Mr,Xi),f);break}}Vo(r,Mr,Xi);break}case C0:{if(Fs(r,l),HN(l))break;if(!iS()){var w=PN(r,l),C=w,k=Fn()-C,M=dR(k)-k;if(M>10){r.timeoutHandle=Q1(Vo.bind(null,r,Mr,Xi),M);break}}Vo(r,Mr,Xi);break}case B4:{Vo(r,Mr,Xi);break}default:throw new Error("Unknown root exit status.")}}function YO(r){for(var a=r;;){if(a.flags&Vv){var l=a.updateQueue;if(l!==null){var f=l.stores;if(f!==null)for(var v=0;v<f.length;v++){var b=f[v],w=b.getSnapshot,C=b.value;try{if(!Yr(w(),C))return!1}catch{return!1}}}}var k=a.child;if(a.subtreeFlags&Vv&&k!==null){k.return=a,a=k;continue}if(a===r)return!0;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}return!0}function Fs(r,a){a=sd(a,Rh),a=sd(a,N0),YN(r,a)}function G4(r){if(uA(),(Ct&(Jn|ha))!==Rn)throw new Error("Should not already be working.");Ji();var a=ad(r,ye);if(!$r(a,rt))return Ir(r,Fn()),null;var l=Fh(r,a);if(r.tag!==_s&&l===Fo){var f=y1(r);f!==ye&&(a=f,l=ey(r,f))}if(l===E0){var v=T0;throw zo(r,ye),Fs(r,a),Ir(r,Fn()),v}if(l===Kg)throw new Error("Root did not complete. This is a bug in React.");var b=r.current.alternate;return r.finishedWork=b,r.finishedLanes=a,Vo(r,Mr,Xi),Ir(r,Fn()),null}function qO(r,a){a!==ye&&(x1(r,ht(a,rt)),Ir(r,Fn()),(Ct&(Jn|ha))===Rn&&(k0(),ks()))}function ty(r,a){var l=Ct;Ct|=P4;try{return r(a)}finally{Ct=l,Ct===Rn&&!Va.isBatchingLegacy&&(k0(),V6())}}function WO(r,a,l,f,v){var b=Oa(),w=Qn.transition;try{return Qn.transition=null,Vn(Gr),r(a,l,f,v)}finally{Vn(b),Qn.transition=w,Ct===Rn&&k0()}}function Qi(r){Ps!==null&&Ps.tag===_s&&(Ct&(Jn|ha))===Rn&&Ji();var a=Ct;Ct|=P4;var l=Qn.transition,f=Oa();try{return Qn.transition=null,Vn(Gr),r?r():void 0}finally{Vn(f),Qn.transition=l,Ct=a,(Ct&(Jn|ha))===Rn&&ks()}}function K4(){return(Ct&(Jn|ha))!==Rn}function Bh(r,a){or(Yg,vi,r),vi=ht(vi,a)}function ny(r){vi=Yg.current,sr(Yg,r)}function zo(r,a){r.finishedWork=null,r.finishedLanes=ye;var l=r.timeoutHandle;if(l!==J1&&(r.timeoutHandle=J1,xk(l)),sn!==null)for(var f=sn.return;f!==null;){var v=f.alternate;w4(v,f),f=f.return}xr=r;var b=Ho(r.current,null);return sn=b,Mn=vi=a,In=Wi,T0=null,Oh=ye,N0=ye,Rh=ye,_0=null,Mr=null,$D(),Ia.discardPendingWarnings(),b}function Y4(r,a){do{var l=sn;try{if(qd(),g5(),Bn(),Gg.current=null,l===null||l.return===null){In=E0,T0=a,sn=null;return}if(lt&&l.mode&Ht&&Eh(l,!0),Me)if(_c(),a!==null&&typeof a=="object"&&typeof a.then=="function"){var f=a;TN(l,f,Mn)}else CN(l,a,Mn);bA(r,l.return,l,a,Mn),Q4(l)}catch(v){a=v,sn===l&&l!==null?(l=l.return,sn=l):l=sn;continue}return}while(!0)}function q4(){var r=$g.current;return $g.current=yh,r===null?yh:r}function W4(r){$g.current=r}function XO(){qg=Fn()}function R0(r){Oh=ht(r,Oh)}function QO(){In===Wi&&(In=Ah)}function ry(){(In===Wi||In===Ah||In===Fo)&&(In=C0),xr!==null&&(b1(Oh)||b1(N0))&&Fs(xr,Mn)}function JO(r){In!==C0&&(In=Fo),_0===null?_0=[r]:_0.push(r)}function ZO(){return In===Wi}function Fh(r,a){var l=Ct;Ct|=Jn;var f=q4();if(xr!==r||Mn!==a){if(Aa){var v=r.memoizedUpdaters;v.size>0&&(M0(r,Mn),v.clear()),_2(r,a)}Xi=k2(),zo(r,a)}m2(a);do try{eR();break}catch(b){Y4(r,b)}while(!0);if(qd(),Ct=l,W4(f),sn!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return g2(),xr=null,Mn=ye,In}function eR(){for(;sn!==null;)X4(sn)}function tR(r,a){var l=Ct;Ct|=Jn;var f=q4();if(xr!==r||Mn!==a){if(Aa){var v=r.memoizedUpdaters;v.size>0&&(M0(r,Mn),v.clear()),_2(r,a)}Xi=k2(),k0(),zo(r,a)}m2(a);do try{nR();break}catch(b){Y4(r,b)}while(!0);return qd(),W4(f),Ct=l,sn!==null?(AN(),Wi):(g2(),xr=null,Mn=ye,In)}function nR(){for(;sn!==null&&!aN();)X4(sn)}function X4(r){var a=r.alternate;rn(r);var l;(r.mode&Ht)!==We?(sg(r),l=ay(a,r,vi),Eh(r,!0)):l=ay(a,r,vi),Bn(),r.memoizedProps=r.pendingProps,l===null?Q4(r):sn=l,Gg.current=null}function Q4(r){var a=r;do{var l=a.alternate,f=a.return;if((a.flags&Zf)===et){rn(a);var v=void 0;if((a.mode&Ht)===We?v=S4(l,a,vi):(sg(a),v=S4(l,a,vi),Eh(a,!1)),Bn(),v!==null){sn=v;return}}else{var b=QA(l,a);if(b!==null){b.flags&=J8,sn=b;return}if((a.mode&Ht)!==We){Eh(a,!1);for(var w=a.actualDuration,C=a.child;C!==null;)w+=C.actualDuration,C=C.sibling;a.actualDuration=w}if(f!==null)f.flags|=Zf,f.subtreeFlags=et,f.deletions=null;else{In=Kg,sn=null;return}}var k=a.sibling;if(k!==null){sn=k;return}a=f,sn=a}while(a!==null);In===Wi&&(In=B4)}function Vo(r,a,l){var f=Oa(),v=Qn.transition;try{Qn.transition=null,Vn(Gr),rR(r,a,l,f)}finally{Qn.transition=v,Vn(f)}return null}function rR(r,a,l,f){do Ji();while(Ps!==null);if(pR(),(Ct&(Jn|ha))!==Rn)throw new Error("Should not already be working.");var v=r.finishedWork,b=r.finishedLanes;if(gN(b),v===null)return h2(),null;if(b===ye&&c("root.finishedLanes should not be empty during a commit. This is a bug in React."),r.finishedWork=null,r.finishedLanes=ye,v===r.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");r.callbackNode=null,r.callbackPriority=zn;var w=ht(v.lanes,v.childLanes);qN(r,w),r===xr&&(xr=null,sn=null,Mn=ye),((v.subtreeFlags&Tc)!==et||(v.flags&Tc)!==et)&&(jo||(jo=!0,Qg=l,oy(wo,function(){return Ji(),null})));var C=(v.subtreeFlags&(Yv|qv|mu|Tc))!==et,k=(v.flags&(Yv|qv|mu|Tc))!==et;if(C||k){var M=Qn.transition;Qn.transition=null;var L=Oa();Vn(Gr);var W=Ct;Ct|=ha,Gg.current=null,nO(r,v),V5(),mO(r,v,b),vk(r.containerInfo),r.current=v,NN(b),gO(v,r,b),_N(),iN(),Ct=W,Vn(L),Qn.transition=M}else r.current=v,V5();var q=jo;if(jo?(jo=!1,Ps=r,D0=b):(ol=0,Lh=null),w=r.pendingLanes,w===ye&&(sl=null),q||tS(r.current,!1),dN(v.stateNode,f),Aa&&r.memoizedUpdaters.clear(),UO(),Ir(r,Fn()),a!==null)for(var re=r.onRecoverableError,se=0;se<a.length;se++){var ue=a[se],De=ue.stack,Ye=ue.digest;re(ue.value,{componentStack:De,digest:Ye})}if(Mh){Mh=!1;var $e=Wg;throw Wg=null,$e}return $r(D0,rt)&&r.tag!==_s&&Ji(),w=r.pendingLanes,$r(w,rt)?(cA(),r===Jg?A0++:(A0=0,Jg=r)):A0=0,ks(),h2(),null}function Ji(){if(Ps!==null){var r=D2(D0),a=JN(zi,r),l=Qn.transition,f=Oa();try{return Qn.transition=null,Vn(a),iR()}finally{Vn(f),Qn.transition=l}}return!1}function aR(r){Xg.push(r),jo||(jo=!0,oy(wo,function(){return Ji(),null}))}function iR(){if(Ps===null)return!1;var r=Qg;Qg=null;var a=Ps,l=D0;if(Ps=null,D0=ye,(Ct&(Jn|ha))!==Rn)throw new Error("Cannot flush passive effects while already rendering.");Zg=!0,Ih=!1,kN(l);var f=Ct;Ct|=ha,CO(a.current),SO(a,a.current,l,r);{var v=Xg;Xg=[];for(var b=0;b<v.length;b++){var w=v[b];sO(a,w)}}DN(),tS(a.current,!0),Ct=f,ks(),Ih?a===Lh?ol++:(ol=0,Lh=a):ol=0,Zg=!1,Ih=!1,hN(a);{var C=a.current.stateNode;C.effectDuration=0,C.passiveEffectDuration=0}return!0}function J4(r){return sl!==null&&sl.has(r)}function sR(r){sl===null?sl=new Set([r]):sl.add(r)}function oR(r){Mh||(Mh=!0,Wg=r)}var cR=oR;function Z4(r,a,l){var f=Po(l,a),v=X5(r,f,rt),b=As(r,v,rt),w=Er();b!==null&&(Cu(b,rt,w),Ir(b,w))}function qt(r,a,l){if(ZA(l),I0(!1),r.tag===p){Z4(r,r,l);return}var f=null;for(f=a;f!==null;){if(f.tag===p){Z4(f,r,l);return}else if(f.tag===h){var v=f.type,b=f.stateNode;if(typeof v.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&!J4(b)){var w=Po(l,r),C=Cg(f,w,rt),k=As(f,C,rt),M=Er();k!==null&&(Cu(k,rt,M),Ir(k,M));return}}f=f.return}c(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,l)}function lR(r,a,l){var f=r.pingCache;f!==null&&f.delete(a);var v=Er();T2(r,l),yR(r),xr===r&&Oc(Mn,l)&&(In===C0||In===Ah&&w2(Mn)&&Fn()-qg<F4?zo(r,ye):Rh=ht(Rh,l)),Ir(r,v)}function eS(r,a){a===zn&&(a=HO(r));var l=Er(),f=Or(r,a);f!==null&&(Cu(f,a,l),Ir(f,l))}function uR(r){var a=r.memoizedState,l=zn;a!==null&&(l=a.retryLane),eS(r,l)}function fR(r,a){var l=zn,f;switch(r.tag){case D:f=r.stateNode;var v=r.memoizedState;v!==null&&(l=v.retryLane);break;case Y:f=r.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}f!==null&&f.delete(a),eS(r,l)}function dR(r){return r<120?120:r<480?480:r<1080?1080:r<1920?1920:r<3e3?3e3:r<4320?4320:FO(r/1960)*1960}function hR(){if(A0>zO)throw A0=0,Jg=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");ol>VO&&(ol=0,Lh=null,c("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function pR(){Ia.flushLegacyContextWarning(),Ia.flushPendingUnsafeLifecycleWarnings()}function tS(r,a){rn(r),jh(r,ys,MO),a&&jh(r,Kv,IO),jh(r,ys,OO),a&&jh(r,Kv,RO),Bn()}function jh(r,a,l){for(var f=r,v=null;f!==null;){var b=f.subtreeFlags&a;f!==v&&f.child!==null&&b!==et?f=f.child:((f.flags&a)!==et&&l(f),f.sibling!==null?f=f.sibling:f=v=f.return)}}var zh=null;function nS(r){{if((Ct&Jn)!==Rn||!(r.mode&Et))return;var a=r.tag;if(a!==m&&a!==p&&a!==h&&a!==d&&a!==O&&a!==R&&a!==P)return;var l=ct(r)||"ReactComponent";if(zh!==null){if(zh.has(l))return;zh.add(l)}else zh=new Set([l]);var f=gr;try{rn(r),c("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{f?rn(r):Bn()}}}var ay;{var vR=null;ay=function(r,a,l){var f=uS(vR,a);try{return v4(r,a,l)}catch(b){if(_D()||b!==null&&typeof b=="object"&&typeof b.then=="function")throw b;if(qd(),g5(),w4(r,a),uS(a,f),a.mode&Ht&&sg(a),jv(null,v4,null,r,a,l),W8()){var v=zv();typeof v=="object"&&v!==null&&v._suppressLogging&&typeof b=="object"&&b!==null&&!b._suppressLogging&&(b._suppressLogging=!0)}throw b}}}var rS=!1,iy;iy=new Set;function mR(r){if(fo&&!iA())switch(r.tag){case d:case O:case P:{var a=sn&&ct(sn)||"Unknown",l=a;if(!iy.has(l)){iy.add(l);var f=ct(r)||"Unknown";c("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",f,a,a)}break}case h:{rS||(c("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),rS=!0);break}}}function M0(r,a){if(Aa){var l=r.memoizedUpdaters;l.forEach(function(f){N2(r,f,a)})}}var sy={};function oy(r,a){{var l=Va.current;return l!==null?(l.push(a),sy):d2(r,a)}}function aS(r){if(r!==sy)return rN(r)}function iS(){return Va.current!==null}function gR(r){{if(r.mode&Et){if(!U4())return}else if(!BO()||Ct!==Rn||r.tag!==d&&r.tag!==O&&r.tag!==P)return;if(Va.current===null){var a=gr;try{rn(r),c(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,ct(r))}finally{a?rn(r):Bn()}}}}function yR(r){r.tag!==_s&&U4()&&Va.current===null&&c(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function I0(r){V4=r}var pa=null,cl=null,bR=function(r){pa=r};function ll(r){{if(pa===null)return r;var a=pa(r);return a===void 0?r:a.current}}function cy(r){return ll(r)}function ly(r){{if(pa===null)return r;var a=pa(r);if(a===void 0){if(r!=null&&typeof r.render=="function"){var l=ll(r.render);if(r.render!==l){var f={$$typeof:Ke,render:l};return r.displayName!==void 0&&(f.displayName=r.displayName),f}}return r}return a.current}}function sS(r,a){{if(pa===null)return!1;var l=r.elementType,f=a.type,v=!1,b=typeof f=="object"&&f!==null?f.$$typeof:null;switch(r.tag){case h:{typeof f=="function"&&(v=!0);break}case d:{(typeof f=="function"||b===qe)&&(v=!0);break}case O:{(b===Ke||b===qe)&&(v=!0);break}case R:case P:{(b===dt||b===qe)&&(v=!0);break}default:return!1}if(v){var w=pa(l);if(w!==void 0&&w===pa(f))return!0}return!1}}function oS(r){{if(pa===null||typeof WeakSet!="function")return;cl===null&&(cl=new WeakSet),cl.add(r)}}var SR=function(r,a){{if(pa===null)return;var l=a.staleFamilies,f=a.updatedFamilies;Ji(),Qi(function(){uy(r.current,f,l)})}},wR=function(r,a){{if(r.context!==qr)return;Ji(),Qi(function(){L0(a,r,null,null)})}};function uy(r,a,l){{var f=r.alternate,v=r.child,b=r.sibling,w=r.tag,C=r.type,k=null;switch(w){case d:case P:case h:k=C;break;case O:k=C.render;break}if(pa===null)throw new Error("Expected resolveFamily to be set during hot reload.");var M=!1,L=!1;if(k!==null){var W=pa(k);W!==void 0&&(l.has(W)?L=!0:a.has(W)&&(w===h?L=!0:M=!0))}if(cl!==null&&(cl.has(r)||f!==null&&cl.has(f))&&(L=!0),L&&(r._debugNeedsRemount=!0),L||M){var q=Or(r,rt);q!==null&&Ln(q,r,rt,Qt)}v!==null&&!L&&uy(v,a,l),b!==null&&uy(b,a,l)}}var xR=function(r,a){{var l=new Set,f=new Set(a.map(function(v){return v.current}));return fy(r.current,f,l),l}};function fy(r,a,l){{var f=r.child,v=r.sibling,b=r.tag,w=r.type,C=null;switch(b){case d:case P:case h:C=w;break;case O:C=w.render;break}var k=!1;C!==null&&a.has(C)&&(k=!0),k?ER(r,l):f!==null&&fy(f,a,l),v!==null&&fy(v,a,l)}}function ER(r,a){{var l=CR(r,a);if(l)return;for(var f=r;;){switch(f.tag){case y:a.add(f.stateNode);return;case g:a.add(f.stateNode.containerInfo);return;case p:a.add(f.stateNode.containerInfo);return}if(f.return===null)throw new Error("Expected to reach root first.");f=f.return}}}function CR(r,a){for(var l=r,f=!1;;){if(l.tag===y)f=!0,a.add(l.stateNode);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)return f;for(;l.sibling===null;){if(l.return===null||l.return===r)return f;l=l.return}l.sibling.return=l.return,l=l.sibling}return!1}var dy;{dy=!1;try{var cS=Object.preventExtensions({})}catch{dy=!0}}function TR(r,a,l,f){this.tag=r,this.key=l,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=a,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=f,this.flags=et,this.subtreeFlags=et,this.deletions=null,this.lanes=ye,this.childLanes=ye,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!dy&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var Wr=function(r,a,l,f){return new TR(r,a,l,f)};function hy(r){var a=r.prototype;return!!(a&&a.isReactComponent)}function NR(r){return typeof r=="function"&&!hy(r)&&r.defaultProps===void 0}function _R(r){if(typeof r=="function")return hy(r)?h:d;if(r!=null){var a=r.$$typeof;if(a===Ke)return O;if(a===dt)return R}return m}function Ho(r,a){var l=r.alternate;l===null?(l=Wr(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l._debugSource=r._debugSource,l._debugOwner=r._debugOwner,l._debugHookTypes=r._debugHookTypes,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=et,l.subtreeFlags=et,l.deletions=null,l.actualDuration=0,l.actualStartTime=-1),l.flags=r.flags&Bi,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue;var f=r.dependencies;switch(l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.selfBaseDuration=r.selfBaseDuration,l.treeBaseDuration=r.treeBaseDuration,l._debugNeedsRemount=r._debugNeedsRemount,l.tag){case m:case d:case P:l.type=ll(r.type);break;case h:l.type=cy(r.type);break;case O:l.type=ly(r.type);break}return l}function kR(r,a){r.flags&=Bi|Sn;var l=r.alternate;if(l===null)r.childLanes=ye,r.lanes=a,r.child=null,r.subtreeFlags=et,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null,r.selfBaseDuration=0,r.treeBaseDuration=0;else{r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=et,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type;var f=l.dependencies;r.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},r.selfBaseDuration=l.selfBaseDuration,r.treeBaseDuration=l.treeBaseDuration}return r}function DR(r,a,l){var f;return r===Bd?(f=Et,a===!0&&(f|=ln,f|=ii)):f=We,Aa&&(f|=Ht),Wr(p,null,null,f)}function py(r,a,l,f,v,b){var w=m,C=r;if(typeof r=="function")hy(r)?(w=h,C=cy(C)):C=ll(C);else if(typeof r=="string")w=y;else e:switch(r){case ti:return js(l.children,v,b,a);case io:w=E,v|=ln,(v&Et)!==We&&(v|=ii);break;case V:return AR(l,v,b,a);case wt:return OR(l,v,b,a);case nt:return RR(l,v,b,a);case tn:return lS(l,v,b,a);case ar:case Nn:case ni:case _a:case en:default:{if(typeof r=="object"&&r!==null)switch(r.$$typeof){case we:w=T;break e;case ke:w=_;break e;case Ke:w=O,C=ly(C);break e;case dt:w=R;break e;case qe:w=U,C=null;break e}var k="";{(r===void 0||typeof r=="object"&&r!==null&&Object.keys(r).length===0)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var M=f?ct(f):null;M&&(k+=`

Check the render method of \``+M+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(r==null?r:typeof r)+"."+k))}}var L=Wr(w,l,a,v);return L.elementType=r,L.type=C,L.lanes=b,L._debugOwner=f,L}function vy(r,a,l){var f=null;f=r._owner;var v=r.type,b=r.key,w=r.props,C=py(v,b,w,f,a,l);return C._debugSource=r._source,C._debugOwner=r._owner,C}function js(r,a,l,f){var v=Wr(x,r,f,a);return v.lanes=l,v}function AR(r,a,l,f){typeof r.id!="string"&&c('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof r.id);var v=Wr(N,r,f,a|Ht);return v.elementType=V,v.lanes=l,v.stateNode={effectDuration:0,passiveEffectDuration:0},v}function OR(r,a,l,f){var v=Wr(D,r,f,a);return v.elementType=wt,v.lanes=l,v}function RR(r,a,l,f){var v=Wr(Y,r,f,a);return v.elementType=nt,v.lanes=l,v}function lS(r,a,l,f){var v=Wr(G,r,f,a);v.elementType=tn,v.lanes=l;var b={isHidden:!1};return v.stateNode=b,v}function my(r,a,l){var f=Wr(S,r,null,a);return f.lanes=l,f}function MR(){var r=Wr(y,null,null,We);return r.elementType="DELETED",r}function IR(r){var a=Wr(H,null,null,We);return a.stateNode=r,a}function gy(r,a,l){var f=r.children!==null?r.children:[],v=Wr(g,f,r.key,a);return v.lanes=l,v.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},v}function uS(r,a){return r===null&&(r=Wr(m,null,null,We)),r.tag=a.tag,r.key=a.key,r.elementType=a.elementType,r.type=a.type,r.stateNode=a.stateNode,r.return=a.return,r.child=a.child,r.sibling=a.sibling,r.index=a.index,r.ref=a.ref,r.pendingProps=a.pendingProps,r.memoizedProps=a.memoizedProps,r.updateQueue=a.updateQueue,r.memoizedState=a.memoizedState,r.dependencies=a.dependencies,r.mode=a.mode,r.flags=a.flags,r.subtreeFlags=a.subtreeFlags,r.deletions=a.deletions,r.lanes=a.lanes,r.childLanes=a.childLanes,r.alternate=a.alternate,r.actualDuration=a.actualDuration,r.actualStartTime=a.actualStartTime,r.selfBaseDuration=a.selfBaseDuration,r.treeBaseDuration=a.treeBaseDuration,r._debugSource=a._debugSource,r._debugOwner=a._debugOwner,r._debugNeedsRemount=a._debugNeedsRemount,r._debugHookTypes=a._debugHookTypes,r}function LR(r,a,l,f,v){this.tag=a,this.containerInfo=r,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=J1,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=zn,this.eventTimes=w1(ye),this.expirationTimes=w1(Qt),this.pendingLanes=ye,this.suspendedLanes=ye,this.pingedLanes=ye,this.expiredLanes=ye,this.mutableReadLanes=ye,this.finishedLanes=ye,this.entangledLanes=ye,this.entanglements=w1(ye),this.identifierPrefix=f,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var b=this.pendingUpdatersLaneMap=[],w=0;w<Jv;w++)b.push(new Set)}switch(a){case Bd:this._debugRootType=l?"hydrateRoot()":"createRoot()";break;case _s:this._debugRootType=l?"hydrate()":"render()";break}}function fS(r,a,l,f,v,b,w,C,k,M){var L=new LR(r,a,l,C,k),W=DR(a,b);L.current=W,W.stateNode=L;{var q={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null};W.memoizedState=q}return Am(W),L}var yy="18.3.1";function UR(r,a,l){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Yt(f),{$$typeof:Vr,key:f==null?null:""+f,children:r,containerInfo:a,implementation:l}}var by,Sy;by=!1,Sy={};function dS(r){if(!r)return qr;var a=xc(r),l=yD(a);if(a.tag===h){var f=a.type;if(ci(f))return F6(a,f,l)}return l}function PR(r,a){{var l=xc(r);if(l===void 0){if(typeof r.render=="function")throw new Error("Unable to find node on an unmounted component.");var f=Object.keys(r).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+f)}var v=l2(l);if(v===null)return null;if(v.mode&ln){var b=ct(l)||"Component";if(!Sy[b]){Sy[b]=!0;var w=gr;try{rn(v),l.mode&ln?c("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",a,a,b):c("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",a,a,b)}finally{w?rn(w):Bn()}}}return v.stateNode}}function hS(r,a,l,f,v,b,w,C){var k=!1,M=null;return fS(r,a,k,M,l,f,v,b,w)}function pS(r,a,l,f,v,b,w,C,k,M){var L=!0,W=fS(l,f,L,r,v,b,w,C,k);W.context=dS(null);var q=W.current,re=Er(),se=Bs(q),ue=Yi(re,se);return ue.callback=a??null,As(q,ue,se),$O(W,se,re),W}function L0(r,a,l,f){fN(a,r);var v=a.current,b=Er(),w=Bs(v);ON(w);var C=dS(l);a.context===null?a.context=C:a.pendingContext=C,fo&&gr!==null&&!by&&(by=!0,c(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,ct(gr)||"Unknown"));var k=Yi(b,w);k.payload={element:r},f=f===void 0?null:f,f!==null&&(typeof f!="function"&&c("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",f),k.callback=f);var M=As(v,k,w);return M!==null&&(Ln(M,v,w,b),Zd(M,v,w)),w}function Vh(r){var a=r.current;if(!a.child)return null;switch(a.child.tag){case y:return a.child.stateNode;default:return a.child.stateNode}}function BR(r){switch(r.tag){case p:{var a=r.stateNode;if(cd(a)){var l=jN(a);qO(a,l)}break}case D:{Qi(function(){var v=Or(r,rt);if(v!==null){var b=Er();Ln(v,r,rt,b)}});var f=rt;wy(r,f);break}}}function vS(r,a){var l=r.memoizedState;l!==null&&l.dehydrated!==null&&(l.retryLane=KN(l.retryLane,a))}function wy(r,a){vS(r,a);var l=r.alternate;l&&vS(l,a)}function FR(r){if(r.tag===D){var a=Su,l=Or(r,a);if(l!==null){var f=Er();Ln(l,r,a,f)}wy(r,a)}}function jR(r){if(r.tag===D){var a=Bs(r),l=Or(r,a);if(l!==null){var f=Er();Ln(l,r,a,f)}wy(r,a)}}function mS(r){var a=nN(r);return a===null?null:a.stateNode}var gS=function(r){return null};function zR(r){return gS(r)}var yS=function(r){return!1};function VR(r){return yS(r)}var bS=null,SS=null,wS=null,xS=null,ES=null,CS=null,TS=null,NS=null,_S=null;{var kS=function(r,a,l){var f=a[l],v=gt(r)?r.slice():vt({},r);return l+1===a.length?(gt(v)?v.splice(f,1):delete v[f],v):(v[f]=kS(r[f],a,l+1),v)},DS=function(r,a){return kS(r,a,0)},AS=function(r,a,l,f){var v=a[f],b=gt(r)?r.slice():vt({},r);if(f+1===a.length){var w=l[f];b[w]=b[v],gt(b)?b.splice(v,1):delete b[v]}else b[v]=AS(r[v],a,l,f+1);return b},OS=function(r,a,l){if(a.length!==l.length){o("copyWithRename() expects paths of the same length");return}else for(var f=0;f<l.length-1;f++)if(a[f]!==l[f]){o("copyWithRename() expects paths to be the same except for the deepest key");return}return AS(r,a,l,0)},RS=function(r,a,l,f){if(l>=a.length)return f;var v=a[l],b=gt(r)?r.slice():vt({},r);return b[v]=RS(r[v],a,l+1,f),b},MS=function(r,a,l){return RS(r,a,0,l)},xy=function(r,a){for(var l=r.memoizedState;l!==null&&a>0;)l=l.next,a--;return l};bS=function(r,a,l,f){var v=xy(r,a);if(v!==null){var b=MS(v.memoizedState,l,f);v.memoizedState=b,v.baseState=b,r.memoizedProps=vt({},r.memoizedProps);var w=Or(r,rt);w!==null&&Ln(w,r,rt,Qt)}},SS=function(r,a,l){var f=xy(r,a);if(f!==null){var v=DS(f.memoizedState,l);f.memoizedState=v,f.baseState=v,r.memoizedProps=vt({},r.memoizedProps);var b=Or(r,rt);b!==null&&Ln(b,r,rt,Qt)}},wS=function(r,a,l,f){var v=xy(r,a);if(v!==null){var b=OS(v.memoizedState,l,f);v.memoizedState=b,v.baseState=b,r.memoizedProps=vt({},r.memoizedProps);var w=Or(r,rt);w!==null&&Ln(w,r,rt,Qt)}},xS=function(r,a,l){r.pendingProps=MS(r.memoizedProps,a,l),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var f=Or(r,rt);f!==null&&Ln(f,r,rt,Qt)},ES=function(r,a){r.pendingProps=DS(r.memoizedProps,a),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var l=Or(r,rt);l!==null&&Ln(l,r,rt,Qt)},CS=function(r,a,l){r.pendingProps=OS(r.memoizedProps,a,l),r.alternate&&(r.alternate.pendingProps=r.pendingProps);var f=Or(r,rt);f!==null&&Ln(f,r,rt,Qt)},TS=function(r){var a=Or(r,rt);a!==null&&Ln(a,r,rt,Qt)},NS=function(r){gS=r},_S=function(r){yS=r}}function HR(r){var a=l2(r);return a===null?null:a.stateNode}function $R(r){return null}function GR(){return gr}function KR(r){var a=r.findFiberByHostInstance,l=n.ReactCurrentDispatcher;return uN({bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:bS,overrideHookStateDeletePath:SS,overrideHookStateRenamePath:wS,overrideProps:xS,overridePropsDeletePath:ES,overridePropsRenamePath:CS,setErrorHandler:NS,setSuspenseHandler:_S,scheduleUpdate:TS,currentDispatcherRef:l,findHostInstanceByFiber:HR,findFiberByHostInstance:a||$R,findHostInstancesForRefresh:xR,scheduleRefresh:SR,scheduleRoot:wR,setRefreshHandler:bR,getCurrentFiber:GR,reconcilerVersion:yy})}var IS=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ey(r){this._internalRoot=r}Hh.prototype.render=Ey.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?c("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):$h(arguments[1])?c("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&c("You passed a second argument to root.render(...) but it only accepts one argument.");var l=a.containerInfo;if(l.nodeType!==bn){var f=mS(a.current);f&&f.parentNode!==l&&c("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}L0(r,a,null,null)},Hh.prototype.unmount=Ey.prototype.unmount=function(){typeof arguments[0]=="function"&&c("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;K4()&&c("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Qi(function(){L0(null,r,null,null)}),I6(a)}};function YR(r,a){if(!$h(r))throw new Error("createRoot(...): Target container is not a DOM element.");LS(r);var l=!1,f=!1,v="",b=IS;a!=null&&(a.hydrate?o("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof a=="object"&&a!==null&&a.$$typeof===sa&&c(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.transitionCallbacks!==void 0&&a.transitionCallbacks);var w=hS(r,Bd,null,l,f,v,b);Od(w.current,r);var C=r.nodeType===bn?r.parentNode:r;return zu(C),new Ey(w)}function Hh(r){this._internalRoot=r}function qR(r){r&&l7(r)}Hh.prototype.unstable_scheduleHydration=qR;function WR(r,a,l){if(!$h(r))throw new Error("hydrateRoot(...): Target container is not a DOM element.");LS(r),a===void 0&&c("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var f=l??null,v=l!=null&&l.hydratedSources||null,b=!1,w=!1,C="",k=IS;l!=null&&(l.unstable_strictMode===!0&&(b=!0),l.identifierPrefix!==void 0&&(C=l.identifierPrefix),l.onRecoverableError!==void 0&&(k=l.onRecoverableError));var M=pS(a,null,r,Bd,f,b,w,C,k);if(Od(M.current,r),zu(r),v)for(var L=0;L<v.length;L++){var W=v[L];ZD(M,W)}return new Hh(M)}function $h(r){return!!(r&&(r.nodeType===Dr||r.nodeType===Li||r.nodeType===Dv))}function U0(r){return!!(r&&(r.nodeType===Dr||r.nodeType===Li||r.nodeType===Dv||r.nodeType===bn&&r.nodeValue===" react-mount-point-unstable "))}function LS(r){r.nodeType===Dr&&r.tagName&&r.tagName.toUpperCase()==="BODY"&&c("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),Ju(r)&&(r._reactRootContainer?c("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):c("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var XR=n.ReactCurrentOwner,US;US=function(r){if(r._reactRootContainer&&r.nodeType!==bn){var a=mS(r._reactRootContainer.current);a&&a.parentNode!==r&&c("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var l=!!r._reactRootContainer,f=Cy(r),v=!!(f&&Ts(f));v&&!l&&c("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),r.nodeType===Dr&&r.tagName&&r.tagName.toUpperCase()==="BODY"&&c("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function Cy(r){return r?r.nodeType===Li?r.documentElement:r.firstChild:null}function PS(){}function QR(r,a,l,f,v){if(v){if(typeof f=="function"){var b=f;f=function(){var q=Vh(w);b.call(q)}}var w=pS(a,f,r,_s,null,!1,!1,"",PS);r._reactRootContainer=w,Od(w.current,r);var C=r.nodeType===bn?r.parentNode:r;return zu(C),Qi(),w}else{for(var k;k=r.lastChild;)r.removeChild(k);if(typeof f=="function"){var M=f;f=function(){var q=Vh(L);M.call(q)}}var L=hS(r,_s,null,!1,!1,"",PS);r._reactRootContainer=L,Od(L.current,r);var W=r.nodeType===bn?r.parentNode:r;return zu(W),Qi(function(){L0(a,L,l,f)}),L}}function JR(r,a){r!==null&&typeof r!="function"&&c("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",a,r)}function Gh(r,a,l,f,v){US(l),JR(v===void 0?null:v,"render");var b=l._reactRootContainer,w;if(!b)w=QR(l,a,r,v,f);else{if(w=b,typeof v=="function"){var C=v;v=function(){var k=Vh(w);C.call(k)}}L0(a,w,r,v)}return Vh(w)}var BS=!1;function ZR(r){{BS||(BS=!0,c("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var a=XR.current;if(a!==null&&a.stateNode!==null){var l=a.stateNode._warnedAboutRefsInRender;l||c("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Lt(a.type)||"A component"),a.stateNode._warnedAboutRefsInRender=!0}}return r==null?null:r.nodeType===Dr?r:PR(r,"findDOMNode")}function eM(r,a,l){if(c("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!U0(a))throw new Error("Target container is not a DOM element.");{var f=Ju(a)&&a._reactRootContainer===void 0;f&&c("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return Gh(null,r,a,!0,l)}function tM(r,a,l){if(c("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!U0(a))throw new Error("Target container is not a DOM element.");{var f=Ju(a)&&a._reactRootContainer===void 0;f&&c("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return Gh(null,r,a,!1,l)}function nM(r,a,l,f){if(c("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!U0(l))throw new Error("Target container is not a DOM element.");if(r==null||!X8(r))throw new Error("parentComponent must be a valid React Component");return Gh(r,a,l,!1,f)}var FS=!1;function rM(r){if(FS||(FS=!0,c("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!U0(r))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var a=Ju(r)&&r._reactRootContainer===void 0;a&&c("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(r._reactRootContainer){{var l=Cy(r),f=l&&!Ts(l);f&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Qi(function(){Gh(null,null,r,!1,function(){r._reactRootContainer=null,I6(r)})}),!0}else{{var v=Cy(r),b=!!(v&&Ts(v)),w=r.nodeType===Dr&&U0(r.parentNode)&&!!r.parentNode._reactRootContainer;b&&c("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",w?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}ZN(BR),t7(FR),n7(jR),r7(Oa),a7(XN),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&c("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),F8(ik),V8(ty,WO,Qi);function aM(r,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!$h(a))throw new Error("Target container is not a DOM element.");return UR(r,a,null,l)}function iM(r,a,l,f){return nM(r,a,l,f)}var Ty={usingClientEntryPoint:!1,Events:[Ts,jc,Rd,X3,Q3,ty]};function sM(r,a){return Ty.usingClientEntryPoint||c('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),YR(r,a)}function oM(r,a,l){return Ty.usingClientEntryPoint||c('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),WR(r,a,l)}function cM(r){return K4()&&c("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Qi(r)}var lM=KR({findFiberByHostInstance:ko,bundleType:1,version:yy,rendererPackageName:"react-dom"});if(!lM&&ze&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var jS=window.location.protocol;/^(https?|file):$/.test(jS)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(jS==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty,Qr.createPortal=aM,Qr.createRoot=sM,Qr.findDOMNode=ZR,Qr.flushSync=cM,Qr.hydrate=eM,Qr.hydrateRoot=oM,Qr.render=tM,Qr.unmountComponentAtNode=rM,Qr.unstable_batchedUpdates=ty,Qr.unstable_renderSubtreeIntoContainer=iM,Qr.version=yy,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();OE.exports=Qr;var vM=OE.exports,Ny=vM;{var Kh=Ny.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;rb.createRoot=function(e,t){Kh.usingClientEntryPoint=!0;try{return Ny.createRoot(e,t)}finally{Kh.usingClientEntryPoint=!1}},rb.hydrateRoot=function(e,t,n){Kh.usingClientEntryPoint=!0;try{return Ny.hydrateRoot(e,t,n)}finally{Kh.usingClientEntryPoint=!1}}}const mM="Logging",gM="x-amz-user-agent",yM="NoHubcallbackProvidedException";var Zr;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"})(Zr||(Zr={}));const zS={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class Un{constructor(t,n=Zr.WARN){this.name=t,this.level=n,this._pluggables=[]}_padding(t){return t<10?"0"+t:""+t}_ts(){const t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()}configure(t){return t?(this._config=t,this._config):this._config}_log(t,...n){let i=this.level;Un.LOG_LEVEL&&(i=Un.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(i=window.LOG_LEVEL);const s=zS[i];if(!(zS[t]>=s))return;let c=console.log.bind(console);t===Zr.ERROR&&console.error&&(c=console.error.bind(console)),t===Zr.WARN&&console.warn&&(c=console.warn.bind(console)),Un.BIND_ALL_LOG_LEVELS&&(t===Zr.INFO&&console.info&&(c=console.info.bind(console)),t===Zr.DEBUG&&console.debug&&(c=console.debug.bind(console)));const u=`[${t}] ${this._ts()} ${this.name}`;let d="";if(n.length===1&&typeof n[0]=="string")d=`${u} - ${n[0]}`,c(d);else if(n.length===1)d=`${u} ${n[0]}`,c(u,n[0]);else if(typeof n[0]=="string"){let h=n.slice(1);h.length===1&&(h=h[0]),d=`${u} - ${n[0]} ${h}`,c(`${u} - ${n[0]}`,h)}else d=`${u} ${n}`,c(u,n);for(const h of this._pluggables){const m={message:d,timestamp:Date.now()};h.pushLogs([m])}}log(...t){this._log(Zr.INFO,...t)}info(...t){this._log(Zr.INFO,...t)}warn(...t){this._log(Zr.WARN,...t)}error(...t){this._log(Zr.ERROR,...t)}debug(...t){this._log(Zr.DEBUG,...t)}verbose(...t){this._log(Zr.VERBOSE,...t)}addPluggable(t){t&&t.getCategoryName()===mM&&(this._pluggables.push(t),t.configure(this._config))}listPluggables(){return this._pluggables}}Un.LOG_LEVEL=null;Un.BIND_ALL_LOG_LEVELS=!1;class Fr extends Error{constructor({message:t,name:n,recoverySuggestion:i,underlyingError:s,metadata:o}){if(super(t),this.name=n,this.underlyingError=s,this.recoverySuggestion=i,o){const{extendedRequestId:c,httpStatusCode:u,requestId:d}=o;this.metadata={extendedRequestId:c,httpStatusCode:u,requestId:d}}this.constructor=Fr,Object.setPrototypeOf(this,Fr.prototype)}}var qs;(function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"})(qs||(qs={}));const IE=(e,t=Fr)=>(n,i,s)=>{const{message:o,recoverySuggestion:c}=e[i];if(!n)throw new t({name:i,message:s?`${o} ${s}`:o,recoverySuggestion:c})},df=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",B0=new Un("Hub");class bM{constructor(t){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}_remove(t,n){const i=this.listeners.get(t);if(!i){B0.warn(`No listeners for ${t}`);return}this.listeners.set(t,[...i.filter(({callback:s})=>s!==n)])}dispatch(t,n,i,s){typeof t=="string"&&this.protectedChannels.indexOf(t)>-1&&(s===df||B0.warn(`WARNING: ${t} is protected and dispatching on it can have unintended consequences`));const o={channel:t,payload:{...n},source:i,patternInfo:[]};try{this._toListeners(o)}catch(c){B0.error(c)}}listen(t,n,i="noname"){let s;if(typeof n!="function")throw new Fr({name:yM,message:"No callback supplied to Hub"});s=n;let o=this.listeners.get(t);return o||(o=[],this.listeners.set(t,o)),o.push({name:i,callback:s}),()=>{this._remove(t,s)}}_toListeners(t){const{channel:n,payload:i}=t,s=this.listeners.get(n);s&&s.forEach(o=>{B0.debug(`Dispatching to ${n} with `,i);try{o.callback(t)}catch(c){B0.error(c)}})}}const hf=new bM("__default__"),SM=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new Fr({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},wM=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new Fr({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},xM={convert(e,t){let n=e;return t!=null&&t.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),wM()(n)}};var rs;(function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"})(rs||(rs={}));const EM={[rs.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[rs.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[rs.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[rs.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[rs.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},LE=IE(EM);function Ur(e){let t=!0;e?t=!!e.userPoolId&&!!e.userPoolClientId:t=!1,LE(t,rs.AuthUserPoolException)}function yp(e){const t=!!(e!=null&&e.identityPoolId);LE(t,rs.InvalidIdentityPoolIdException)}function pf(e){const t=e.split(".");if(t.length!==3)throw new Error("Invalid token");try{const i=t[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(xM.convert(i).split("").map(c=>`%${`00${c.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),o=JSON.parse(s);return{toString:()=>e,payload:o}}catch{throw new Error("Invalid token payload")}}const UE=e=>e&&e["nonRetryable"],Yh=new Un("retryUtil");async function CM(e,t,n,i){if(typeof e!="function")throw Error("functionToRetry must be a function");return new Promise(async(s,o)=>{let c=0,u=!1,d=()=>{},h;for(;!u;){c++,Yh.debug(`${e.name} attempt #${c} with this vars: ${JSON.stringify(t)}`);try{s(await e(...t));return}catch(m){if(h=m,Yh.debug(`error on ${e.name}`,m),UE(m)){Yh.debug(`${e.name} non retryable error`,m),o(m);return}const p=n(c,t,m);if(Yh.debug(`${e.name} retrying in ${p} ms`),p===!1||u){o(m);return}else await new Promise(g=>{d=g,setTimeout(d,p)})}}o(h)})}const PE=e=>{const t=Reflect.ownKeys(e);for(const n of t){const i=e[n];(i&&typeof i=="object"||typeof i=="function")&&PE(i)}return Object.freeze(e)},TM=new Un("parseAWSExports"),NM={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},_M=(e={})=>{var lt,bt,jt,mt,Nt,Ee;if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new Fr({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:i,aws_appsync_region:s,aws_bots_config:o,aws_cognito_identity_pool_id:c,aws_cognito_sign_up_verification_method:u,aws_cognito_mfa_configuration:d,aws_cognito_mfa_types:h,aws_cognito_password_protection_settings:m,aws_cognito_verification_mechanisms:p,aws_cognito_signup_attributes:g,aws_cognito_social_providers:y,aws_cognito_username_attributes:S,aws_mandatory_sign_in:x,aws_mobile_analytics_app_id:E,aws_mobile_analytics_app_region:_,aws_user_files_s3_bucket:T,aws_user_files_s3_bucket_region:O,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:N,aws_user_pools_id:D,aws_user_pools_web_client_id:R,geo:P,oauth:U,predictions:F,aws_cloud_logic_custom:H,Notifications:Y,modelIntrospection:$}=e,G={};E&&(G.Analytics={Pinpoint:{appId:E,region:_}});const{InAppMessaging:ce,Push:Se}=Y??{};if(ce!=null&&ce.AWSPinpoint||Se!=null&&Se.AWSPinpoint){if(ce!=null&&ce.AWSPinpoint){const{appId:Ze,region:ze}=ce.AWSPinpoint;G.Notifications={InAppMessaging:{Pinpoint:{appId:Ze,region:ze}}}}if(Se!=null&&Se.AWSPinpoint){const{appId:Ze,region:ze}=Se.AWSPinpoint;G.Notifications={...G.Notifications,PushNotification:{Pinpoint:{appId:Ze,region:ze}}}}}if(Array.isArray(o)&&(G.Interactions={LexV1:Object.fromEntries(o.map(Ze=>[Ze.name,Ze]))}),i){const Ze=NM[n];Ze||TM.debug(`Invalid authentication type ${n}. Falling back to IAM.`),G.API={GraphQL:{endpoint:i,apiKey:t,region:s,defaultAuthMode:Ze??"iam"}},$&&(G.API.GraphQL.modelIntrospection=$)}const ee=d?{status:d&&d.toLowerCase(),totpEnabled:(h==null?void 0:h.includes("TOTP"))??!1,smsEnabled:(h==null?void 0:h.includes("SMS"))??!1}:void 0,I=m?{minLength:m.passwordPolicyMinLength,requireLowercase:((lt=m.passwordPolicyCharacters)==null?void 0:lt.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((bt=m.passwordPolicyCharacters)==null?void 0:bt.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((jt=m.passwordPolicyCharacters)==null?void 0:jt.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((mt=m.passwordPolicyCharacters)==null?void 0:mt.includes("REQUIRES_SYMBOLS"))??!1}:void 0,X=Array.from(new Set([...p??[],...g??[]])).reduce((Ze,ze)=>({...Ze,[ze.toLowerCase()]:{required:!0}}),{}),K=(S==null?void 0:S.includes("EMAIL"))??!1,ge=(S==null?void 0:S.includes("PHONE_NUMBER"))??!1;(c||D)&&(G.Auth={Cognito:{identityPoolId:c,allowGuestAccess:x!=="enable",signUpVerificationMethod:u,userAttributes:X,userPoolClientId:R,userPoolId:D,mfa:ee,passwordFormat:I,loginWith:{username:!(K||ge),email:K,phone:ge}}});const Te=U?Object.keys(U).length>0:!1,Me=y?y.length>0:!1;if(G.Auth&&Te&&(G.Auth.Cognito.loginWith={...G.Auth.Cognito.loginWith,oauth:{...kM(U),...Me&&{providers:DM(y)}}}),T&&(G.Storage={S3:{bucket:T,region:O,dangerouslyConnectToHttpEndpointForTesting:N}}),P){const{amazon_location_service:Ze}=P;G.Geo={LocationService:{maps:Ze.maps,geofenceCollections:Ze.geofenceCollections,searchIndices:Ze.search_indices,region:Ze.region}}}if(H&&(G.API={...G.API,REST:H.reduce((Ze,ze)=>{const{name:He,endpoint:pt,region:ft,service:Dt}=ze;return{...Ze,[He]:{endpoint:pt,...Dt?{service:Dt}:void 0,...ft?{region:ft}:void 0}}},{})}),F){const{VoiceId:Ze}=((Ee=(Nt=F==null?void 0:F.convert)==null?void 0:Nt.speechGenerator)==null?void 0:Ee.defaults)??{};G.Predictions=Ze?{...F,convert:{...F.convert,speechGenerator:{...F.convert.speechGenerator,defaults:{voiceId:Ze}}}}:F}return G},VS=e=>(e==null?void 0:e.split(","))??[],kM=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:i,responseType:s})=>({domain:e,scopes:t,redirectSignIn:VS(n),redirectSignOut:VS(i),responseType:s}),DM=e=>e.map(t=>{const n=t.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}),AM=Symbol("oauth-listener"),er=[];for(let e=0;e<256;++e)er.push((e+256).toString(16).slice(1));function OM(e,t=0){return(er[e[t+0]]+er[e[t+1]]+er[e[t+2]]+er[e[t+3]]+"-"+er[e[t+4]]+er[e[t+5]]+"-"+er[e[t+6]]+er[e[t+7]]+"-"+er[e[t+8]]+er[e[t+9]]+"-"+er[e[t+10]]+er[e[t+11]]+er[e[t+12]]+er[e[t+13]]+er[e[t+14]]+er[e[t+15]]).toLowerCase()}let _y;const RM=new Uint8Array(16);function MM(){if(!_y){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_y=crypto.getRandomValues.bind(crypto)}return _y(RM)}const IM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HS={randomUUID:IM};function LM(e,t,n){var s;if(HS.randomUUID&&!t&&!e)return HS.randomUUID();e=e||{};const i=e.random??((s=e.rng)==null?void 0:s.call(e))??MM();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[n+o]=i[o];return t}return OM(i)}function UM(e){const{version:t}=e;return t?t.startsWith("1"):!1}function PM(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:i}=e;return{S3:{bucket:t,region:n,buckets:i&&qM(i)}}}function BM(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:i,password_policy:s,mfa_configuration:o,mfa_methods:c,unauthenticated_identities_enabled:u,oauth:d,username_attributes:h,standard_required_attributes:m,groups:p}=e,g={Cognito:{userPoolId:t,userPoolClientId:n,groups:p}};return i&&(g.Cognito={...g.Cognito,identityPoolId:i}),s&&(g.Cognito.passwordFormat={requireLowercase:s.require_lowercase,requireNumbers:s.require_numbers,requireUppercase:s.require_uppercase,requireSpecialCharacters:s.require_symbols,minLength:s.min_length??6}),o&&(g.Cognito.mfa={status:YM(o),smsEnabled:c==null?void 0:c.includes("SMS"),totpEnabled:c==null?void 0:c.includes("TOTP")}),u&&(g.Cognito.allowGuestAccess=u),d&&(g.Cognito.loginWith={oauth:{domain:d.domain,redirectSignIn:d.redirect_sign_in_uri,redirectSignOut:d.redirect_sign_out_uri,responseType:d.response_type==="token"?"token":"code",scopes:d.scopes,providers:KM(d.identity_providers)}}),h&&(g.Cognito.loginWith={...g.Cognito.loginWith,email:h.includes("email"),phone:h.includes("phone_number"),username:h.includes("username")}),m&&(g.Cognito.userAttributes=m.reduce((y,S)=>({...y,[S]:{required:!0}}),{})),g}function FM(e){if(!(e!=null&&e.amazon_pinpoint))return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function jM(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:i,search_indices:s}=e;return{LocationService:{region:t,searchIndices:s,geofenceCollections:n,maps:i}}}function zM(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:i,api_key:s,model_introspection:o}=e;return{GraphQL:{endpoint:i,defaultAuthMode:BE(n),region:t,apiKey:s,modelIntrospection:o}}}function VM(e){if(!(e!=null&&e.events))return;const{url:t,aws_region:n,api_key:i,default_authorization_type:s}=e.events;return{Events:{endpoint:t,defaultAuthMode:BE(s),region:n,apiKey:i}}}function HM(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:i}=e,s=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!(s||o))return;const c={};return s&&(c.InAppMessaging={Pinpoint:{appId:i,region:t}}),o&&(c.PushNotification={Pinpoint:{appId:i,region:t}}),c}function $M(e){const t={};if(e.storage&&(t.Storage=PM(e.storage)),e.auth&&(t.Auth=BM(e.auth)),e.analytics&&(t.Analytics=FM(e.analytics)),e.geo&&(t.Geo=jM(e.geo)),e.data&&(t.API=zM(e.data)),e.custom){const n=VM(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=HM(e.notifications)),t}const GM={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function BE(e){return GM[e]}const $S={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function KM(e=[]){return e.reduce((t,n)=>($S[n]!==void 0&&t.push($S[n]),t),[])}function YM(e){return e==="OPTIONAL"?"optional":e==="REQUIRED"?"on":"off"}function qM(e){const t={};return e.forEach(({name:n,bucket_name:i,aws_region:s,paths:o})=>{if(n in t)throw new Error(`Duplicate friendly name found: ${n}. Name must be unique.`);const c=o?Object.entries(o).reduce((u,[d,h])=>(h!==void 0&&(u[d]=h),u),{}):void 0;t[n]={bucketName:i,region:s,paths:c}}),t}const FE=e=>Object.keys(e).some(t=>t.startsWith("aws_"))?_M(e):UM(e)?$M(e):e;var ab=function(e,t){return ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},ab(e,t)};function $b(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ab(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function jE(e,t,n,i){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function u(m){try{h(i.next(m))}catch(p){c(p)}}function d(m){try{h(i.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):s(m.value).then(u,d)}h((i=i.apply(e,t||[])).next())})}function Gb(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return d([h,m])}}function d(h){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(i=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,s=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],s=0}finally{i=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function vf(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ib(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),s,o=[],c;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return o}function sb(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function Cl(e){return this instanceof Cl?(this.v=e,this):new Cl(e)}function WM(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(y){return function(S){return Promise.resolve(S).then(y,p)}}function u(y,S){i[y]&&(s[y]=function(x){return new Promise(function(E,_){o.push([y,x,E,_])>1||d(y,x)})},S&&(s[y]=S(s[y])))}function d(y,S){try{h(i[y](S))}catch(x){g(o[0][3],x)}}function h(y){y.value instanceof Cl?Promise.resolve(y.value.v).then(m,p):g(o[0][2],y)}function m(y){d("next",y)}function p(y){d("throw",y)}function g(y,S){y(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function XM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof vf=="function"?vf(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(c){return new Promise(function(u,d){c=e[o](c),s(u,d,c.done,c.value)})}}function s(o,c,u,d){Promise.resolve(d).then(function(h){o({value:h,done:u})},c)}}var ga=64,QM=32,JM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ZM=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],eI=Math.pow(2,53)-1,bp=function(){function e(){this.state=Int32Array.from(ZM),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,i=t.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>eI)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=t[n++],i--,this.bufferLength===ga&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(n.setUint8(this.bufferLength++,128),i%ga>=ga-8){for(var s=this.bufferLength;s<ga;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<ga-8;s++)n.setUint8(s,0);n.setUint32(ga-8,Math.floor(t/4294967296),!0),n.setUint32(ga-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(QM),s=0;s<8;s++)o[s*4]=this.state[s]>>>24&255,o[s*4+1]=this.state[s]>>>16&255,o[s*4+2]=this.state[s]>>>8&255,o[s*4+3]=this.state[s]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,n=t.buffer,i=t.state,s=i[0],o=i[1],c=i[2],u=i[3],d=i[4],h=i[5],m=i[6],p=i[7],g=0;g<ga;g++){if(g<16)this.temp[g]=(n[g*4]&255)<<24|(n[g*4+1]&255)<<16|(n[g*4+2]&255)<<8|n[g*4+3]&255;else{var y=this.temp[g-2],S=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[g-15];var x=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[g]=(S+this.temp[g-7]|0)+(x+this.temp[g-16]|0)}var E=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&h^~d&m)|0)+(p+(JM[g]+this.temp[g]|0)|0)|0,_=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&c^o&c)|0;p=m,m=h,h=d,d=u+E|0,u=c,c=o,o=s,s=E+_|0}i[0]+=s,i[1]+=o,i[2]+=c,i[3]+=u,i[4]+=d,i[5]+=h,i[6]+=m,i[7]+=p},e}();const tI=e=>new TextEncoder().encode(e);var nI=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:tI;function zE(e){return e instanceof Uint8Array?e:typeof e=="string"?nI(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function rI(e){return typeof e=="string"?e.length===0:e.byteLength===0}var aI=function(){function e(t){this.secret=t,this.hash=new bp,this.reset()}return e.prototype.update=function(t){if(!(rI(t)||this.error))try{this.hash.update(zE(t))}catch(n){this.error=n}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return jE(this,void 0,void 0,function(){return Gb(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new bp,this.secret){this.outer=new bp;var t=iI(this.secret),n=new Uint8Array(ga);n.set(t);for(var i=0;i<ga;i++)t[i]^=54,n[i]^=92;this.hash.update(t),this.outer.update(n);for(var i=0;i<t.byteLength;i++)t[i]=0}},e}();function iI(e){var t=zE(e);if(t.byteLength>ga){var n=new bp;n.update(t),t=n.digest()}var i=new Uint8Array(ga);return i.set(t),i}const VE={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),VE[e]=t}function sI(e){let t="";for(let n=0;n<e.byteLength;n++)t+=VE[e[n]];return t}var xn;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(xn||(xn={}));var Lp;(function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(Lp||(Lp={}));var GS;(function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"})(GS||(GS={}));var KS;(function(e){e.Record="1",e.IdentifyUser="2"})(KS||(KS={}));var ob;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(ob||(ob={}));var YS;(function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"})(YS||(YS={}));var qS;(function(e){e.Subscribe="1",e.GraphQl="2"})(qS||(qS={}));var WS;(function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"})(WS||(WS={}));var XS;(function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"})(XS||(XS={}));var QS;(function(e){e.None="0"})(QS||(QS={}));var JS;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(JS||(JS={}));var ZS;(function(e){e.Subscribe="1"})(ZS||(ZS={}));var ew;(function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"})(ew||(ew={}));var Up;(function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"})(Up||(Up={}));const oI="6.15.10",Yp=()=>typeof globalThis<"u",Il=()=>typeof window<"u",HE=()=>typeof document<"u",Kb=()=>typeof process<"u",mf=(e,t)=>!!Object.keys(e).find(n=>n.startsWith(t));var tw={};function cI(){const e=i=>i.startsWith("_react")||i.startsWith("__react"),t=i=>Object.keys(i).find(e),n=()=>Array.from(document.querySelectorAll("[id]"));return HE()&&n().some(t)}function lI(){return Kb()&&typeof tw<"u"&&!!Object.keys(tw).find(e=>e.includes("react"))}function uI(){return Il()&&mf(window,"__VUE")}function fI(){return Yp()&&mf(globalThis,"__VUE")}var nw={};function dI(){return Il()&&mf(window,"__SVELTE")}function hI(){return Kb()&&typeof nw<"u"&&!!Object.keys(nw).find(e=>e.includes("svelte"))}function pI(){return Il()&&window.next&&typeof window.next=="object"}function vI(){return Yp()&&(mf(globalThis,"__next")||mf(globalThis,"__NEXT"))}function mI(){return Il()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function gI(){return Yp()&&typeof globalThis.__NUXT_PATHS__<"u"}var rw={};function yI(){const e=!!(HE()&&document.querySelector("[ng-version]")),t=!!(Il()&&typeof window.ng<"u");return e||t}function bI(){var e;return Kb()&&typeof rw=="object"&&((e=rw.npm_lifecycle_script)==null?void 0:e.startsWith("ng "))||!1}function SI(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function wI(){return Yp()&&typeof globalThis.expo<"u"}function xI(){return Il()}const EI=[{platform:xn.Expo,detectionMethod:wI},{platform:xn.ReactNative,detectionMethod:SI},{platform:xn.NextJs,detectionMethod:pI},{platform:xn.Nuxt,detectionMethod:mI},{platform:xn.Angular,detectionMethod:yI},{platform:xn.React,detectionMethod:cI},{platform:xn.VueJs,detectionMethod:uI},{platform:xn.Svelte,detectionMethod:dI},{platform:xn.WebUnknown,detectionMethod:xI},{platform:xn.NextJsSSR,detectionMethod:vI},{platform:xn.NuxtSSR,detectionMethod:gI},{platform:xn.ReactSSR,detectionMethod:lI},{platform:xn.VueJsSSR,detectionMethod:fI},{platform:xn.AngularSSR,detectionMethod:bI},{platform:xn.SvelteSSR,detectionMethod:hI}];function CI(){var e;return((e=EI.find(t=>t.detectionMethod()))==null?void 0:e.platform)||xn.ServerSideUnknown}let rf;const ky=[];let cb=!1;const TI=10,NI=10,_I=1e3,$E=()=>{var e;if(!rf){if(rf=CI(),cb)for(;ky.length;)(e=ky.pop())==null||e();else ky.forEach(t=>{t()});aw(xn.ServerSideUnknown,TI),aw(xn.WebUnknown,NI)}return rf};function kI(){rf=void 0}function aw(e,t){rf===e&&!cb&&setTimeout(()=>{kI(),cb=!0,setTimeout($E,_I)},t)}const DI={},AI=(e,t)=>{var n,i;return(i=(n=DI[e])==null?void 0:n[t])==null?void 0:i.additionalDetails},OI="aws-amplify",RI=e=>e.replace(/\+.*/,""),MI=({category:e,action:t}={})=>{const n=[[OI,RI(oI)]];if(e&&n.push([e,t]),n.push(["framework",$E()]),e&&t){const i=AI(e,t);i&&i.forEach(s=>{n.push(s)})}return n},rc=e=>MI(e).map(([i,s])=>i&&s?`${i}/${s}`:i).join(" ");function tr(e){return typeof e=="function"}function II(e){var t=function(i){Error.call(i),i.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dy=II(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(i,s){return s+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function iw(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Yb=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,i,s,o;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var u=vf(c),d=u.next();!d.done;d=u.next()){var h=d.value;h.remove(this)}}catch(x){t={error:x}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}else c.remove(this);var m=this.initialTeardown;if(tr(m))try{m()}catch(x){o=x instanceof Dy?x.errors:[x]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var g=vf(p),y=g.next();!y.done;y=g.next()){var S=y.value;try{sw(S)}catch(x){o=o??[],x instanceof Dy?o=sb(sb([],ib(o)),ib(x.errors)):o.push(x)}}}catch(x){i={error:x}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}}if(o)throw new Dy(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)sw(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&iw(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&iw(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Yb.EMPTY;function GE(e){return e instanceof Yb||e&&"closed"in e&&tr(e.remove)&&tr(e.add)&&tr(e.unsubscribe)}function sw(e){tr(e)?e():e.unsubscribe()}var LI={Promise:void 0},UI={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return setTimeout.apply(void 0,sb([e,t],ib(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function KE(e){UI.setTimeout(function(){throw e})}function ow(){}function PI(e){e()}var qb=function(e){$b(t,e);function t(n){var i=e.call(this)||this;return i.isStopped=!1,n?(i.destination=n,GE(n)&&n.add(i)):i.destination=jI,i}return t.create=function(n,i,s){return new lb(n,i,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Yb),BI=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(i){qh(i)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(i){qh(i)}else qh(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){qh(n)}},e}(),lb=function(e){$b(t,e);function t(n,i,s){var o=e.call(this)||this,c;return tr(n)||!n?c={next:n??void 0,error:i??void 0,complete:s??void 0}:c=n,o.destination=new BI(c),o}return t}(qb);function qh(e){KE(e)}function FI(e){throw e}var jI={closed:!0,next:ow,error:FI,complete:ow},Wb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function zI(e){return e}function VI(e){return e.length===0?zI:e.length===1?e[0]:function(n){return e.reduce(function(i,s){return s(i)},n)}}var jr=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,i){var s=this,o=$I(t)?t:new lb(t,n,i);return PI(function(){var c=s,u=c.operator,d=c.source;o.add(u?u.call(o,d):d?s._subscribe(o):s._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var i=this;return n=cw(n),new n(function(s,o){var c=new lb({next:function(u){try{t(u)}catch(d){o(d),c.unsubscribe()}},error:o,complete:s});i.subscribe(c)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Wb]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return VI(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=cw(t),new t(function(i,s){var o;n.subscribe(function(c){return o=c},function(c){return s(c)},function(){return i(o)})})},e.create=function(t){return new e(t)},e}();function cw(e){var t;return(t=e??LI.Promise)!==null&&t!==void 0?t:Promise}function HI(e){return e&&tr(e.next)&&tr(e.error)&&tr(e.complete)}function $I(e){return e&&e instanceof qb||HI(e)&&GE(e)}function GI(e){return tr(e==null?void 0:e.lift)}function Tf(e){return function(t){if(GI(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function qp(e,t,n,i,s){return new KI(e,t,n,i,s)}var KI=function(e){$b(t,e);function t(n,i,s,o,c,u){var d=e.call(this,n)||this;return d.onFinalize=c,d.shouldUnsubscribe=u,d._next=i?function(h){try{i(h)}catch(m){n.error(m)}}:e.prototype._next,d._error=o?function(h){try{o(h)}catch(m){n.error(m)}finally{this.unsubscribe()}}:e.prototype._error,d._complete=s?function(){try{s()}catch(h){n.error(h)}finally{this.unsubscribe()}}:e.prototype._complete,d}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(qb),YE=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function qE(e){return tr(e==null?void 0:e.then)}function WE(e){return tr(e[Wb])}function XE(e){return Symbol.asyncIterator&&tr(e==null?void 0:e[Symbol.asyncIterator])}function QE(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function YI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var JE=YI();function ZE(e){return tr(e==null?void 0:e[JE])}function eC(e){return WM(this,arguments,function(){var n,i,s,o;return Gb(this,function(c){switch(c.label){case 0:n=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Cl(n.read())];case 3:return i=c.sent(),s=i.value,o=i.done,o?[4,Cl(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Cl(s)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function tC(e){return tr(e==null?void 0:e.getReader)}function Wp(e){if(e instanceof jr)return e;if(e!=null){if(WE(e))return qI(e);if(YE(e))return WI(e);if(qE(e))return XI(e);if(XE(e))return nC(e);if(ZE(e))return QI(e);if(tC(e))return JI(e)}throw QE(e)}function qI(e){return new jr(function(t){var n=e[Wb]();if(tr(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WI(e){return new jr(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function XI(e){return new jr(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,KE)})}function QI(e){return new jr(function(t){var n,i;try{for(var s=vf(e),o=s.next();!o.done;o=s.next()){var c=o.value;if(t.next(c),t.closed)return}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}t.complete()})}function nC(e){return new jr(function(t){ZI(e,t).catch(function(n){return t.error(n)})})}function JI(e){return nC(eC(e))}function ZI(e,t){var n,i,s,o;return jE(this,void 0,void 0,function(){var c,u;return Gb(this,function(d){switch(d.label){case 0:d.trys.push([0,5,6,11]),n=XM(e),d.label=1;case 1:return[4,n.next()];case 2:if(i=d.sent(),!!i.done)return[3,4];if(c=i.value,t.next(c),t.closed)return[2];d.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=d.sent(),s={error:u},[3,11];case 6:return d.trys.push([6,,9,10]),i&&!i.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:d.sent(),d.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Zo(e,t,n,i,s){i===void 0&&(i=0),s===void 0&&(s=!1);var o=t.schedule(function(){n(),s?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!s)return o}function rC(e,t){return t===void 0&&(t=0),Tf(function(n,i){n.subscribe(qp(i,function(s){return Zo(i,e,function(){return i.next(s)},t)},function(){return Zo(i,e,function(){return i.complete()},t)},function(s){return Zo(i,e,function(){return i.error(s)},t)}))})}function aC(e,t){return t===void 0&&(t=0),Tf(function(n,i){i.add(e.schedule(function(){return n.subscribe(i)},t))})}function eL(e,t){return Wp(e).pipe(aC(t),rC(t))}function tL(e,t){return Wp(e).pipe(aC(t),rC(t))}function nL(e,t){return new jr(function(n){var i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function rL(e,t){return new jr(function(n){var i;return Zo(n,t,function(){i=e[JE](),Zo(n,t,function(){var s,o,c;try{s=i.next(),o=s.value,c=s.done}catch(u){n.error(u);return}c?n.complete():n.next(o)},0,!0)}),function(){return tr(i==null?void 0:i.return)&&i.return()}})}function iC(e,t){if(!e)throw new Error("Iterable cannot be null");return new jr(function(n){Zo(n,t,function(){var i=e[Symbol.asyncIterator]();Zo(n,t,function(){i.next().then(function(s){s.done?n.complete():n.next(s.value)})},0,!0)})})}function aL(e,t){return iC(eC(e),t)}function iL(e,t){if(e!=null){if(WE(e))return eL(e,t);if(YE(e))return nL(e,t);if(qE(e))return tL(e,t);if(XE(e))return iC(e,t);if(ZE(e))return rL(e,t);if(tC(e))return aL(e,t)}throw QE(e)}function sL(e,t){return t?iL(e,t):Wp(e)}function Xb(e,t){return Tf(function(n,i){var s=0;n.subscribe(qp(i,function(o){i.next(e.call(t,o,s++))}))})}function oL(e,t){return Tf(function(n,i){var s=0;n.subscribe(qp(i,function(o){return e.call(t,o,s++)&&i.next(o)}))})}function sC(e){return Tf(function(t,n){var i=null,s=!1,o;i=t.subscribe(qp(n,void 0,void 0,function(c){o=Wp(e(c,sC(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):s=!0})),s&&(i.unsubscribe(),i=null,o.subscribe(n))})}const cL=()=>{if(typeof self>"u")return!1;const e=self;return typeof e.WorkerGlobalScope<"u"&&self instanceof e.WorkerGlobalScope};class Tl{networkMonitor(t){const n=cL()?self:typeof window<"u"&&window;return n?new jr(i=>{i.next({online:n.navigator.onLine});const s=()=>{i.next({online:!0})},o=()=>{i.next({online:!1})};return n.addEventListener("online",s),n.addEventListener("offline",o),Tl._observers.push(i),()=>{n.removeEventListener("online",s),n.removeEventListener("offline",o),Tl._observers=Tl._observers.filter(c=>c!==i)}}):sL([{online:!0}])}static _observerOverride(t){for(const n of this._observers){if(n.closed){this._observers=this._observers.filter(i=>i!==n);continue}n!=null&&n.next&&n.next(t)}}}Tl._observers=[];const lL=()=>typeof window<"u"&&typeof window.document<"u",lw=new Un("Auth");class uL{configure(t,n){var i,s;this.authConfig=t,this.authOptions=n,t&&((i=t.Cognito)!=null&&i.userPoolEndpoint)&&lw.warn(uw("Amazon Cognito User Pool")),t&&((s=t.Cognito)!=null&&s.identityPoolEndpoint)&&lw.warn(uw("Amazon Cognito Identity Pool"))}async fetchAuthSession(t={}){var o,c,u,d,h,m;let n,i;const s=await this.getTokens(t);return s?(i=(c=(o=s.accessToken)==null?void 0:o.payload)==null?void 0:c.sub,n=await((d=(u=this.authOptions)==null?void 0:u.credentialsProvider)==null?void 0:d.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:s,authenticated:!0,forceRefresh:t.forceRefresh}))):n=await((m=(h=this.authOptions)==null?void 0:h.credentialsProvider)==null?void 0:m.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:t.forceRefresh})),{tokens:s,credentials:n==null?void 0:n.credentials,identityId:n==null?void 0:n.identityId,userSub:i}}async clearCredentials(){var t,n;await((n=(t=this.authOptions)==null?void 0:t.credentialsProvider)==null?void 0:n.clearCredentialsAndIdentityId())}async getTokens(t){var n,i;return await((i=(n=this.authOptions)==null?void 0:n.tokenProvider)==null?void 0:i.getTokens(t))??void 0}}const uw=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;class fL{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new uL}configure(t,n){const i=FE(t);this.resourcesConfig=i,n&&(this.libraryOptions=n),this.resourcesConfig=PE(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),hf.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",df),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[AM](t){var n,i,s;(i=(n=this.resourcesConfig.Auth)==null?void 0:n.Cognito.loginWith)!=null&&i.oauth?t((s=this.resourcesConfig.Auth)==null?void 0:s.Cognito):this.oAuthListener=t}notifyOAuthListener(){var t,n,i;!((n=(t=this.resourcesConfig.Auth)==null?void 0:t.Cognito.loginWith)!=null&&n.oauth)||!this.oAuthListener||(this.oAuthListener((i=this.resourcesConfig.Auth)==null?void 0:i.Cognito),this.oAuthListener=void 0)}}const ta=new fL,dL=(e,t)=>e.Auth.fetchAuthSession(t),oC=e=>dL(ta,e),wa=e=>{const{headers:t,statusCode:n}=e;return{...hL(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},hL=e=>typeof(e==null?void 0:e.$metadata)=="object",Ll=async e=>{if(!e||e.statusCode<300)return;const t=await Xp(e),i=(c=>{const[u]=c.toString().split(/[,:]+/);return u.includes("#")?u.split("#")[1]:u})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),s=t.message??t.Message??"Unknown error",o=new Error(s);return Object.assign(o,{name:i,$metadata:wa(e)})},Xp=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:wa(e)})},Ti=(e,t,n,i)=>async(s,o)=>{const c={...i,...s},u=await c.endpointResolver(c,o),d=await t(o,u),h=await e(d,{...c});return n(h)},cC=5*60*1e3;function lC(e=cC){return i=>{const s=2**i*100+100*Math.random();return s>e?!1:s}}const uC=3,fw="amz-sdk-invocation-id",pL="amz-sdk-request",dw=5*60*1e3,Qp=e=>{const n=lC(dw)(e);return n===!1?dw:n},vL=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],mL=e=>!!e&&vL.includes(e),Jp=e=>async(t,n)=>{const i=n??await e(t)??void 0,s=(i==null?void 0:i.code)||(i==null?void 0:i.name),o=t==null?void 0:t.statusCode;return{retryable:SL(n)||bL(o,s)||mL(s)||wL(o,s)}},gL=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],yL=["TimeoutError","RequestTimeout","RequestTimeoutException"],bL=(e,t)=>e===429||!!t&&gL.includes(t),SL=e=>[qs.NetworkError,"ERR_NETWORK"].includes(e==null?void 0:e.name),wL=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&yL.includes(t),fC="cognito-identity",dC={service:fC,retryDecider:Jp(Ll),computeDelay:Qp,cache:"no-store"},Zp=({maxAttempts:e=uC,retryDecider:t,computeDelay:n,abortSignal:i})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(s,o)=>async function(u){let d,h=o.attemptsCount??0,m;const p=()=>{if(m)return hw(m,h),m;throw hw(d,h),d};for(;!(i!=null&&i.aborted)&&h<e;){try{m=await s(u),d=void 0}catch(S){d=S,m=void 0}h=(o.attemptsCount??0)>h?o.attemptsCount??0:h+1,o.attemptsCount=h;const{isCredentialsExpiredError:g,retryable:y}=await t(m,d,o);if(y){if(o.isCredentialsExpired=!!g,!(i!=null&&i.aborted)&&h<e){const S=n(h);await xL(S,i)}continue}else return p()}if(i!=null&&i.aborted)throw new Error("Request aborted.");return p()}},xL=(e,t)=>{if(t!=null&&t.aborted)return Promise.resolve();let n,i;const s=new Promise(o=>{i=o,n=setTimeout(o,e)});return t==null||t.addEventListener("abort",function o(c){clearTimeout(n),t==null||t.removeEventListener("abort",o),i()}),s},hw=(e,t)=>{Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata={...e.$metadata??{},attempts:t})},ub=LM,hC=()=>e=>async function(n){return n.headers[fw]||(n.headers[fw]=ub()),e(n)},pC=({maxAttempts:e=uC})=>(t,n)=>async function(s){const o=n.attemptsCount??0;return s.headers[pL]=`attempt=${o+1}; max=${e}`,t(s)},ev=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(s){if(t.trim().length===0)return await n(s);{const o=e.toLowerCase();return s.headers[o]=s.headers[o]?`${s.headers[o]} ${t}`:t,await n(s)}},Ul=(e,t)=>(n,i)=>{const s={};let o=c=>e(c,i);for(let c=t.length-1;c>=0;c--){const u=t[c];o=u(i)(o,s)}return o(n)},Sp=e=>{let t;return()=>(t||(t=e()),t)},EL=e=>!["HEAD","GET"].includes(e.toUpperCase()),Qb=async({url:e,method:t,headers:n,body:i},{abortSignal:s,cache:o,withCrossDomainCredentials:c})=>{var p;let u;try{u=await fetch(e,{method:t,headers:n,body:EL(t)?i:void 0,signal:s,cache:o,credentials:c?"include":"same-origin"})}catch(g){throw g instanceof TypeError?new Fr({name:qs.NetworkError,message:"A network error has occurred.",underlyingError:g}):g}const d={};(p=u.headers)==null||p.forEach((g,y)=>{d[y.toLowerCase()]=g});const h={statusCode:u.status,headers:d,body:null},m=Object.assign(u.body??{},{text:Sp(()=>u.text()),blob:Sp(()=>u.blob()),json:Sp(()=>u.json())});return{...h,body:m}},vC=Ul(Qb,[ev,hC,Zp,pC]),CL=()=>e=>async function(n){return n.headers["cache-control"]="no-store",e(n)},mC=Ul(vC,[CL]),gC=e=>(t,n)=>{const i=TL(e),s=JSON.stringify(t);return NL(n,i,s)},TL=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),NL=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),pw=e=>Ti(mC,gC("GetCredentialsForIdentity"),_L,{...dC,...e,userAgentValue:rc()}),_L=async e=>{if(e.statusCode>=300)throw await Ll(e);const t=await Xp(e);return{IdentityId:t.IdentityId,Credentials:kL(t.Credentials),$metadata:wa(e)}},kL=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(e*1e3)}),DL=e=>Ti(mC,gC("GetId"),AL,{...dC,...e,userAgentValue:rc()}),AL=async e=>{if(e.statusCode>=300)throw await Ll(e);return{IdentityId:(await Xp(e)).IdentityId,$metadata:wa(e)}},yC={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},OL={partitions:[yC,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Pp=e=>{const{partitions:t}=OL;for(const{regions:n,outputs:i,regionRegex:s}of t){const o=new RegExp(s);if(n.includes(e)||o.test(e))return i.dnsSuffix}return yC.outputs.dnsSuffix},Cn=URL,Qs=URLSearchParams,RL=({region:e})=>({url:new Cn(`https://${fC}.${e}.${Pp(e)}`)});class J0 extends Fr{constructor(){super({name:qs.PlatformNotSupported,message:"Function not supported on current platform"})}}class bC{constructor(t){this.storage=t}async setItem(t,n){if(!this.storage)throw new J0;this.storage.setItem(t,n)}async getItem(t){if(!this.storage)throw new J0;return this.storage.getItem(t)}async removeItem(t){if(!this.storage)throw new J0;this.storage.removeItem(t)}async clear(){if(!this.storage)throw new J0;this.storage.clear()}}class SC{constructor(){this.storage=new Map}get length(){return this.storage.size}key(t){return t>this.length-1?null:Array.from(this.storage.keys())[t]}setItem(t,n){this.storage.set(t,n)}getItem(t){return this.storage.get(t)??null}removeItem(t){this.storage.delete(t)}clear(){this.storage.clear()}}const wC=new Un("CoreStorageUtils"),ML=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{wC.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new SC},xC=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return wC.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new SC}};class IL extends bC{constructor(){super(ML())}}class LL extends bC{constructor(){super(xC())}}class UL{constructor(t){this._storage=t}get storage(){if(!this._storage)throw new J0;return this._storage}setItem(t,n){this.storage.setItem(t,n)}getItem(t){return this.storage.getItem(t)}removeItem(t){this.storage.removeItem(t)}clear(){this.storage.clear()}}class PL extends UL{constructor(){super(xC())}}/*! js-cookie v3.0.5 | MIT */function Wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var BL={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function fb(e,t){function n(s,o,c){if(!(typeof document>"u")){c=Wh({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var d in c)c[d]&&(u+="; "+d,c[d]!==!0&&(u+="="+c[d].split(";")[0]));return document.cookie=s+"="+e.write(o,s)+u}}function i(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var o=document.cookie?document.cookie.split("; "):[],c={},u=0;u<o.length;u++){var d=o[u].split("="),h=d.slice(1).join("=");try{var m=decodeURIComponent(d[0]);if(c[m]=e.read(h,m),s===m)break}catch{}}return s?c[s]:c}}return Object.create({set:n,get:i,remove:function(s,o){n(s,"",Wh({},o,{expires:-1}))},withAttributes:function(s){return fb(this.converter,Wh({},this.attributes,s))},withConverter:function(s){return fb(Wh({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Xh=fb(BL,{path:"/"});class FL{constructor(t={}){const{path:n,domain:i,expires:s,sameSite:o,secure:c}=t;if(this.domain=i,this.path=n||"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?s:365,this.secure=Object.prototype.hasOwnProperty.call(t,"secure")?c:!0,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!o||!["strict","lax","none"].includes(o))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(o==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o}}async setItem(t,n){Xh.set(t,n,this.getData())}async getItem(t){return Xh.get(t)??null}async removeItem(t){Xh.remove(t,this.getData())}async clear(){const t=Xh.get(),n=Object.keys(t).map(i=>this.removeItem(i));await Promise.all(n)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const Nf=new IL;new LL;new PL;const EC=e=>Object.keys(e).map(t=>t.toLowerCase()).sort().join(";"),jL="X-Amz-Date",zL="X-Amz-Security-Token",VL="authorization",HL="host",$L=jL.toLowerCase(),GL=zL.toLowerCase(),CC="aws4_request",TC="AWS4-HMAC-SHA256",KL="AWS4",YL="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",NC="UNSIGNED-PAYLOAD",qL=(e,t,n)=>`${e}/${t}/${n}/${CC}`,WL=e=>{const t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}},XL=({credentials:e,signingDate:t=new Date,signingRegion:n,signingService:i,uriEscapePath:s=!0})=>{const{accessKeyId:o,secretAccessKey:c,sessionToken:u}=e,{longDate:d,shortDate:h}=WL(t),m=qL(h,n,i);return{accessKeyId:o,credentialScope:m,longDate:d,secretAccessKey:c,sessionToken:u,shortDate:h,signingRegion:n,signingService:i,uriEscapePath:s}},Z0=(e,t)=>{const n=new aI(e??void 0);return n.update(t),n.digestSync()},db=(e,t)=>{const n=Z0(e,t);return sI(n)},QL=e=>Object.entries(e).map(([t,n])=>({key:t.toLowerCase(),value:(n==null?void 0:n.trim().replace(/\s+/g," "))??""})).sort((t,n)=>t.key<n.key?-1:1).map(t=>`${t.key}:${t.value}
`).join(""),JL=e=>Array.from(e).sort(([t,n],[i,s])=>t===i?n<s?-1:1:t<i?-1:1).map(([t,n])=>`${vw(t)}=${vw(n)}`).join("&"),vw=e=>encodeURIComponent(e).replace(/[!'()*]/g,ZL),ZL=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,eU=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/",_C=e=>e==null?YL:tU(e)?db(null,e):NC,tU=e=>e!==NC&&(typeof e=="string"||ArrayBuffer.isView(e)||nU(e)),nU=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",rU=({body:e,headers:t,method:n,url:i},s=!0)=>[n,eU(i.pathname,s),JL(i.searchParams),QL(t),EC(t),_C(e)].join(`
`),aU=(e,t,n,i)=>{const s=`${KL}${e}`,o=Z0(s,t),c=Z0(o,n),u=Z0(c,i);return Z0(u,CC)},iU=(e,t,n)=>[TC,e,t,n].join(`
`),sU=(e,{credentialScope:t,longDate:n,secretAccessKey:i,shortDate:s,signingRegion:o,signingService:c,uriEscapePath:u})=>{const d=rU(e,u),h=db(null,d),m=iU(n,t,h);return db(aU(i,s,o,c),m)},kC=(e,t)=>{const n=XL(t),{accessKeyId:i,credentialScope:s,longDate:o,sessionToken:c}=n,u={...e.headers};u[HL]=e.url.host,u[$L]=o,c&&(u[GL]=c);const d={...e,headers:u},h=sU(d,n),m=`Credential=${i}/${s}`,p=`SignedHeaders=${EC(u)}`,g=`Signature=${h}`;return u[VL]=`${TC} ${m}, ${p}, ${g}`,d},DC=e=>new Date(Date.now()+e),oU=5*60*1e3,cU=(e,t)=>Math.abs(DC(t).getTime()-e)>=oU,lU=(e,t)=>cU(e,t)?e-Date.now():t,AC=({credentials:e,region:t,service:n,uriEscapePath:i=!0})=>{let s;return(o,c)=>async function(d){s=s??0;const h={credentials:typeof e=="function"?await e({forceRefresh:!!(c!=null&&c.isCredentialsExpired)}):e,signingDate:DC(s),signingRegion:t,signingService:n,uriEscapePath:i},m=await kC(d,h),p=await o(m),g=uU(p);return g&&(s=lU(Date.parse(g),s)),p}},uU=({headers:e}={})=>(e==null?void 0:e.date)??(e==null?void 0:e.Date)??(e==null?void 0:e["x-amz-date"]),hb=e=>{const t=/[!'()*]/g;return encodeURIComponent(e).replace(t,fU)},fU=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;class dU extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}const hU=(e,t,n=cC,i)=>CM(e,t,lC(n)),pU=e=>{let t;return async(...n)=>t||(t=new Promise((i,s)=>{e(...n).then(o=>{i(o)}).catch(o=>{s(o)}).finally(()=>{t=void 0})}),t)};function mw({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}class Bp extends Fr{get response(){return this._response?vU(this._response):void 0}constructor(t){super(t),this.constructor=Bp,Object.setPrototypeOf(this,Bp.prototype),t.response&&(this._response=t.response)}}const vU=e=>({...e,headers:{...e.headers}});function mU(e){return Array.from(e,t=>String.fromCodePoint(t)).join("")}const gU={convert(e,t={urlSafe:!1,skipPadding:!1}){const n=typeof e=="string"?e:mU(e);let i=SM()(n);return t.urlSafe&&(i=i.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(i=i.replace(/=/g,"")),i}};class Jt extends Fr{constructor(t){super(t),this.constructor=Jt,Object.setPrototypeOf(this,Jt.prototype)}}function yU(e){const t=e==null?void 0:e.split("_")[0];if(!e||e.indexOf("_")<0||!t||typeof t!="string")throw new Jt({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function pb(e){if(!e||!e.includes(":"))throw new Jt({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const OC="UserUnAuthenticatedException",bU="InvalidRedirectException",SU="InvalidAppSchemeException",wU="InvalidPreferredRedirectUrlException";new Jt({name:bU,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new Jt({name:SU,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});new Jt({name:wU,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."});const xU="InvalidOriginException";new Jt({name:xU,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const EU="TokenRefreshException";function CU(e){if(!e||!e.idToken)throw new Jt({name:OC,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const TU=new Jt({name:EU,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),NU=new Jt({name:OC,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function _U(e){if(AU(e))throw TU;if(!DU(e))throw NU}const kU={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function RC(e){return(e==null?void 0:e.accessToken)||(e==null?void 0:e.idToken)}function DU(e){return RC(e)&&(e==null?void 0:e.refreshToken)}function AU(e){return RC(e)&&!(e!=null&&e.refreshToken)}const OU=e=>(t,n)=>{const i=RU(e),s=JSON.stringify(t);return MU(n,i,s)},RU=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),MU=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"});function gf(e){if(!e||e.name==="Error"||e instanceof TypeError)throw new Jt({name:qs.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const IU=()=>async e=>{if(e.statusCode>=300){const t=await Ll(e);throw gf(t),new Jt({name:t.name,message:t.message,metadata:t.$metadata})}return Xp(e)},LU=()=>(e,t)=>async function(i){return i.headers["cache-control"]="no-store",e(i)},UU=Ul(vC,[LU]),MC="cognito-idp",PU={service:MC,retryDecider:Jp(Ll),computeDelay:Qp,get userAgentValue(){return rc()},cache:"no-store"},BU=({region:e})=>({url:new Cn(`https://${MC}.${e}.${Pp(e)}`)}),FU=({endpointOverride:e})=>t=>e?{url:new Cn(e)}:BU(t),jU=e=>Ti(UU,OU("GetTokensFromRefreshToken"),IU(),{...PU,...e}),zU=async({tokens:e,authConfig:t,username:n,clientMetadata:i})=>{var S;Ur(t==null?void 0:t.Cognito);const{userPoolId:s,userPoolClientId:o,userPoolEndpoint:c}=t.Cognito,u=yU(s);_U(e);const d=jU({endpointResolver:FU({endpointOverride:c})}),{AuthenticationResult:h}=await d({region:u},{ClientId:o,RefreshToken:e.refreshToken,DeviceKey:(S=e.deviceMetadata)==null?void 0:S.deviceKey,ClientMetadata:i}),m=pf((h==null?void 0:h.AccessToken)??""),p=h!=null&&h.IdToken?pf(h.IdToken):void 0,{iat:g}=m.payload;if(!g)throw new Jt({name:"iatNotFoundException",message:"iat not found in access token"});const y=g*1e3-new Date().getTime();return{accessToken:m,idToken:p,clockDrift:y,refreshToken:(h==null?void 0:h.RefreshToken)??e.refreshToken,username:n}},VU=pU(zU),HU={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Fp;(function(e){e.InvalidAuthTokens="InvalidAuthTokens"})(Fp||(Fp={}));const $U={[Fp.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},GU=IE($U),gw="CognitoIdentityServiceProvider";class KU{getKeyValueStorage(){if(!this.keyValueStorage)throw new Jt({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(t){this.keyValueStorage=t}setAuthConfig(t){this.authConfig=t}async loadTokens(){try{const t=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(t.accessToken);if(!n)throw new Jt({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const i=pf(n),s=await this.getKeyValueStorage().getItem(t.idToken),o=s?pf(s):void 0,c=await this.getKeyValueStorage().getItem(t.refreshToken)??void 0,u=await this.getKeyValueStorage().getItem(t.clockDrift)??"0",d=Number.parseInt(u),h=await this.getKeyValueStorage().getItem(t.signInDetails),m={accessToken:i,idToken:o,refreshToken:c,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:d,username:await this.getLastAuthUser()};return h&&(m.signInDetails=JSON.parse(h)),m}catch{return null}}async storeTokens(t){GU(t!==void 0,Fp.InvalidAuthTokens);const n=t.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);const i=await this.getAuthKeys();await this.getKeyValueStorage().setItem(i.accessToken,t.accessToken.toString()),t.idToken?await this.getKeyValueStorage().setItem(i.idToken,t.idToken.toString()):await this.getKeyValueStorage().removeItem(i.idToken),t.refreshToken?await this.getKeyValueStorage().setItem(i.refreshToken,t.refreshToken):await this.getKeyValueStorage().removeItem(i.refreshToken),t.deviceMetadata&&(t.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(i.deviceKey,t.deviceMetadata.deviceKey),t.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(i.deviceGroupKey,t.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(i.randomPasswordKey,t.deviceMetadata.randomPassword)),t.signInDetails?await this.getKeyValueStorage().setItem(i.signInDetails,JSON.stringify(t.signInDetails)):await this.getKeyValueStorage().removeItem(i.signInDetails),await this.getKeyValueStorage().setItem(i.clockDrift,`${t.clockDrift}`)}async clearTokens(){const t=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(t.accessToken),this.getKeyValueStorage().removeItem(t.idToken),this.getKeyValueStorage().removeItem(t.clockDrift),this.getKeyValueStorage().removeItem(t.refreshToken),this.getKeyValueStorage().removeItem(t.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(t.oauthMetadata)])}async getDeviceMetadata(t){const n=await this.getAuthKeys(t),i=await this.getKeyValueStorage().getItem(n.deviceKey),s=await this.getKeyValueStorage().getItem(n.deviceGroupKey),o=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return o&&s&&i?{deviceKey:i,deviceGroupKey:s,randomPassword:o}:null}async clearDeviceMetadata(t){const n=await this.getAuthKeys(t);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(t){var i;Ur((i=this.authConfig)==null?void 0:i.Cognito);const n=t??await this.getLastAuthUser();return YU(gw,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){var n;Ur((n=this.authConfig)==null?void 0:n.Cognito);const t=this.authConfig.Cognito.userPoolClientId;return`${gw}.${t}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(t){const{oauthMetadata:n}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n,JSON.stringify(t))}async getOAuthMetadata(){const{oauthMetadata:t}=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(t);return n&&JSON.parse(n)}}const YU=(e,t)=>Jb(HU)(`${e}`,t);function Jb(e){const t=Object.values({...e});return(n,i)=>t.reduce((s,o)=>({...s,[o]:`${n}.${i}.${o}`}),{})}const yw="amplify-signin-with-hostedUI",gi="CognitoIdentityServiceProvider";class qU{constructor(t){this.keyValueStorage=t}async clearOAuthInflightData(){Ur(this.cognitoConfig);const t=yi(gi,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(t.inflightOAuth),this.keyValueStorage.removeItem(t.oauthPKCE),this.keyValueStorage.removeItem(t.oauthState)])}async clearOAuthData(){Ur(this.cognitoConfig);const t=yi(gi,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(yw),this.keyValueStorage.removeItem(t.oauthSignIn)}loadOAuthState(){Ur(this.cognitoConfig);const t=yi(gi,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthState)}storeOAuthState(t){Ur(this.cognitoConfig);const n=yi(gi,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthState,t)}loadPKCE(){Ur(this.cognitoConfig);const t=yi(gi,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthPKCE)}storePKCE(t){Ur(this.cognitoConfig);const n=yi(gi,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthPKCE,t)}setAuthConfig(t){this.cognitoConfig=t}async loadOAuthInFlight(){Ur(this.cognitoConfig);const t=yi(gi,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(t.inflightOAuth)==="true"}async storeOAuthInFlight(t){Ur(this.cognitoConfig);const n=yi(gi,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.inflightOAuth,`${t}`)}async loadOAuthSignIn(){var o;Ur(this.cognitoConfig);const t=yi(gi,this.cognitoConfig.userPoolClientId),n=await this.keyValueStorage.getItem(yw),[i,s]=((o=await this.keyValueStorage.getItem(t.oauthSignIn))==null?void 0:o.split(","))??[];return{isOAuthSignIn:i==="true"||n==="true",preferPrivateSession:s==="true"}}async storeOAuthSignIn(t,n=!1){Ur(this.cognitoConfig);const i=yi(gi,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(i.oauthSignIn,`${t},${n}`)}}const yi=(e,t)=>Jb(kU)(e,t),bw=new qU(Nf);class WU{constructor(){this.waitForInflightOAuth=lL()?async()=>{if(await bw.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((t,n)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(t){bw.setAuthConfig(t.Cognito),this.authConfig=t}setTokenRefresher(t){this.tokenRefresher=t}setAuthTokenStore(t){this.tokenStore=t}getTokenStore(){if(!this.tokenStore)throw new Jt({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new Jt({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}setClientMetadataProvider(t){this.clientMetadataProvider=t}async getTokens(t){var c,u,d,h,m,p;let n;try{Ur((c=this.authConfig)==null?void 0:c.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,n=await this.getTokenStore().loadTokens();const i=await this.getTokenStore().getLastAuthUser();if(n===null)return null;const s=!!(n!=null&&n.idToken)&&mw({expiresAt:(((d=(u=n.idToken)==null?void 0:u.payload)==null?void 0:d.exp)??0)*1e3,clockDrift:n.clockDrift??0}),o=mw({expiresAt:(((m=(h=n.accessToken)==null?void 0:h.payload)==null?void 0:m.exp)??0)*1e3,clockDrift:n.clockDrift??0});return(t!=null&&t.forceRefresh||s||o)&&(n=await this.refreshTokens({tokens:n,username:i,clientMetadata:(t==null?void 0:t.clientMetadata)??await((p=this.clientMetadataProvider)==null?void 0:p.call(this))}),n===null)?null:{accessToken:n==null?void 0:n.accessToken,idToken:n==null?void 0:n.idToken,signInDetails:n==null?void 0:n.signInDetails}}async refreshTokens({tokens:t,username:n,clientMetadata:i}){try{const{signInDetails:s}=t,o=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:n,clientMetadata:i});return o.signInDetails=s,await this.setTokens({tokens:o}),hf.dispatch("auth",{event:"tokenRefresh"},"Auth",df),o}catch(s){return this.handleErrors(s)}}handleErrors(t){if(gf(t),this.isAuthenticationError(t)&&this.clearTokens(),hf.dispatch("auth",{event:"tokenRefresh_failure",data:{error:t}},"Auth",df),t.name.startsWith("NotAuthorizedException"))return null;throw t}isAuthenticationError(t){return["NotAuthorizedException","TokenRevokedException","UserNotFoundException","PasswordResetRequiredException","UserNotConfirmedException","RefreshTokenReuseException"].some(i=>{var s,o;return(o=(s=t==null?void 0:t.name)==null?void 0:s.startsWith)==null?void 0:o.call(s,i)})}async setTokens({tokens:t}){return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(t){return this.getTokenStore().getDeviceMetadata(t)}clearDeviceMetadata(t){return this.getTokenStore().clearDeviceMetadata(t)}setOAuthMetadata(t){return this.getTokenStore().setOAuthMetadata(t)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class XU{constructor(){this.authTokenStore=new KU,this.authTokenStore.setKeyValueStorage(Nf),this.tokenOrchestrator=new WU,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(VU)}getTokens(t={}){return this.tokenOrchestrator.getTokens(t)}setKeyValueStorage(t){this.authTokenStore.setKeyValueStorage(t)}setClientMetadataProvider(t){this.tokenOrchestrator.setClientMetadataProvider(t)}setAuthConfig(t){this.authTokenStore.setAuthConfig(t),this.tokenOrchestrator.setAuthConfig(t)}}const ef=new XU,{tokenOrchestrator:PJ}=ef,QU={identityId:"identityId"},JU=new Un("DefaultIdentityIdStore");class IC{setAuthConfig(t){yp(t.Cognito),this.authConfig=t,this._authKeys=ZU("Cognito",t.Cognito.identityPoolId)}constructor(t){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=t}async loadIdentityId(){var t;yp((t=this.authConfig)==null?void 0:t.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const n=await this.keyValueStorage.getItem(this._authKeys.identityId);return n?(this._hasGuestIdentityId=!0,{id:n,type:"guest"}):null}}catch(n){return JU.log("Error getting stored IdentityId.",n),null}}async storeIdentityId(t){var n;yp((n=this.authConfig)==null?void 0:n.Cognito),t.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,t.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=t.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const ZU=(e,t)=>Jb(QU)(`com.amplify.${e}`,t),vb=({endpointOverride:e})=>t=>e?{url:new Cn(e)}:RL(t);function LC(e){const t=pf(e).payload.iss,n={};if(!t)throw new Jt({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const i=t.replace(/(^\w+:|^)\/\//,"");return n[i]=e,n}async function eP({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});const i=await n.loadIdentityId();if(i)return i.id;const s=e!=null&&e.idToken?LC(e.idToken.toString()):{},o=await tP(s,t);return n.storeIdentityId({id:o,type:e?"primary":"guest"}),o}async function tP(e,t){const n=t==null?void 0:t.identityPoolId,i=pb(n),s=DL({endpointResolver:vb({endpointOverride:t.identityPoolEndpoint})});let o;try{o=(await s({region:i},{IdentityPoolId:n,Logins:e})).IdentityId}catch(c){throw gf(c),new Jt(c)}if(!o)throw new Jt({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return o}const Qh=new Un("CognitoCredentialsProvider"),Sw=50*60*1e3;class UC{constructor(t){this._nextCredentialsRefresh=0,this._identityIdStore=t}async clearCredentialsAndIdentityId(){Qh.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Qh.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(t){const n=t.authenticated,{tokens:i}=t,{authConfig:s}=t;try{yp(s==null?void 0:s.Cognito)}catch{return}if(!n&&!s.Cognito.allowGuestAccess)return;const{forceRefresh:o}=t,c=this.hasTokenChanged(i),u=await eP({tokens:i,authConfig:s.Cognito,identityIdStore:this._identityIdStore});return(o||c)&&this.clearCredentials(),n?(CU(i),this.credsForOIDCTokens(s.Cognito,i,u)):this.getGuestCredentials(u,s.Cognito)}async getGuestCredentials(t,n){var c,u;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return Qh.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const i=pb(n.identityPoolId),s=pw({endpointResolver:vb({endpointOverride:n.identityPoolEndpoint})});let o;try{o=await s({region:i},{IdentityId:t})}catch(d){throw gf(d),new Jt(d)}if((c=o==null?void 0:o.Credentials)!=null&&c.AccessKeyId&&((u=o==null?void 0:o.Credentials)!=null&&u.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+Sw;const d={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:t};return o.IdentityId&&(d.identityId=o.IdentityId,this._identityIdStore.storeIdentityId({id:o.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...d,isAuthenticatedCreds:!1},d}else throw new Jt({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(t,n,i){var d,h,m;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return Qh.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const s=n.idToken?LC(n.idToken.toString()):{},o=pb(t.identityPoolId),c=pw({endpointResolver:vb({endpointOverride:t.identityPoolEndpoint})});let u;try{u=await c({region:o},{IdentityId:i,Logins:s})}catch(p){throw gf(p),new Jt(p)}if((d=u==null?void 0:u.Credentials)!=null&&d.AccessKeyId&&((h=u==null?void 0:u.Credentials)!=null&&h.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+Sw;const p={credentials:{accessKeyId:u.Credentials.AccessKeyId,secretAccessKey:u.Credentials.SecretKey,sessionToken:u.Credentials.SessionToken,expiration:u.Credentials.Expiration},identityId:i};return u.IdentityId&&(p.identityId=u.IdentityId,this._identityIdStore.storeIdentityId({id:u.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...p,isAuthenticatedCreds:!0,associatedIdToken:(m=n.idToken)==null?void 0:m.toString()},p}else throw new Jt({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(t){var n,i;return!!t&&!!((n=this._credentialsAndIdentityId)!=null&&n.associatedIdToken)&&((i=t.idToken)==null?void 0:i.toString())!==this._credentialsAndIdentityId.associatedIdToken}}const nP=new UC(new IC(Nf)),rP={configure(e,t){const n=FE(e),i=new FL({sameSite:"lax"}),s=t!=null&&t.ssr?i:Nf,o=t!=null&&t.ssr?new UC(new IC(i)):nP;if(!n.Auth){ta.configure(n,t);return}if(t!=null&&t.Auth){ta.configure(n,t);return}if(!ta.libraryOptions.Auth){ef.setAuthConfig(n.Auth),ef.setKeyValueStorage(s),ta.configure(n,{...t,Auth:{tokenProvider:ef,credentialsProvider:o}});return}if(t){const c=ta.libraryOptions.Auth;t.ssr!==void 0&&(ef.setKeyValueStorage(s),c.credentialsProvider=o),ta.configure(n,{Auth:c,...t});return}ta.configure(n)},getConfig(){return ta.getConfig()}};function wp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wp=function(n){return typeof n}:wp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wp(e)}function aP(e){return wp(e)=="object"&&e!==null}var PC=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function mb(e,t){for(var n=/\r\n|[\n\r]/g,i=1,s=t+1,o;(o=n.exec(e.body))&&o.index<t;)i+=1,s=t+1-(o.index+o[0].length);return{line:i,column:s}}function iP(e){return BC(e.source,mb(e.source,e.start))}function BC(e,t){var n=e.locationOffset.column-1,i=xp(n)+e.body,s=t.line-1,o=e.locationOffset.line-1,c=t.line+o,u=t.line===1?n:0,d=t.column+u,h="".concat(e.name,":").concat(c,":").concat(d,`
`),m=i.split(/\r\n|[\n\r]/g),p=m[s];if(p.length>120){for(var g=Math.floor(d/80),y=d%80,S=[],x=0;x<p.length;x+=80)S.push(p.slice(x,x+80));return h+ww([["".concat(c),S[0]]].concat(S.slice(1,g+1).map(function(E){return["",E]}),[[" ",xp(y-1)+"^"],["",S[g+1]]]))}return h+ww([["".concat(c-1),m[s-1]],["".concat(c),p],["",xp(d-1)+"^"],["".concat(c+1),m[s+1]]])}function ww(e){var t=e.filter(function(i){i[0];var s=i[1];return s!==void 0}),n=Math.max.apply(Math,t.map(function(i){var s=i[0];return s.length}));return t.map(function(i){var s=i[0],o=i[1];return sP(n,s)+(o?" | "+o:" |")}).join(`
`)}function xp(e){return Array(e+1).join(" ")}function sP(e,t){return xp(e-t.length)+t}function Ep(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ep=function(n){return typeof n}:Ep=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ep(e)}function xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(n),!0).forEach(function(i){cP(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fP(e,t,n){return t&&uP(e.prototype,t),e}function dP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yf(e,t)}function hP(e){var t=jC();return function(){var i=bf(e),s;if(t){var o=bf(this).constructor;s=Reflect.construct(i,arguments,o)}else s=i.apply(this,arguments);return FC(this,s)}}function FC(e,t){return t&&(Ep(t)==="object"||typeof t=="function")?t:tf(e)}function tf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gb(e){var t=typeof Map=="function"?new Map:void 0;return gb=function(i){if(i===null||!pP(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,s)}function s(){return Cp(i,arguments,bf(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),yf(s,i)},gb(e)}function Cp(e,t,n){return jC()?Cp=Reflect.construct:Cp=function(s,o,c){var u=[null];u.push.apply(u,o);var d=Function.bind.apply(s,u),h=new d;return c&&yf(h,c.prototype),h},Cp.apply(null,arguments)}function jC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function pP(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function yf(e,t){return yf=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},yf(e,t)}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(e)}var af=function(e){dP(n,e);var t=hP(n);function n(i,s,o,c,u,d,h){var m,p,g,y;lP(this,n),y=t.call(this,i),y.name="GraphQLError",y.originalError=d??void 0,y.nodes=Ew(Array.isArray(s)?s:s?[s]:void 0);for(var S=[],x=0,E=(_=y.nodes)!==null&&_!==void 0?_:[];x<E.length;x++){var _,T=E[x],O=T.loc;O!=null&&S.push(O)}S=Ew(S),y.source=o??((m=S)===null||m===void 0?void 0:m[0].source),y.positions=c??((p=S)===null||p===void 0?void 0:p.map(function(D){return D.start})),y.locations=c&&o?c.map(function(D){return mb(o,D)}):(g=S)===null||g===void 0?void 0:g.map(function(D){return mb(D.source,D.start)}),y.path=u??void 0;var N=d==null?void 0:d.extensions;return h==null&&aP(N)?y.extensions=oP({},N):y.extensions=h??{},Object.defineProperties(tf(y),{message:{enumerable:!0},locations:{enumerable:y.locations!=null},path:{enumerable:y.path!=null},extensions:{enumerable:y.extensions!=null&&Object.keys(y.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?(Object.defineProperty(tf(y),"stack",{value:d.stack,writable:!0,configurable:!0}),FC(y)):(Error.captureStackTrace?Error.captureStackTrace(tf(y),n):Object.defineProperty(tf(y),"stack",{value:Error().stack,writable:!0,configurable:!0}),y)}return fP(n,[{key:"toString",value:function(){return vP(this)}},{key:PC,get:function(){return"Object"}}]),n}(gb(Error));function Ew(e){return e===void 0||e.length===0?void 0:e}function vP(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var s=i[n];s.loc&&(t+=`

`+iP(s.loc))}else if(e.source&&e.locations)for(var o=0,c=e.locations;o<c.length;o++){var u=c[o];t+=`

`+BC(e.source,u)}return t}function na(e,t,n){return new af("Syntax Error: ".concat(n),void 0,e,[t])}var ot=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function mP(e,t){var n=!!e;if(!n)throw new Error("Unexpected invariant triggered.")}var yb=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function zC(e){var t=e.prototype.toJSON;typeof t=="function"||mP(0),e.prototype.inspect=t,yb&&(e.prototype[yb]=t)}var VC=function(){function e(n,i,s){this.start=n.start,this.end=i.end,this.startToken=n,this.endToken=i,this.source=s}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();zC(VC);var fn=function(){function e(n,i,s,o,c,u,d){this.kind=n,this.start=i,this.end=s,this.line=o,this.column=c,this.value=d,this.prev=u,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();zC(fn);function Cw(e){return e!=null&&typeof e.kind=="string"}var me=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Tp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tp=function(n){return typeof n}:Tp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tp(e)}var gP=10,HC=2;function Zb(e){return tv(e,[])}function tv(e,t){switch(Tp(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":yP(e,t);default:return String(e)}}function yP(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var n=[].concat(t,[e]),i=wP(e);if(i!==void 0){var s=i.call(e);if(s!==e)return typeof s=="string"?s:tv(s,n)}else if(Array.isArray(e))return SP(e,n);return bP(e,n)}function bP(e,t){var n=Object.keys(e);if(n.length===0)return"{}";if(t.length>HC)return"["+xP(e)+"]";var i=n.map(function(s){var o=tv(e[s],t);return s+": "+o});return"{ "+i.join(", ")+" }"}function SP(e,t){if(e.length===0)return"[]";if(t.length>HC)return"[Array]";for(var n=Math.min(gP,e.length),i=e.length-n,s=[],o=0;o<n;++o)s.push(tv(e[o],t));return i===1?s.push("... 1 more item"):i>1&&s.push("... ".concat(i," more items")),"["+s.join(", ")+"]"}function wP(e){var t=e[String(yb)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function xP(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}function Ay(e,t){var n=!!e;if(!n)throw new Error(t)}function Np(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Np=function(n){return typeof n}:Np=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Np(e)}const EP=function(t,n){if(t instanceof n)return!0;if(Np(t)==="object"&&t!==null){var i,s=n.prototype[Symbol.toStringTag],o=Symbol.toStringTag in t?t[Symbol.toStringTag]:(i=t.constructor)===null||i===void 0?void 0:i.name;if(s===o){var c=Zb(t);throw new Error("Cannot use ".concat(s,' "').concat(c,`" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`))}}return!1};function CP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function TP(e,t,n){return t&&CP(e.prototype,t),e}var $C=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||Ay(0,"Body must be a string. Received: ".concat(Zb(t),".")),this.body=t,this.name=n,this.locationOffset=i,this.locationOffset.line>0||Ay(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ay(0,"column in locationOffset is 1-indexed and must be positive.")}return TP(e,[{key:PC,get:function(){return"Source"}}]),e}();function NP(e){return EP(e,$C)}var _P=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function kP(e){var t=e.split(/\r\n|[\n\r]/g),n=DP(e);if(n!==0)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var s=0;s<t.length&&Tw(t[s]);)++s;for(var o=t.length;o>s&&Tw(t[o-1]);)--o;return t.slice(s,o).join(`
`)}function Tw(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function DP(e){for(var t,n=!0,i=!0,s=0,o=null,c=0;c<e.length;++c)switch(e.charCodeAt(c)){case 13:e.charCodeAt(c+1)===10&&++c;case 10:n=!1,i=!0,s=0;break;case 9:case 32:++s;break;default:i&&!n&&(o===null||s<o)&&(o=s),i=!1}return(t=o)!==null&&t!==void 0?t:0}function AP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.indexOf(`
`)===-1,s=e[0]===" "||e[0]==="	",o=e[e.length-1]==='"',c=e[e.length-1]==="\\",u=!i||o||c||n,d="";return u&&!(i&&s)&&(d+=`
`+t),d+=t?e.replace(/\n/g,`
`+t):e,u&&(d+=`
`),'"""'+d.replace(/"""/g,'\\"""')+'"""'}var OP=function(){function e(n){var i=new fn(me.SOF,0,0,0,0,null);this.source=n,this.lastToken=i,this.token=i,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var i=this.token=this.lookahead();return i},t.lookahead=function(){var i=this.token;if(i.kind!==me.EOF)do{var s;i=(s=i.next)!==null&&s!==void 0?s:i.next=MP(this,i)}while(i.kind===me.COMMENT);return i},e}();function RP(e){return e===me.BANG||e===me.DOLLAR||e===me.AMP||e===me.PAREN_L||e===me.PAREN_R||e===me.SPREAD||e===me.COLON||e===me.EQUALS||e===me.AT||e===me.BRACKET_L||e===me.BRACKET_R||e===me.BRACE_L||e===me.PIPE||e===me.BRACE_R}function tc(e){return isNaN(e)?me.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function MP(e,t){for(var n=e.source,i=n.body,s=i.length,o=t.end;o<s;){var c=i.charCodeAt(o),u=e.line,d=1+o-e.lineStart;switch(c){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:i.charCodeAt(o+1)===10?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new fn(me.BANG,o,o+1,u,d,t);case 35:return LP(n,o,u,d,t);case 36:return new fn(me.DOLLAR,o,o+1,u,d,t);case 38:return new fn(me.AMP,o,o+1,u,d,t);case 40:return new fn(me.PAREN_L,o,o+1,u,d,t);case 41:return new fn(me.PAREN_R,o,o+1,u,d,t);case 46:if(i.charCodeAt(o+1)===46&&i.charCodeAt(o+2)===46)return new fn(me.SPREAD,o,o+3,u,d,t);break;case 58:return new fn(me.COLON,o,o+1,u,d,t);case 61:return new fn(me.EQUALS,o,o+1,u,d,t);case 64:return new fn(me.AT,o,o+1,u,d,t);case 91:return new fn(me.BRACKET_L,o,o+1,u,d,t);case 93:return new fn(me.BRACKET_R,o,o+1,u,d,t);case 123:return new fn(me.BRACE_L,o,o+1,u,d,t);case 124:return new fn(me.PIPE,o,o+1,u,d,t);case 125:return new fn(me.BRACE_R,o,o+1,u,d,t);case 34:return i.charCodeAt(o+1)===34&&i.charCodeAt(o+2)===34?BP(n,o,u,d,t,e):PP(n,o,u,d,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return UP(n,o,c,u,d,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return jP(n,o,u,d,t)}throw na(n,o,IP(c))}var h=e.line,m=1+o-e.lineStart;return new fn(me.EOF,s,s,h,m,t)}function IP(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(tc(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(tc(e),".")}function LP(e,t,n,i,s){var o=e.body,c,u=t;do c=o.charCodeAt(++u);while(!isNaN(c)&&(c>31||c===9));return new fn(me.COMMENT,t,u,n,i,s,o.slice(t+1,u))}function UP(e,t,n,i,s,o){var c=e.body,u=n,d=t,h=!1;if(u===45&&(u=c.charCodeAt(++d)),u===48){if(u=c.charCodeAt(++d),u>=48&&u<=57)throw na(e,d,"Invalid number, unexpected digit after 0: ".concat(tc(u),"."))}else d=Oy(e,d,u),u=c.charCodeAt(d);if(u===46&&(h=!0,u=c.charCodeAt(++d),d=Oy(e,d,u),u=c.charCodeAt(d)),(u===69||u===101)&&(h=!0,u=c.charCodeAt(++d),(u===43||u===45)&&(u=c.charCodeAt(++d)),d=Oy(e,d,u),u=c.charCodeAt(d)),u===46||zP(u))throw na(e,d,"Invalid number, expected digit but got: ".concat(tc(u),"."));return new fn(h?me.FLOAT:me.INT,t,d,i,s,o,c.slice(t,d))}function Oy(e,t,n){var i=e.body,s=t,o=n;if(o>=48&&o<=57){do o=i.charCodeAt(++s);while(o>=48&&o<=57);return s}throw na(e,s,"Invalid number, expected digit but got: ".concat(tc(o),"."))}function PP(e,t,n,i,s){for(var o=e.body,c=t+1,u=c,d=0,h="";c<o.length&&!isNaN(d=o.charCodeAt(c))&&d!==10&&d!==13;){if(d===34)return h+=o.slice(u,c),new fn(me.STRING,t,c+1,n,i,s,h);if(d<32&&d!==9)throw na(e,c,"Invalid character within String: ".concat(tc(d),"."));if(++c,d===92){switch(h+=o.slice(u,c-1),d=o.charCodeAt(c),d){case 34:h+='"';break;case 47:h+="/";break;case 92:h+="\\";break;case 98:h+="\b";break;case 102:h+="\f";break;case 110:h+=`
`;break;case 114:h+="\r";break;case 116:h+="	";break;case 117:{var m=FP(o.charCodeAt(c+1),o.charCodeAt(c+2),o.charCodeAt(c+3),o.charCodeAt(c+4));if(m<0){var p=o.slice(c+1,c+5);throw na(e,c,"Invalid character escape sequence: \\u".concat(p,"."))}h+=String.fromCharCode(m),c+=4;break}default:throw na(e,c,"Invalid character escape sequence: \\".concat(String.fromCharCode(d),"."))}++c,u=c}}throw na(e,c,"Unterminated string.")}function BP(e,t,n,i,s,o){for(var c=e.body,u=t+3,d=u,h=0,m="";u<c.length&&!isNaN(h=c.charCodeAt(u));){if(h===34&&c.charCodeAt(u+1)===34&&c.charCodeAt(u+2)===34)return m+=c.slice(d,u),new fn(me.BLOCK_STRING,t,u+3,n,i,s,kP(m));if(h<32&&h!==9&&h!==10&&h!==13)throw na(e,u,"Invalid character within String: ".concat(tc(h),"."));h===10?(++u,++o.line,o.lineStart=u):h===13?(c.charCodeAt(u+1)===10?u+=2:++u,++o.line,o.lineStart=u):h===92&&c.charCodeAt(u+1)===34&&c.charCodeAt(u+2)===34&&c.charCodeAt(u+3)===34?(m+=c.slice(d,u)+'"""',u+=4,d=u):++u}throw na(e,u,"Unterminated string.")}function FP(e,t,n,i){return Jh(e)<<12|Jh(t)<<8|Jh(n)<<4|Jh(i)}function Jh(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function jP(e,t,n,i,s){for(var o=e.body,c=o.length,u=t+1,d=0;u!==c&&!isNaN(d=o.charCodeAt(u))&&(d===95||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122);)++u;return new fn(me.NAME,t,u,n,i,s,o.slice(t,u))}function zP(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function Ry(e,t){var n=new VP(e,t);return n.parseDocument()}var VP=function(){function e(n,i){var s=NP(n)?n:new $C(n);this._lexer=new OP(s),this._options=i}var t=e.prototype;return t.parseName=function(){var i=this.expectToken(me.NAME);return{kind:ot.NAME,value:i.value,loc:this.loc(i)}},t.parseDocument=function(){var i=this._lexer.token;return{kind:ot.DOCUMENT,definitions:this.many(me.SOF,this.parseDefinition,me.EOF),loc:this.loc(i)}},t.parseDefinition=function(){if(this.peek(me.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(me.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var i=this._lexer.token;if(this.peek(me.BRACE_L))return{kind:ot.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(i)};var s=this.parseOperationType(),o;return this.peek(me.NAME)&&(o=this.parseName()),{kind:ot.OPERATION_DEFINITION,operation:s,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseOperationType=function(){var i=this.expectToken(me.NAME);switch(i.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(i)},t.parseVariableDefinitions=function(){return this.optionalMany(me.PAREN_L,this.parseVariableDefinition,me.PAREN_R)},t.parseVariableDefinition=function(){var i=this._lexer.token;return{kind:ot.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(me.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(me.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(i)}},t.parseVariable=function(){var i=this._lexer.token;return this.expectToken(me.DOLLAR),{kind:ot.VARIABLE,name:this.parseName(),loc:this.loc(i)}},t.parseSelectionSet=function(){var i=this._lexer.token;return{kind:ot.SELECTION_SET,selections:this.many(me.BRACE_L,this.parseSelection,me.BRACE_R),loc:this.loc(i)}},t.parseSelection=function(){return this.peek(me.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var i=this._lexer.token,s=this.parseName(),o,c;return this.expectOptionalToken(me.COLON)?(o=s,c=this.parseName()):c=s,{kind:ot.FIELD,alias:o,name:c,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(me.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(i)}},t.parseArguments=function(i){var s=i?this.parseConstArgument:this.parseArgument;return this.optionalMany(me.PAREN_L,s,me.PAREN_R)},t.parseArgument=function(){var i=this._lexer.token,s=this.parseName();return this.expectToken(me.COLON),{kind:ot.ARGUMENT,name:s,value:this.parseValueLiteral(!1),loc:this.loc(i)}},t.parseConstArgument=function(){var i=this._lexer.token;return{kind:ot.ARGUMENT,name:this.parseName(),value:(this.expectToken(me.COLON),this.parseValueLiteral(!0)),loc:this.loc(i)}},t.parseFragment=function(){var i=this._lexer.token;this.expectToken(me.SPREAD);var s=this.expectOptionalKeyword("on");return!s&&this.peek(me.NAME)?{kind:ot.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(i)}:{kind:ot.INLINE_FRAGMENT,typeCondition:s?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseFragmentDefinition=function(){var i,s=this._lexer.token;return this.expectKeyword("fragment"),((i=this._options)===null||i===void 0?void 0:i.experimentalFragmentVariables)===!0?{kind:ot.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(s)}:{kind:ot.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(s)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(i){var s=this._lexer.token;switch(s.kind){case me.BRACKET_L:return this.parseList(i);case me.BRACE_L:return this.parseObject(i);case me.INT:return this._lexer.advance(),{kind:ot.INT,value:s.value,loc:this.loc(s)};case me.FLOAT:return this._lexer.advance(),{kind:ot.FLOAT,value:s.value,loc:this.loc(s)};case me.STRING:case me.BLOCK_STRING:return this.parseStringLiteral();case me.NAME:switch(this._lexer.advance(),s.value){case"true":return{kind:ot.BOOLEAN,value:!0,loc:this.loc(s)};case"false":return{kind:ot.BOOLEAN,value:!1,loc:this.loc(s)};case"null":return{kind:ot.NULL,loc:this.loc(s)};default:return{kind:ot.ENUM,value:s.value,loc:this.loc(s)}}case me.DOLLAR:if(!i)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var i=this._lexer.token;return this._lexer.advance(),{kind:ot.STRING,value:i.value,block:i.kind===me.BLOCK_STRING,loc:this.loc(i)}},t.parseList=function(i){var s=this,o=this._lexer.token,c=function(){return s.parseValueLiteral(i)};return{kind:ot.LIST,values:this.any(me.BRACKET_L,c,me.BRACKET_R),loc:this.loc(o)}},t.parseObject=function(i){var s=this,o=this._lexer.token,c=function(){return s.parseObjectField(i)};return{kind:ot.OBJECT,fields:this.any(me.BRACE_L,c,me.BRACE_R),loc:this.loc(o)}},t.parseObjectField=function(i){var s=this._lexer.token,o=this.parseName();return this.expectToken(me.COLON),{kind:ot.OBJECT_FIELD,name:o,value:this.parseValueLiteral(i),loc:this.loc(s)}},t.parseDirectives=function(i){for(var s=[];this.peek(me.AT);)s.push(this.parseDirective(i));return s},t.parseDirective=function(i){var s=this._lexer.token;return this.expectToken(me.AT),{kind:ot.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(i),loc:this.loc(s)}},t.parseTypeReference=function(){var i=this._lexer.token,s;return this.expectOptionalToken(me.BRACKET_L)?(s=this.parseTypeReference(),this.expectToken(me.BRACKET_R),s={kind:ot.LIST_TYPE,type:s,loc:this.loc(i)}):s=this.parseNamedType(),this.expectOptionalToken(me.BANG)?{kind:ot.NON_NULL_TYPE,type:s,loc:this.loc(i)}:s},t.parseNamedType=function(){var i=this._lexer.token;return{kind:ot.NAMED_TYPE,name:this.parseName(),loc:this.loc(i)}},t.parseTypeSystemDefinition=function(){var i=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(i.kind===me.NAME)switch(i.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(i)},t.peekDescription=function(){return this.peek(me.STRING)||this.peek(me.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("schema");var o=this.parseDirectives(!0),c=this.many(me.BRACE_L,this.parseOperationTypeDefinition,me.BRACE_R);return{kind:ot.SCHEMA_DEFINITION,description:s,directives:o,operationTypes:c,loc:this.loc(i)}},t.parseOperationTypeDefinition=function(){var i=this._lexer.token,s=this.parseOperationType();this.expectToken(me.COLON);var o=this.parseNamedType();return{kind:ot.OPERATION_TYPE_DEFINITION,operation:s,type:o,loc:this.loc(i)}},t.parseScalarTypeDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("scalar");var o=this.parseName(),c=this.parseDirectives(!0);return{kind:ot.SCALAR_TYPE_DEFINITION,description:s,name:o,directives:c,loc:this.loc(i)}},t.parseObjectTypeDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("type");var o=this.parseName(),c=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),d=this.parseFieldsDefinition();return{kind:ot.OBJECT_TYPE_DEFINITION,description:s,name:o,interfaces:c,directives:u,fields:d,loc:this.loc(i)}},t.parseImplementsInterfaces=function(){var i;if(!this.expectOptionalKeyword("implements"))return[];if(((i=this._options)===null||i===void 0?void 0:i.allowLegacySDLImplementsInterfaces)===!0){var s=[];this.expectOptionalToken(me.AMP);do s.push(this.parseNamedType());while(this.expectOptionalToken(me.AMP)||this.peek(me.NAME));return s}return this.delimitedMany(me.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var i;return((i=this._options)===null||i===void 0?void 0:i.allowLegacySDLEmptyFields)===!0&&this.peek(me.BRACE_L)&&this._lexer.lookahead().kind===me.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(me.BRACE_L,this.parseFieldDefinition,me.BRACE_R)},t.parseFieldDefinition=function(){var i=this._lexer.token,s=this.parseDescription(),o=this.parseName(),c=this.parseArgumentDefs();this.expectToken(me.COLON);var u=this.parseTypeReference(),d=this.parseDirectives(!0);return{kind:ot.FIELD_DEFINITION,description:s,name:o,arguments:c,type:u,directives:d,loc:this.loc(i)}},t.parseArgumentDefs=function(){return this.optionalMany(me.PAREN_L,this.parseInputValueDef,me.PAREN_R)},t.parseInputValueDef=function(){var i=this._lexer.token,s=this.parseDescription(),o=this.parseName();this.expectToken(me.COLON);var c=this.parseTypeReference(),u;this.expectOptionalToken(me.EQUALS)&&(u=this.parseValueLiteral(!0));var d=this.parseDirectives(!0);return{kind:ot.INPUT_VALUE_DEFINITION,description:s,name:o,type:c,defaultValue:u,directives:d,loc:this.loc(i)}},t.parseInterfaceTypeDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("interface");var o=this.parseName(),c=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),d=this.parseFieldsDefinition();return{kind:ot.INTERFACE_TYPE_DEFINITION,description:s,name:o,interfaces:c,directives:u,fields:d,loc:this.loc(i)}},t.parseUnionTypeDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("union");var o=this.parseName(),c=this.parseDirectives(!0),u=this.parseUnionMemberTypes();return{kind:ot.UNION_TYPE_DEFINITION,description:s,name:o,directives:c,types:u,loc:this.loc(i)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(me.EQUALS)?this.delimitedMany(me.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("enum");var o=this.parseName(),c=this.parseDirectives(!0),u=this.parseEnumValuesDefinition();return{kind:ot.ENUM_TYPE_DEFINITION,description:s,name:o,directives:c,values:u,loc:this.loc(i)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(me.BRACE_L,this.parseEnumValueDefinition,me.BRACE_R)},t.parseEnumValueDefinition=function(){var i=this._lexer.token,s=this.parseDescription(),o=this.parseName(),c=this.parseDirectives(!0);return{kind:ot.ENUM_VALUE_DEFINITION,description:s,name:o,directives:c,loc:this.loc(i)}},t.parseInputObjectTypeDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("input");var o=this.parseName(),c=this.parseDirectives(!0),u=this.parseInputFieldsDefinition();return{kind:ot.INPUT_OBJECT_TYPE_DEFINITION,description:s,name:o,directives:c,fields:u,loc:this.loc(i)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(me.BRACE_L,this.parseInputValueDef,me.BRACE_R)},t.parseTypeSystemExtension=function(){var i=this._lexer.lookahead();if(i.kind===me.NAME)switch(i.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(i)},t.parseSchemaExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.optionalMany(me.BRACE_L,this.parseOperationTypeDefinition,me.BRACE_R);if(s.length===0&&o.length===0)throw this.unexpected();return{kind:ot.SCHEMA_EXTENSION,directives:s,operationTypes:o,loc:this.loc(i)}},t.parseScalarTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);if(o.length===0)throw this.unexpected();return{kind:ot.SCALAR_TYPE_EXTENSION,name:s,directives:o,loc:this.loc(i)}},t.parseObjectTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),c=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(o.length===0&&c.length===0&&u.length===0)throw this.unexpected();return{kind:ot.OBJECT_TYPE_EXTENSION,name:s,interfaces:o,directives:c,fields:u,loc:this.loc(i)}},t.parseInterfaceTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),c=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(o.length===0&&c.length===0&&u.length===0)throw this.unexpected();return{kind:ot.INTERFACE_TYPE_EXTENSION,name:s,interfaces:o,directives:c,fields:u,loc:this.loc(i)}},t.parseUnionTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),c=this.parseUnionMemberTypes();if(o.length===0&&c.length===0)throw this.unexpected();return{kind:ot.UNION_TYPE_EXTENSION,name:s,directives:o,types:c,loc:this.loc(i)}},t.parseEnumTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),c=this.parseEnumValuesDefinition();if(o.length===0&&c.length===0)throw this.unexpected();return{kind:ot.ENUM_TYPE_EXTENSION,name:s,directives:o,values:c,loc:this.loc(i)}},t.parseInputObjectTypeExtension=function(){var i=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),c=this.parseInputFieldsDefinition();if(o.length===0&&c.length===0)throw this.unexpected();return{kind:ot.INPUT_OBJECT_TYPE_EXTENSION,name:s,directives:o,fields:c,loc:this.loc(i)}},t.parseDirectiveDefinition=function(){var i=this._lexer.token,s=this.parseDescription();this.expectKeyword("directive"),this.expectToken(me.AT);var o=this.parseName(),c=this.parseArgumentDefs(),u=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var d=this.parseDirectiveLocations();return{kind:ot.DIRECTIVE_DEFINITION,description:s,name:o,arguments:c,repeatable:u,locations:d,loc:this.loc(i)}},t.parseDirectiveLocations=function(){return this.delimitedMany(me.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var i=this._lexer.token,s=this.parseName();if(_P[s.value]!==void 0)return s;throw this.unexpected(i)},t.loc=function(i){var s;if(((s=this._options)===null||s===void 0?void 0:s.noLocation)!==!0)return new VC(i,this._lexer.lastToken,this._lexer.source)},t.peek=function(i){return this._lexer.token.kind===i},t.expectToken=function(i){var s=this._lexer.token;if(s.kind===i)return this._lexer.advance(),s;throw na(this._lexer.source,s.start,"Expected ".concat(GC(i),", found ").concat(My(s),"."))},t.expectOptionalToken=function(i){var s=this._lexer.token;if(s.kind===i)return this._lexer.advance(),s},t.expectKeyword=function(i){var s=this._lexer.token;if(s.kind===me.NAME&&s.value===i)this._lexer.advance();else throw na(this._lexer.source,s.start,'Expected "'.concat(i,'", found ').concat(My(s),"."))},t.expectOptionalKeyword=function(i){var s=this._lexer.token;return s.kind===me.NAME&&s.value===i?(this._lexer.advance(),!0):!1},t.unexpected=function(i){var s=i??this._lexer.token;return na(this._lexer.source,s.start,"Unexpected ".concat(My(s),"."))},t.any=function(i,s,o){this.expectToken(i);for(var c=[];!this.expectOptionalToken(o);)c.push(s.call(this));return c},t.optionalMany=function(i,s,o){if(this.expectOptionalToken(i)){var c=[];do c.push(s.call(this));while(!this.expectOptionalToken(o));return c}return[]},t.many=function(i,s,o){this.expectToken(i);var c=[];do c.push(s.call(this));while(!this.expectOptionalToken(o));return c},t.delimitedMany=function(i,s){this.expectOptionalToken(i);var o=[];do o.push(s.call(this));while(this.expectOptionalToken(i));return o},e}();function My(e){var t=e.value;return GC(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function GC(e){return RP(e)?'"'.concat(e,'"'):e}var HP={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},$P=Object.freeze({});function GP(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HP,i=void 0,s=Array.isArray(e),o=[e],c=-1,u=[],d=void 0,h=void 0,m=void 0,p=[],g=[],y=e;do{c++;var S=c===o.length,x=S&&u.length!==0;if(S){if(h=g.length===0?void 0:p[p.length-1],d=m,m=g.pop(),x){if(s)d=d.slice();else{for(var E={},_=0,T=Object.keys(d);_<T.length;_++){var O=T[_];E[O]=d[O]}d=E}for(var N=0,D=0;D<u.length;D++){var R=u[D][0],P=u[D][1];s&&(R-=N),s&&P===null?(d.splice(R,1),N++):d[R]=P}}c=i.index,o=i.keys,u=i.edits,s=i.inArray,i=i.prev}else{if(h=m?s?c:o[c]:void 0,d=m?m[h]:y,d==null)continue;m&&p.push(h)}var U=void 0;if(!Array.isArray(d)){if(!Cw(d))throw new Error("Invalid AST Node: ".concat(Zb(d),"."));var F=KP(t,d.kind,S);if(F){if(U=F.call(t,d,h,m,p,g),U===$P)break;if(U===!1){if(!S){p.pop();continue}}else if(U!==void 0&&(u.push([h,U]),!S))if(Cw(U))d=U;else{p.pop();continue}}}if(U===void 0&&x&&u.push([h,d]),S)p.pop();else{var H;i={inArray:s,index:c,keys:o,edits:u,prev:i},s=Array.isArray(d),o=s?d:(H=n[d.kind])!==null&&H!==void 0?H:[],c=-1,u=[],m&&g.push(m),m=d}}while(i!==void 0);return u.length!==0&&(y=u[u.length-1][1]),y}function KP(e,t,n){var i=e[t];if(i){if(!n&&typeof i=="function")return i;var s=n?i.leave:i.enter;if(typeof s=="function")return s}else{var o=n?e.leave:e.enter;if(o){if(typeof o=="function")return o;var c=o[t];if(typeof c=="function")return c}}}function F0(e){return GP(e,{leave:qP})}var YP=80,qP={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return Ve(t.definitions,`

`)+`
`},OperationDefinition:function(t){var n=t.operation,i=t.name,s=cn("(",Ve(t.variableDefinitions,", "),")"),o=Ve(t.directives," "),c=t.selectionSet;return!i&&!o&&!s&&n==="query"?c:Ve([n,Ve([i,s]),o,c]," ")},VariableDefinition:function(t){var n=t.variable,i=t.type,s=t.defaultValue,o=t.directives;return n+": "+i+cn(" = ",s)+cn(" ",Ve(o," "))},SelectionSet:function(t){var n=t.selections;return $a(n)},Field:function(t){var n=t.alias,i=t.name,s=t.arguments,o=t.directives,c=t.selectionSet,u=cn("",n,": ")+i,d=u+cn("(",Ve(s,", "),")");return d.length>YP&&(d=u+cn(`(
`,_p(Ve(s,`
`)),`
)`)),Ve([d,Ve(o," "),c]," ")},Argument:function(t){var n=t.name,i=t.value;return n+": "+i},FragmentSpread:function(t){var n=t.name,i=t.directives;return"..."+n+cn(" ",Ve(i," "))},InlineFragment:function(t){var n=t.typeCondition,i=t.directives,s=t.selectionSet;return Ve(["...",cn("on ",n),Ve(i," "),s]," ")},FragmentDefinition:function(t){var n=t.name,i=t.typeCondition,s=t.variableDefinitions,o=t.directives,c=t.selectionSet;return"fragment ".concat(n).concat(cn("(",Ve(s,", "),")")," ")+"on ".concat(i," ").concat(cn("",Ve(o," ")," "))+c},IntValue:function(t){var n=t.value;return n},FloatValue:function(t){var n=t.value;return n},StringValue:function(t,n){var i=t.value,s=t.block;return s?AP(i,n==="description"?"":"  "):JSON.stringify(i)},BooleanValue:function(t){var n=t.value;return n?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var n=t.value;return n},ListValue:function(t){var n=t.values;return"["+Ve(n,", ")+"]"},ObjectValue:function(t){var n=t.fields;return"{"+Ve(n,", ")+"}"},ObjectField:function(t){var n=t.name,i=t.value;return n+": "+i},Directive:function(t){var n=t.name,i=t.arguments;return"@"+n+cn("(",Ve(i,", "),")")},NamedType:function(t){var n=t.name;return n},ListType:function(t){var n=t.type;return"["+n+"]"},NonNullType:function(t){var n=t.type;return n+"!"},SchemaDefinition:Ha(function(e){var t=e.directives,n=e.operationTypes;return Ve(["schema",Ve(t," "),$a(n)]," ")}),OperationTypeDefinition:function(t){var n=t.operation,i=t.type;return n+": "+i},ScalarTypeDefinition:Ha(function(e){var t=e.name,n=e.directives;return Ve(["scalar",t,Ve(n," ")]," ")}),ObjectTypeDefinition:Ha(function(e){var t=e.name,n=e.interfaces,i=e.directives,s=e.fields;return Ve(["type",t,cn("implements ",Ve(n," & ")),Ve(i," "),$a(s)]," ")}),FieldDefinition:Ha(function(e){var t=e.name,n=e.arguments,i=e.type,s=e.directives;return t+(Nw(n)?cn(`(
`,_p(Ve(n,`
`)),`
)`):cn("(",Ve(n,", "),")"))+": "+i+cn(" ",Ve(s," "))}),InputValueDefinition:Ha(function(e){var t=e.name,n=e.type,i=e.defaultValue,s=e.directives;return Ve([t+": "+n,cn("= ",i),Ve(s," ")]," ")}),InterfaceTypeDefinition:Ha(function(e){var t=e.name,n=e.interfaces,i=e.directives,s=e.fields;return Ve(["interface",t,cn("implements ",Ve(n," & ")),Ve(i," "),$a(s)]," ")}),UnionTypeDefinition:Ha(function(e){var t=e.name,n=e.directives,i=e.types;return Ve(["union",t,Ve(n," "),i&&i.length!==0?"= "+Ve(i," | "):""]," ")}),EnumTypeDefinition:Ha(function(e){var t=e.name,n=e.directives,i=e.values;return Ve(["enum",t,Ve(n," "),$a(i)]," ")}),EnumValueDefinition:Ha(function(e){var t=e.name,n=e.directives;return Ve([t,Ve(n," ")]," ")}),InputObjectTypeDefinition:Ha(function(e){var t=e.name,n=e.directives,i=e.fields;return Ve(["input",t,Ve(n," "),$a(i)]," ")}),DirectiveDefinition:Ha(function(e){var t=e.name,n=e.arguments,i=e.repeatable,s=e.locations;return"directive @"+t+(Nw(n)?cn(`(
`,_p(Ve(n,`
`)),`
)`):cn("(",Ve(n,", "),")"))+(i?" repeatable":"")+" on "+Ve(s," | ")}),SchemaExtension:function(t){var n=t.directives,i=t.operationTypes;return Ve(["extend schema",Ve(n," "),$a(i)]," ")},ScalarTypeExtension:function(t){var n=t.name,i=t.directives;return Ve(["extend scalar",n,Ve(i," ")]," ")},ObjectTypeExtension:function(t){var n=t.name,i=t.interfaces,s=t.directives,o=t.fields;return Ve(["extend type",n,cn("implements ",Ve(i," & ")),Ve(s," "),$a(o)]," ")},InterfaceTypeExtension:function(t){var n=t.name,i=t.interfaces,s=t.directives,o=t.fields;return Ve(["extend interface",n,cn("implements ",Ve(i," & ")),Ve(s," "),$a(o)]," ")},UnionTypeExtension:function(t){var n=t.name,i=t.directives,s=t.types;return Ve(["extend union",n,Ve(i," "),s&&s.length!==0?"= "+Ve(s," | "):""]," ")},EnumTypeExtension:function(t){var n=t.name,i=t.directives,s=t.values;return Ve(["extend enum",n,Ve(i," "),$a(s)]," ")},InputObjectTypeExtension:function(t){var n=t.name,i=t.directives,s=t.fields;return Ve(["extend input",n,Ve(i," "),$a(s)]," ")}};function Ha(e){return function(t){return Ve([t.description,e(t)],`
`)}}function Ve(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(i){return i}).join(n))!==null&&t!==void 0?t:""}function $a(e){return cn(`{
`,_p(Ve(e,`
`)),`
}`)}function cn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+n:""}function _p(e){return cn("  ",e.replace(/\n/g,`
  `))}function WP(e){return e.indexOf(`
`)!==-1}function Nw(e){return e!=null&&e.some(WP)}class Sf extends Bp{constructor(t){super(t),this.constructor=Sf,Object.setPrototypeOf(this,Sf.prototype)}}let KC=class bb extends Sf{constructor(t={}){super({name:"CanceledError",message:"Request is canceled by user",...t}),this.constructor=bb,Object.setPrototypeOf(this,bb.prototype)}};const XP=e=>!!e&&e instanceof KC;var Sb;(function(e){e.InvalidApiName="InvalidApiName"})(Sb||(Sb={}));Sb.InvalidApiName+"";const YC=async e=>{var n;if(!e)return;const t=await Ll(QP(e));if(t){const i=await((n=e.body)==null?void 0:n.text());return JP(t,{statusCode:e.statusCode,headers:e.headers,body:i})}},QP=e=>{let t;const n=new Proxy(e.body,{get(s,o,c){return o==="json"?async()=>{t||(t=s.text());try{return JSON.parse(await t)}catch{return{}}}:o==="text"?async()=>(t||(t=s.text()),t):Reflect.get(s,o,c)}});return new Proxy(e,{get(s,o,c){return o==="body"?n:Reflect.get(s,o,c)}})},JP=(e,t)=>{const n=new Sf({name:e==null?void 0:e.name,message:e.message,underlyingError:e,response:t});return Object.assign(n,{$metadata:e.$metadata})},wb=new Un("RestApis");function ZP(e,t,n,i){const s=t.signal;return(async()=>{try{const c=await e();if(c.statusCode>=300)throw await YC(c);return c}catch(c){if(c.name==="AbortError"||(s==null?void 0:s.aborted)===!0){const u=s.reason,d=new KC({...u&&{message:u},underlyingError:c,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw wb.debug(d),d}throw wb.debug(c),c}})()}const _w="execute-api",eB="us-east-1",tB=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,nB=(e,t)=>{const{service:n=_w,region:i=eB}={},{hostname:s}=e,[,o,c]=tB.exec(s)??[];return o===_w?{service:o,region:c??i}:o==="appsync-api"?{service:"appsync",region:c??i}:{service:n,region:i}},rB=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,aB=e=>{var i,s,o,c,u,d;const t=(o=(s=(i=e.libraryOptions)==null?void 0:i.API)==null?void 0:s.REST)==null?void 0:o.retryStrategy,n=(d=(u=(c=e.libraryOptions)==null?void 0:c.API)==null?void 0:u.REST)==null?void 0:d.defaultAuthMode;return{retryStrategy:t,defaultAuthMode:n}},iB=(e,t)=>{const n={};for(const i in e)n[i.toLowerCase()]=e[i];if(t){const i=n["content-type"];i&&(i.startsWith("application/json")||i.startsWith("application/")&&i.includes("+json"))||(n["content-type"]="application/json; charset=UTF-8"),t instanceof FormData&&delete n["content-type"]}return n},sB=Ul(Qb,[ev,Zp,AC]),oB=Ul(Qb,[ev,Zp]),cB=async(e,t,n,i)=>{const{url:s,method:o,headers:c,body:u,withCredentials:d,abortSignal:h,retryStrategy:m}=t,p=u?u instanceof FormData?u:JSON.stringify(u??""):void 0,g=iB(c,u),y={url:s,headers:g,method:o,body:p},{retryStrategy:S,defaultAuthMode:x}=aB(e),E={retryDecider:lB(m??S),computeDelay:Qp,withCrossDomainCredentials:d,abortSignal:h},_=t.defaultAuthMode??x;let T=null;_!=="none"&&(T=await uB(e));let O;if(n(y,i)&&T){const D=nB(s),R=(i==null?void 0:i.service)??D.service,P=(i==null?void 0:i.region)??D.region;O=await sB(y,{...E,credentials:T,region:P,service:R})}else O=await oB(y,{...E});return{statusCode:O.statusCode,headers:O.headers,body:O.body}},lB=e=>(e==null?void 0:e.strategy)==="no-retry"?()=>Promise.resolve({retryable:!1}):Jp(YC),uB=async e=>{try{const{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch{wb.debug("No credentials available, the request will be unsigned.")}return null},e3=new WeakMap,fB=(e,{url:t,options:n,abortController:i})=>{const s=i??new AbortController,c=ZP(async()=>cB(e,{url:t,method:"POST",...n,abortSignal:s.signal,retryStrategy:{strategy:"jittered-exponential-backoff"}},rB,n==null?void 0:n.signingServiceInfo),s).finally(()=>{e3.delete(c)});return c},dB=(e,t)=>{const n=e3.get(e);return n?(n.abort(t),t&&n.signal.reason!==t&&(n.signal.reason=t),!0):!1},hB=(e,t)=>{e3.set(e,t)},pB=5e3,vB=[400,401,403],mB=["BadRequestException","UnauthorizedException"],gB="ConnectionStateChange";var Pr;(function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error",e.EVENT_SUBSCRIBE="subscribe",e.EVENT_PUBLISH="publish",e.EVENT_SUBSCRIBE_ACK="subscribe_success",e.EVENT_PUBLISH_ACK="publish_success",e.EVENT_STOP="unsubscribe",e.EVENT_COMPLETE="unsubscribe_success",e.EVENT_SUBSCRIBE_ERROR="subscribe_error"})(Pr||(Pr={}));var ns;(function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"})(ns||(ns={}));var Nr;(function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"})(Nr||(Nr={}));const yB={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},kw=15e3,bB=15e3,SB=5*60*1e3,wB=5*1e3,xB=65*1e3,EB=5*1e3,CB=60*1e3;var Ka;(function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"})(Ka||(Ka={}));var Hn;(function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"})(Hn||(Hn={}));const Dw=()=>new Tl().networkMonitor(),ya={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class TB{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=Dw().subscribe(({online:t})=>{var n;this.record(t?ya.ONLINE:ya.OFFLINE),(n=this._initialNetworkStateSubscription)==null||n.unsubscribe()}),this._linkedConnectionStateObservable=new jr(t=>{t.next(this._linkedConnectionState),this._linkedConnectionStateObserver=t})}enableNetworkMonitoring(){var t;(t=this._initialNetworkStateSubscription)==null||t.unsubscribe(),this._networkMonitoringSubscription===void 0&&(this._networkMonitoringSubscription=Dw().subscribe(({online:n})=>{this.record(n?ya.ONLINE:ya.OFFLINE)}))}disableNetworkMonitoring(){var t;(t=this._networkMonitoringSubscription)==null||t.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){let t;return this._linkedConnectionStateObservable.pipe(Xb(n=>this.connectionStatesTranslator(n))).pipe(oL(n=>{const i=n!==t;return t=n,i}))}record(t){var i;t.intendedConnectionState==="connected"?this.enableNetworkMonitoring():t.intendedConnectionState==="disconnected"&&this.disableNetworkMonitoring();const n={...this._linkedConnectionState,...t};this._linkedConnectionState={...n},(i=this._linkedConnectionStateObserver)==null||i.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:t,networkState:n,intendedConnectionState:i,keepAliveState:s}){return t==="connected"&&n==="disconnected"?Hn.ConnectedPendingNetwork:t==="connected"&&i==="disconnected"?Hn.ConnectedPendingDisconnect:t==="disconnected"&&i==="connected"&&n==="disconnected"?Hn.ConnectionDisruptedPendingNetwork:t==="disconnected"&&i==="connected"?Hn.ConnectionDisrupted:t==="connected"&&s==="unhealthy"?Hn.ConnectedPendingKeepAlive:t==="connecting"?Hn.Connecting:t==="disconnected"?Hn.Disconnected:Hn.Connected}}var Ol;(function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"})(Ol||(Ol={}));class NB{constructor(){this.reconnectObservers=[]}addObserver(t){this.reconnectObservers.push(t)}record(t){t===Ol.START_RECONNECT&&this.reconnectSetTimeoutId===void 0&&this.reconnectIntervalId===void 0&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},CB)},EB)),t===Ol.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(t=>{var n;(n=t.complete)==null||n.call(t)})}_triggerReconnect(){this.reconnectObservers.forEach(t=>{var n;(n=t.next)==null||n.call(t)})}}const Aw="wss://",_B=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,kB=/^https:\/\/\w{26}\.\w+-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/event$/i,Ow="/realtime",DB=e=>e.match(_B)===null,AB=e=>e.match(kB)!==null,OB=e=>{let t=e??"";return AB(t)?t=t.concat(Ow).replace("ddpg-api","grt-gamma").replace("appsync-api","appsync-realtime-api"):DB(t)?t=t.concat(Ow):t=t.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("ddpg-api","grt-gamma"),t=t.replace("https://",Aw).replace("http://",Aw),new Cn(t)},RB=e=>{if(!e)return{};if("Authorization"in e){const{Authorization:t,...n}=e;return n}return e},MB=e=>{const t=RB(e),n=new Qs;return Object.entries(t).forEach(([i,s])=>{n.append(i,s)}),n},IB=(e,t)=>{const n=OB(e),i=new Qs(n.search);for(const[s,o]of t.entries())i.append(s,o);return n.search=i.toString(),n.toString()},Iy=async e=>{const{appSyncGraphqlEndpoint:t,query:n,libraryConfigHeaders:i=()=>({}),additionalHeaders:s={},authToken:o}=e;let c={};const u=await i();return typeof s=="function"?c=await s({url:t||"",queryString:n||""}):c=s,o&&(c={...c,Authorization:o}),{additionalCustomHeaders:c,libraryConfigHeaders:u}},Rw=new Un("AWSAppSyncRealTimeProvider Auth"),Mw=async({host:e})=>{var n,i;const t=await oC();return{Authorization:(i=(n=t==null?void 0:t.tokens)==null?void 0:n.accessToken)==null?void 0:i.toString(),host:e}},LB=async({apiKey:e,host:t})=>{const i=new Date().toISOString().replace(/[:-]|\.\d{3}/g,"");return{host:t,"x-amz-date":i,"x-api-key":e}},UB=async({payload:e,canonicalUri:t,appSyncGraphqlEndpoint:n,region:i})=>{const s={region:i,service:"appsync"},o=(await oC()).credentials,c={url:`${n}${t}`,data:e,method:"POST",headers:{...yB}};return kC({headers:c.headers,method:c.method,url:new Cn(c.url),body:c.data},{credentials:o,signingRegion:s.region,signingService:s.service}).headers},Iw=async({host:e,additionalCustomHeaders:t})=>{if(!(t!=null&&t.Authorization))throw new Error("No auth token specified");return{Authorization:t.Authorization,host:e}},qC=async({apiKey:e,authenticationType:t,canonicalUri:n,appSyncGraphqlEndpoint:i,region:s,additionalCustomHeaders:o,payload:c})=>{const u={apiKey:LB,iam:UB,oidc:Mw,userPool:Mw,lambda:Iw,none:Iw};if(!t||!u[t]){Rw.debug(`Authentication type ${t} not supported`);return}else{const d=u[t],h=i?new Cn(i).host:void 0,m=t==="apiKey"?e:void 0;return Rw.debug(`Authenticating with ${JSON.stringify(t)}`),await d({payload:c,canonicalUri:n,appSyncGraphqlEndpoint:i,apiKey:m,region:s,host:h,additionalCustomHeaders:o})}},Lw=e=>{hf.dispatch("api",e,"PubSub",df)};class PB{constructor(t){this.subscriptionObserverMap=new Map,this.allowNoSubscriptions=!1,this.socketStatus=Nr.CLOSED,this.keepAliveTimestamp=Date.now(),this.promiseArray=[],this.connectionStateMonitor=new TB,this.reconnectionMonitor=new NB,this._establishConnection=async(n,i)=>{this.logger.debug(`Establishing WebSocket connection to ${n}`);try{await this._openConnection(n,i),await this._initiateHandshake()}catch(s){const{errorType:o,errorCode:c}=s;throw vB.includes(c)||mB.includes(o)?new dU(o):o?new Error(o):s}},this.logger=new Un(t.providerName),this.wsProtocolName=t.wsProtocolName,this.wsConnectUri=t.connectUri,this.connectionStateMonitorSubscription=this._startConnectionStateMonitoring()}close(){return this.socketStatus=Nr.CLOSED,this.connectionStateMonitor.record(ya.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close(),new Promise((t,n)=>{this.awsRealTimeSocket?(this.awsRealTimeSocket.onclose=i=>{this._closeSocket(),this.subscriptionObserverMap=new Map,this.awsRealTimeSocket=void 0,t()},this.awsRealTimeSocket.onerror=i=>{n(i)},this.awsRealTimeSocket.close()):t()})}subscribe(t,n){return new jr(i=>{if(!(t!=null&&t.appSyncGraphqlEndpoint)){i.error({errors:[{...new af("Subscribe only available for AWS AppSync endpoint")}]}),i.complete();return}let s=!1;const o=ub(),c=()=>{s||(s=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:i,subscriptionId:o,customUserAgentDetails:n}).catch(d=>{this.logger.debug(`${Ka.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${d}`),this._closeSocket()}).finally(()=>{s=!1}))},u=new jr(d=>{this.reconnectionMonitor.addObserver(d)}).subscribe(()=>{c()});return c(),async()=>{await this._cleanupSubscription(o,u)}})}async connect(t){this.socketStatus!==Nr.READY&&await this._connectWebSocket(t)}async publish(t,n){if(this.socketStatus!==Nr.READY)throw new Error("Subscription has not been initialized");return this._publishMessage(t,n)}async _connectWebSocket(t){const{apiKey:n,appSyncGraphqlEndpoint:i,authenticationType:s,region:o}=t,{additionalCustomHeaders:c}=await Iy(t);this.connectionStateMonitor.record(ya.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:n,appSyncGraphqlEndpoint:i,authenticationType:s,region:o,additionalCustomHeaders:c})}async _publishMessage(t,n){const i=ub(),{additionalCustomHeaders:s,libraryConfigHeaders:o}=await Iy(t),c=await this._prepareSubscriptionPayload({options:t,subscriptionId:i,customUserAgentDetails:n,additionalCustomHeaders:s,libraryConfigHeaders:o,publish:!0});return new Promise((u,d)=>{if(this.awsRealTimeSocket){const h=y=>{const S=JSON.parse(y.data);if(S.id===i&&S.type==="publish_success"&&(this.awsRealTimeSocket&&this.awsRealTimeSocket.removeEventListener("message",h),g(),u()),S.errors&&S.errors.length>0){const x=S.errors.map(E=>E.errorType);g(),d(new Error(`Publish errors: ${x.join(", ")}`))}},m=y=>{g(),d(new Error(`WebSocket error: ${y}`))},p=()=>{g(),d(new Error("WebSocket is closed"))},g=()=>{var y,S,x;(y=this.awsRealTimeSocket)==null||y.removeEventListener("message",h),(S=this.awsRealTimeSocket)==null||S.removeEventListener("error",m),(x=this.awsRealTimeSocket)==null||x.removeEventListener("close",p)};this.awsRealTimeSocket.addEventListener("message",h),this.awsRealTimeSocket.addEventListener("error",m),this.awsRealTimeSocket.addEventListener("close",p),this.awsRealTimeSocket.send(c)}else d(new Error("WebSocket is not connected"))})}async _cleanupSubscription(t,n){n==null||n.unsubscribe();try{await this._waitForSubscriptionToBeConnected(t);const{subscriptionState:i}=this.subscriptionObserverMap.get(t)||{};if(!i)return;if(i===ns.CONNECTED)this._sendUnsubscriptionMessage(t);else throw new Error("Subscription never connected")}catch(i){this.logger.debug(`Error while unsubscribing ${i}`)}finally{this._removeSubscriptionObserver(t)}}_startConnectionStateMonitoring(){return this.connectionStateMonitor.connectionStateObservable.subscribe(t=>{Lw({event:gB,data:{provider:this,connectionState:t},message:`Connection state is ${t}`}),this.connectionState=t,t===Hn.ConnectionDisrupted&&this.reconnectionMonitor.record(Ol.START_RECONNECT),[Hn.Connected,Hn.ConnectedPendingDisconnect,Hn.ConnectedPendingKeepAlive,Hn.ConnectedPendingNetwork,Hn.ConnectionDisruptedPendingNetwork,Hn.Disconnected].includes(t)&&this.reconnectionMonitor.record(Ol.HALT_RECONNECT)})}async _startSubscriptionWithAWSAppSyncRealTime({options:t,observer:n,subscriptionId:i,customUserAgentDetails:s}){const{query:o,variables:c}=t;this.subscriptionObserverMap.set(i,{observer:n,query:o??"",variables:c??{},subscriptionState:ns.PENDING,startAckTimeoutId:void 0});const{additionalCustomHeaders:u,libraryConfigHeaders:d}=await Iy(t),h=await this._prepareSubscriptionPayload({options:t,subscriptionId:i,customUserAgentDetails:s,additionalCustomHeaders:u,libraryConfigHeaders:d});try{await this._connectWebSocket(t)}catch(g){this._logStartSubscriptionError(i,n,g);return}const{subscriptionFailedCallback:m,subscriptionReadyCallback:p}=this.subscriptionObserverMap.get(i)??{};this.subscriptionObserverMap.set(i,{observer:n,subscriptionState:ns.PENDING,query:o??"",variables:c??{},subscriptionReadyCallback:p,subscriptionFailedCallback:m,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck(i)},bB)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(h)}_logStartSubscriptionError(t,n,i){this.logger.debug({err:i});const s=String(i.message??"");if(this._closeSocket(),this.connectionState!==Hn.ConnectionDisruptedPendingNetwork){UE(i)?n.error({errors:[{...new af(`${Ka.CONNECTION_FAILED}: ${s}`)}]}):this.logger.debug(`${Ka.CONNECTION_FAILED}: ${s}`);const{subscriptionFailedCallback:o}=this.subscriptionObserverMap.get(t)||{};typeof o=="function"&&o()}}async _waitForSubscriptionToBeConnected(t){const n=this.subscriptionObserverMap.get(t);if(n){const{subscriptionState:i}=n;if(i===ns.PENDING)return new Promise((s,o)=>{const{observer:c,subscriptionState:u,variables:d,query:h}=n;this.subscriptionObserverMap.set(t,{observer:c,subscriptionState:u,variables:d,query:h,subscriptionReadyCallback:s,subscriptionFailedCallback:o})})}}_sendUnsubscriptionMessage(t){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Nr.READY){const n=this._unsubscribeMessage(t),i=JSON.stringify(n);this.awsRealTimeSocket.send(i)}}catch(n){this.logger.debug({err:n})}}_removeSubscriptionObserver(t){this.subscriptionObserverMap.delete(t),this.allowNoSubscriptions||setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=Nr.CLOSED;return}if(this.connectionStateMonitor.record(ya.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{this.logger.debug("closing WebSocket...");const t=this.awsRealTimeSocket;t.onclose=null,t.onerror=null,t.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=Nr.CLOSED,this._closeSocket()}}}maintainKeepAlive(){this.keepAliveTimestamp=Date.now()}keepAliveHeartbeat(t){const n=Date.now();n-this.keepAliveTimestamp>xB?this.connectionStateMonitor.record(ya.KEEP_ALIVE_MISSED):this.connectionStateMonitor.record(ya.KEEP_ALIVE),n-this.keepAliveTimestamp>t&&this._errorDisconnect(Ka.TIMEOUT_DISCONNECT)}_handleIncomingSubscriptionMessage(t){if(typeof t.data!="string")return;const[n,i]=this._handleSubscriptionData(t);if(n){this.maintainKeepAlive();return}const{type:s,id:o,payload:c}=i,{observer:u=null,query:d="",variables:h={},startAckTimeoutId:m,subscriptionReadyCallback:p,subscriptionFailedCallback:g}=this.subscriptionObserverMap.get(o)||{};if(s===Pr.GQL_START_ACK||s===Pr.EVENT_SUBSCRIBE_ACK){this.logger.debug(`subscription ready for ${JSON.stringify({query:d,variables:h})}`),typeof p=="function"&&p(),m&&clearTimeout(m),Lw({event:Ka.SUBSCRIPTION_ACK,data:{query:d,variables:h},message:"Connection established for subscription"});const y=ns.CONNECTED;u&&this.subscriptionObserverMap.set(o,{observer:u,query:d,variables:h,startAckTimeoutId:void 0,subscriptionState:y,subscriptionReadyCallback:p,subscriptionFailedCallback:g}),this.connectionStateMonitor.record(ya.CONNECTION_ESTABLISHED);return}if(s===Pr.GQL_CONNECTION_KEEP_ALIVE){this.maintainKeepAlive();return}if(s===Pr.GQL_ERROR||s===Pr.EVENT_SUBSCRIBE_ERROR){const y=ns.FAILED;if(u){this.subscriptionObserverMap.set(o,{observer:u,query:d,variables:h,startAckTimeoutId:m,subscriptionReadyCallback:p,subscriptionFailedCallback:g,subscriptionState:y});let S=JSON.stringify(c??i);if(s===Pr.EVENT_SUBSCRIBE_ERROR){const{errors:x}=JSON.parse(String(t.data));if(Array.isArray(x)&&x.length>0){const E=x[0];S=`${E.errorType}: ${E.message}`}}this.logger.debug(`${Ka.CONNECTION_FAILED}: ${S}`),u.error({errors:[{...new af(`${Ka.CONNECTION_FAILED}: ${S}`)}]}),m&&clearTimeout(m),typeof g=="function"&&g()}}}_errorDisconnect(t){this.logger.debug(`Disconnect error: ${t}`),this.awsRealTimeSocket&&(this._closeSocket(),this.awsRealTimeSocket.close()),this.socketStatus=Nr.CLOSED}_closeSocket(){this.keepAliveHeartbeatIntervalId&&(clearInterval(this.keepAliveHeartbeatIntervalId),this.keepAliveHeartbeatIntervalId=void 0),this.connectionStateMonitor.record(ya.CLOSED)}_timeoutStartSubscriptionAck(t){const n=this.subscriptionObserverMap.get(t);if(n){const{observer:i,query:s,variables:o}=n;if(!i)return;this.subscriptionObserverMap.set(t,{observer:i,query:s,variables:o,subscriptionState:ns.FAILED}),this._closeSocket(),this.logger.debug("timeoutStartSubscription",JSON.stringify({query:s,variables:o}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:t,authenticationType:n,apiKey:i,region:s,additionalCustomHeaders:o}){if(this.socketStatus!==Nr.READY)return new Promise(async(c,u)=>{if(this.promiseArray.push({res:c,rej:u}),this.socketStatus===Nr.CLOSED)try{this.socketStatus=Nr.CONNECTING;const h=await qC({authenticationType:n,payload:"{}",canonicalUri:this.wsConnectUri,apiKey:i,appSyncGraphqlEndpoint:t,region:s,additionalCustomHeaders:o}),m=h?JSON.stringify(h):"",g=`header-${gU.convert(m,{urlSafe:!0,skipPadding:!0})}`,y=MB(o),S=IB(t,y);await this._establishRetryableConnection(S,g),this.promiseArray.forEach(({res:x})=>{this.logger.debug("Notifying connection successful"),x()}),this.socketStatus=Nr.READY,this.promiseArray=[]}catch(d){this.logger.debug("Connection exited with",d),this.promiseArray.forEach(({rej:h})=>{h(d)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=Nr.CLOSED}})}async _establishRetryableConnection(t,n){this.logger.debug("Establishing retryable connection"),await hU(this._establishConnection.bind(this),[t,n],pB)}async _openConnection(t,n){return new Promise((i,s)=>{const o=this._getNewWebSocket(t,[this.wsProtocolName,n]);o.onerror=()=>{this.logger.debug("WebSocket connection error")},o.onclose=()=>{this._closeSocket(),s(new Error("Connection handshake error"))},o.onopen=()=>{this.awsRealTimeSocket=o,i()}})}_getNewWebSocket(t,n){return new WebSocket(t,n)}async _initiateHandshake(){return new Promise((t,n)=>{if(!this.awsRealTimeSocket){n(new Error("awsRealTimeSocket undefined"));return}let i=!1;this.awsRealTimeSocket.onerror=c=>{this.logger.debug(`WebSocket error ${JSON.stringify(c)}`)},this.awsRealTimeSocket.onclose=c=>{this.logger.debug(`WebSocket closed ${c.reason}`),this._closeSocket(),n(new Error(JSON.stringify(c)))},this.awsRealTimeSocket.onmessage=c=>{if(typeof c.data!="string")return;this.logger.debug(`subscription message from AWS AppSyncRealTime: ${c.data} `);const u=JSON.parse(c.data),{type:d}=u,h=this._extractConnectionTimeout(u);if(d===Pr.GQL_CONNECTION_ACK){i=!0,this._registerWebsocketHandlers(h),t("Connected to AWS AppSyncRealTime");return}if(d===Pr.GQL_CONNECTION_ERROR){const{errorType:m,errorCode:p}=this._extractErrorCodeAndType(u);n({errorType:m,errorCode:p})}};const s={type:Pr.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(s));const o=c=>{c||(this.connectionStateMonitor.record(ya.CONNECTION_FAILED),n(new Error(`Connection timeout: ack from AWSAppSyncRealTime was not received after ${kw} ms`)))};setTimeout(()=>{o(i)},kw)})}_registerWebsocketHandlers(t){this.awsRealTimeSocket&&(this.keepAliveHeartbeatIntervalId=setInterval(()=>{this.keepAliveHeartbeat(t)},wB),this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=n=>{this.logger.debug(n),this._errorDisconnect(Ka.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=n=>{this.logger.debug(`WebSocket closed ${n.reason}`),this._closeSocket(),this._errorDisconnect(Ka.CONNECTION_CLOSED)})}}const Uw="AWSAppSyncRealTimeProvider",BB="graphql-ws",FB="/connect";class jB extends PB{constructor(){super({providerName:Uw,wsProtocolName:BB,connectUri:FB})}getProviderName(){return Uw}subscribe(t,n){return super.subscribe(t,n)}async _prepareSubscriptionPayload({options:t,subscriptionId:n,customUserAgentDetails:i,additionalCustomHeaders:s,libraryConfigHeaders:o}){const{appSyncGraphqlEndpoint:c,authenticationType:u,query:d,variables:h,apiKey:m,region:p}=t,y=JSON.stringify({query:d,variables:h}),S={...await qC({apiKey:m,appSyncGraphqlEndpoint:c,authenticationType:u,payload:y,canonicalUri:"",region:p,additionalCustomHeaders:s}),...o,...s,[gM]:rc(i)},x={id:n,payload:{data:y,extensions:{authorization:{...S}}},type:Pr.GQL_START};return JSON.stringify(x)}_handleSubscriptionData(t){this.logger.debug(`subscription message from AWS AppSync RealTime: ${t.data}`);const{id:n="",payload:i,type:s}=JSON.parse(String(t.data)),{observer:o=null,query:c="",variables:u={}}=this.subscriptionObserverMap.get(n)||{};return this.logger.debug({id:n,observer:o,query:c,variables:u}),s===Pr.DATA&&i&&i.data?(o?o.next(i):this.logger.debug(`observer not found for id: ${n}`),[!0,{id:n,type:s,payload:i}]):[!1,{id:n,type:s,payload:i}]}_unsubscribeMessage(t){return{id:t,type:Pr.GQL_STOP}}_extractConnectionTimeout(t){const{payload:{connectionTimeoutMs:n=SB}={}}=t;return n}_extractErrorCodeAndType(t){const{payload:{errors:[{errorType:n="",errorCode:i=0}={}]=[]}={}}=t;return{errorCode:i,errorType:n}}}class Ei extends Fr{constructor(t){super(t),this.constructor=Ei,Object.setPrototypeOf(this,Ei.prototype)}}var Nl;(function(e){e.NoAuthSession="NoAuthSession",e.NoRegion="NoRegion",e.NoCustomEndpoint="NoCustomEndpoint"})(Nl||(Nl={}));const zB={[Nl.NoAuthSession]:{message:"Auth session should not be empty."},[Nl.NoRegion]:{message:"Missing region."},[Nl.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}};function VB(e,t){const{message:n,recoverySuggestion:i}=zB[t];if(!e)throw new Ei({name:t,message:n,recoverySuggestion:i})}const HB=new Un("GraphQLAPI resolveConfig"),Pw=e=>{var d,h;const t=e.getConfig();(d=t.API)!=null&&d.GraphQL||HB.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");const{apiKey:n,customEndpoint:i,customEndpointRegion:s,defaultAuthMode:o,endpoint:c,region:u}=((h=t.API)==null?void 0:h.GraphQL)??{};return VB(!(!i&&s),Nl.NoCustomEndpoint),{apiKey:n,customEndpoint:i,customEndpointRegion:s,defaultAuthMode:o,endpoint:c,region:u}},Bw=e=>{var i,s,o,c,u,d;const t=(o=(s=(i=e.libraryOptions)==null?void 0:i.API)==null?void 0:s.GraphQL)==null?void 0:o.headers,n=(d=(u=(c=e.libraryOptions)==null?void 0:c.API)==null?void 0:u.GraphQL)==null?void 0:d.withCredentials;return{headers:t,withCredentials:n}};function Fw(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach(t=>{$B(t)&&(t.message="Unauthorized",t.recoverySuggestion=`If you're calling an Amplify-generated API, make sure to set the "authMode" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')`)}),e}function $B(e){var t,n,i,s;return!!((n=(t=e==null?void 0:e.originalError)==null?void 0:t.name)!=null&&n.startsWith("UnauthorizedException")||(i=e.message)!=null&&i.startsWith("Connection failed:")&&((s=e.message)!=null&&s.includes("Permission denied")))}var nc;(function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"})(nc||(nc={}));const WC=Symbol("amplify"),kp=Symbol("authMode"),XC=Symbol("authToken"),xb=Symbol("apiKey"),QC=Symbol("headers"),Dp=Symbol("endpoint");function t3(e){const t=e;return{amplify:t[WC],apiKey:t[xb],authMode:t[kp],authToken:t[XC],endpoint:t[Dp],headers:t[QC]}}const GB={name:"NoApiKey",message:nc.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},KB={name:"NoCredentials",message:nc.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},YB={name:"NoValidAuthTokens",message:nc.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},qB={name:"NoSignedUser",message:nc.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},WB={name:"NoAuthorizationHeader",message:nc.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},XB={name:"NoEndpoint",message:"No GraphQL endpoint configured in `Amplify.configure()`.",recoverySuggestion:"Review if the GraphQL API endpoint is set in the `Amplify.configure()` function."},jw=e=>({data:{},errors:[new af(e.message,null,null,null,null,e)]});function QB(e){if(!e)return!1;const t=e;return Array.isArray(t.errors)&&t.errors.length>0}async function JB(e,t,n,i={}){var o;let s={};switch(t){case"apiKey":if(!n)throw new Ei(GB);s={"X-Api-Key":n};break;case"iam":{if((await e.Auth.fetchAuthSession()).credentials===void 0)throw new Ei(KB);break}case"oidc":case"userPool":{let c;try{c=(o=(await e.Auth.fetchAuthSession()).tokens)==null?void 0:o.accessToken.toString()}catch(u){throw new Ei({...qB,underlyingError:u})}if(!c)throw new Ei(YB);s={Authorization:c};break}case"lambda":if(typeof i=="object"&&!i.Authorization)throw new Ei(WB);s={Authorization:i.Authorization};break}return s}const ZB="x-amz-user-agent",eF=e=>typeof e!="function";class tF{constructor(){this.appSyncRealTime=new Map,this._api={post:fB,cancelREST:dB,isCancelErrorREST:XP,updateRequestToBeCancellable:hB}}getModuleName(){return"InternalGraphQLAPI"}getGraphqlOperationType(t){const i=Ry(t).definitions,[{operation:s}]=i;return s}graphql(t,{query:n,variables:i={},authMode:s,authToken:o,endpoint:c,apiKey:u},d,h){const m=Ry(typeof n=="string"?n:F0(n)),[p={}]=m.definitions.filter(S=>S.kind==="OperationDefinition"),{operation:g}=p,y=d||{};switch(g){case"query":case"mutation":{const S=new AbortController;let x;return eF(t)?x=this._graphql(t,{query:m,variables:i,authMode:s,apiKey:u,endpoint:c},y,S,h,o):x=t(async _=>await this._graphql(_,{query:m,variables:i,authMode:s,apiKey:u,endpoint:c},y,S,h,o)),this._api.updateRequestToBeCancellable(x,S),x}case"subscription":return this._graphqlSubscribe(t,{query:m,variables:i,authMode:s,apiKey:u,endpoint:c},y,h,o);default:throw new Error(`invalid operation type: ${g}`)}}async _graphql(t,{query:n,variables:i,authMode:s,endpoint:o,apiKey:c},u={},d,h,m){const{apiKey:p,region:g,endpoint:y,customEndpoint:S,customEndpointRegion:x,defaultAuthMode:E}=Pw(t),_=s||E||"iam",T=_==="identityPool"?"iam":_,{headers:O,withCredentials:N}=Bw(t);let D;if(typeof u=="function"){const $={method:"POST",url:new Cn(o||S||y||"").toString(),queryString:F0(n)};D=await u($)}else D=u;m&&(D={...D,Authorization:m});const R=await JB(t,T,c??p,D),P={...!S&&R,...S&&(x?R:{})||{},...O&&await O({query:F0(n),variables:i}),...D,...!S&&{[ZB]:rc(h)}},U={query:F0(n),variables:i||null};let F;S&&!x||T!=="oidc"&&T!=="userPool"&&T!=="iam"&&T!=="lambda"?F=void 0:F={service:x?"execute-api":"appsync",region:x||g};const H=o||S||y;if(!H)throw jw(new Ei(XB));let Y;try{const{body:$}=await this._api.post(t,{url:new Cn(H),options:{headers:P,body:U,signingServiceInfo:F,withCredentials:N},abortController:d});Y=await $.json()}catch($){if(this.isCancelError($))throw $;Y=jw($)}if(QB(Y))throw Fw(Y);return Y}isCancelError(t){return this._api.isCancelErrorREST(t)}cancel(t,n){return this._api.cancelREST(t,n)}_graphqlSubscribe(t,{query:n,variables:i,authMode:s,apiKey:o,endpoint:c},u={},d,h){const m=Pw(t),p=s||(m==null?void 0:m.defaultAuthMode)||"iam",g=p==="identityPool"?"iam":p,{headers:y}=Bw(t),S=c??(m==null?void 0:m.endpoint),x=S??"none",E=this.appSyncRealTime.get(x)??new jB;return this.appSyncRealTime.set(x,E),E.subscribe({query:F0(n),variables:i,appSyncGraphqlEndpoint:S,region:m==null?void 0:m.region,authenticationType:g,apiKey:o??(m==null?void 0:m.apiKey),additionalHeaders:u,authToken:h,libraryConfigHeaders:y},d).pipe(sC(_=>{throw _.errors?Fw(_):_}))}}function nv(e){const t=new Set;for(const n of e.attributes||[])if(nF(n))for(const i of n.properties.rules)i.allow==="owner"?t.add(i.ownerField||"owner"):i.allow==="groups"&&i.groupsField!==void 0&&t.add(i.groupsField);return Array.from(t)}function nF(e){var t,n;return(e==null?void 0:e.type)==="auth"&&typeof(e==null?void 0:e.properties)=="object"&&Array.isArray((t=e==null?void 0:e.properties)==null?void 0:t.rules)?((n=e==null?void 0:e.properties)==null?void 0:n.rules).every(i=>!!i.allow):!1}function Ap(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function Gs(e){let t,n;const i=new Promise((s,o)=>{t=s,n=o});return e(i).then(s=>{t(s)}).catch(s=>{n(s)}),i}const jp=new WeakMap;function Ks(e,t){return jp.set(t,e),e.finally(()=>{jp.delete(t)})}function rF(e){const t=e.cancel.bind(e);e.cancel=function(n,i){const s=new Set;let o=n;for(;o&&jp.has(o);){if(s.has(o))throw new Error("A cycle was detected in the modeled graphql cancellation chain. This is a bug. Please report it!");s.add(o),o=jp.get(o)}return t(o,i)}}const Sl={HAS_ONE:"HAS_ONE",HAS_MANY:"HAS_MANY",BELONGS_TO:"BELONGS_TO"},zw={ID:"ID",String:"String",AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"Int",AWSEmail:"String",AWSPhone:"String",AWSURL:"String",AWSIPAddress:"String",AWSJSON:"String",Boolean:"Boolean",Int:"Int",Float:"Float"},zp=e=>e.length===1?e[0]:e.reduce((t,n,i)=>i===0?n:t+Ap(n),""),as=(e,t,n)=>{var s;if(!n)return null;const i={};for(const[o,c]of Object.entries(n)){const u=t?(s=e.models[t])==null?void 0:s.fields[o]:void 0,d={fieldDef:u,value:c};aF(d)?i[o]=d.value.items.map(h=>as(e,d.fieldDef.type.model,h)):iF(u)?i[o]=as(e,u.type.model,c):i[o]=c}return i};function aF(e){var t,n;return typeof((t=e.fieldDef)==null?void 0:t.type)=="object"&&"model"in e.fieldDef.type&&typeof e.fieldDef.type.model=="string"&&e.fieldDef.isArray&&Array.isArray((n=e.value)==null?void 0:n.items)}function iF(e){return typeof(e==null?void 0:e.type)=="object"&&"model"in e.type&&typeof e.type.model=="string"}function is(e,t,n,i,s,o,c=!1){const u=i.models[t],d=u.fields,h=Object.entries(d).filter(([m,p])=>{var g;return((g=p==null?void 0:p.type)==null?void 0:g.model)!==void 0}).map(([m])=>m);return n.map(m=>{var g,y,S,x,E;if(m==null)return m;const p={};for(const _ of h){const T=d[_],N=(T==null?void 0:T.type).model,D=i.models[N],R=D.primaryKeyInfo.primaryKeyFieldName,P=D.primaryKeyInfo.sortKeyFieldNames,U=(g=T.association)==null?void 0:g.connectionType;let F=[];T.association&&"associatedWith"in T.association&&(F=T.association.associatedWith);const H=[];switch(T.association&&"targetNames"in T.association&&H.push(...T.association.targetNames),U){case Sl.BELONGS_TO:{const Y=P.reduce(($,G)=>(m[G]&&($[G]=m[G]),$),{});if(((y=e.models[N])==null?void 0:y.get)===void 0)break;c?p[_]=($,G)=>m[H[0]]?e.models[N].get($,{[R]:m[H[0]],...Y},{authMode:(G==null?void 0:G.authMode)||s,authToken:(G==null?void 0:G.authToken)||o}):{data:null}:p[_]=$=>m[H[0]]?e.models[N].get({[R]:m[H[0]],...Y},{authMode:($==null?void 0:$.authMode)||s,authToken:($==null?void 0:$.authToken)||o}):{data:null};break}case Sl.HAS_ONE:case Sl.HAS_MANY:{const Y=U===Sl.HAS_ONE?I=>({data:(I==null?void 0:I.data.shift())||null,errors:I.errors,extensions:I.extensions}):I=>I,$=u.primaryKeyInfo.primaryKeyFieldName,G=u.primaryKeyInfo.sortKeyFieldNames,ce=D.fields[F[0]];if(ce.type.model){let I=[];ce.association&&"targetNames"in ce.association&&(I=(S=ce.association)==null?void 0:S.targetNames);const j=I.map((X,K)=>K===0?{[X]:{eq:m[$]}}:{[X]:{eq:m[G[K-1]]}});if(((x=e.models[N])==null?void 0:x.list)===void 0)break;c?p[_]=(X,K)=>m[$]?Gs(async ge=>{const Te=e.models[N].list(X,{filter:{and:j},limit:K==null?void 0:K.limit,nextToken:K==null?void 0:K.nextToken,authMode:(K==null?void 0:K.authMode)||s,authToken:(K==null?void 0:K.authToken)||o}),Me=Ks(Te,ge);return Y(await Me)}):[]:p[_]=X=>m[$]?Gs(async K=>{const ge=e.models[N].list({filter:{and:j},limit:X==null?void 0:X.limit,nextToken:X==null?void 0:X.nextToken,authMode:(X==null?void 0:X.authMode)||s,authToken:(X==null?void 0:X.authToken)||o}),Te=Ks(ge,K);return Y(await Te)}):[];break}const ee=F.map((I,j)=>j===0?{[I]:{eq:m[$]}}:{[I]:{eq:m[G[j-1]]}});if(((E=e.models[N])==null?void 0:E.list)===void 0)break;c?p[_]=(I,j)=>m[$]?Gs(async X=>{const K=e.models[N].list(I,{filter:{and:ee},limit:j==null?void 0:j.limit,nextToken:j==null?void 0:j.nextToken,authMode:(j==null?void 0:j.authMode)||s,authToken:(j==null?void 0:j.authToken)||o}),ge=Ks(K,X);return Y(await ge)}):[]:p[_]=I=>m[$]?Gs(async j=>{const X=e.models[N].list({filter:{and:ee},limit:I==null?void 0:I.limit,nextToken:I==null?void 0:I.nextToken,authMode:(I==null?void 0:I.authMode)||s,authToken:(I==null?void 0:I.authToken)||o}),K=Ks(X,j);return Y(await K)}):[];break}}}return{...m,...p}})}const Eb={CREATE:{operationPrefix:"create",usePlural:!1},GET:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},INDEX_QUERY:{operationPrefix:"",usePlural:!1},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVEQUERY:{operationPrefix:"observeQuery",usePlural:!1}},Cb="*",rv=(e,t)=>{const{fields:n}=e,i=Object.values(n).map(({type:s,name:o})=>{if(typeof s.enum=="string")return[o,Rl];if(typeof s.nonModel=="string")return[o,rv(t.nonModels[s.nonModel],t)];if(typeof s=="string")return[o,Rl]}).filter(s=>s!==void 0);return Object.fromEntries(i)},sF=(e,t)=>{const{fields:n}=e,i=Object.values(n).map(({type:o,name:c})=>{if(typeof o.enum=="string"||typeof o=="string")return[c,Rl];if(typeof o.nonModel=="string")return[c,rv(t.nonModels[o.nonModel],t)]}).filter(o=>o!==void 0),s=nv(e).map(o=>[o,Rl]);return Object.fromEntries(i.concat(s))};function oF(e){const{fields:t}=e,n=Object.values(t).map(({type:s,name:o})=>{if(typeof s=="string")return o;if(typeof s=="object"){if(typeof(s==null?void 0:s.enum)=="string")return o;if(typeof(s==null?void 0:s.nonModel)=="string")return`${o}.${Cb}`}}).filter(Boolean),i=nv(e);return Array.from(new Set(n.concat(i)))}const Rl="";function cF(e,t,n){const i=(s,o)=>{var E,_,T,O,N,D;const[c,...u]=s.split("."),d=u[0],h=e.models[o]??e.nonModels[o],m=h==null?void 0:h.fields,p=(_=(E=m==null?void 0:m[c])==null?void 0:E.type)==null?void 0:_.model,g=e.models[p],y=(O=(T=m==null?void 0:m[c])==null?void 0:T.type)==null?void 0:O.nonModel,S=e.nonModels[y],x=g?"model":S?"nonModel":"field";if(x==="nonModel"){let R={};if(!d)throw Error(`${c} must declare a wildcard (*) or a field of custom type ${y}`);return d===Cb?R={[c]:rv(S,e)}:R={[c]:i(u.join("."),y)},R}else if(x==="model"){let R={};if(!d)throw Error(`${c} must declare a wildcard (*) or a field of model ${p}`);if(d===Cb){const P=e.models[p];R={[c]:sF(P,e)}}else R={[c]:i(u.join("."),p)};return(N=m[c])!=null&&N.isArray&&(R={[c]:{items:R[c]}}),R}else{const R=m==null?void 0:m[c],P=e.nonModels[o],U=(D=P==null?void 0:P.fields)==null?void 0:D[c];if(P){if(!U)throw Error(`${c} is not a field of custom type ${o}`)}else{const F=nv(h).includes(c);if(!R&&!F)throw Error(`${c} is not a field of model ${o}`)}return{[c]:Rl}}};return n.reduce((s,o)=>JC(i(o,t),s),{})}function Vp(e){const t=[];return Object.entries(e).forEach(([n,i])=>{i===Rl?t.push(n):typeof i=="object"&&i!==null&&(i!=null&&i.items?t.push(n,"{","items","{",Vp(i.items),"}","}"):t.push(n,"{",Vp(i),"}"))}),t.join(" ")}function JC(e,t){const n=i=>i&&typeof i=="object";for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)&&n(t[i])?JC(e[i],t[i]):t[i]=e[i]);return t}function ZC(e,t,n){const i=e.models[t],s=cF(e,t,n??oF(i));return Vp(s)}function av(e,t,n,i,s){var Y,$;const{name:o,pluralName:c,fields:u,primaryKeyInfo:{isCustomPrimaryKey:d,primaryKeyFieldName:h,sortKeyFieldNames:m},attributes:p}=t,g=o.charAt(0).toUpperCase()+o.slice(1),y=c.charAt(0).toUpperCase()+c.slice(1),{operationPrefix:S,usePlural:x}=Eb[n],{selectionSet:E}=i||{};let _,T;if(S)_=`${S}${x?y:g}`;else if(s){const{queryField:G,pk:ce,sk:Se=[]}=s;_=G;let ee={};if(Se.length===1){const[I]=Se,j=typeof u[I].type=="string"?u[I].type:"String",X=zw[j];ee={[I]:`Model${X}KeyConditionInput`}}else if(Se.length>1){const I=zp(Se),j=($=(Y=p==null?void 0:p.find(X=>{var K;return((K=X==null?void 0:X.properties)==null?void 0:K.queryField)===G}))==null?void 0:Y.properties)==null?void 0:$.name;ee={[I]:`Model${Ap(o)}${Ap(j)}CompositeKeyConditionInput`}}T={[ce]:`${Object.prototype.hasOwnProperty.call(u[ce].type,"enum")?u[ce].type.enum:u[ce].type}!`,...ee}}else throw new Error("Error generating GraphQL Document - invalid operation name");let O,N,D;const R=ZC(e,o,E),P={[h]:`${u[h].type}!`},U={},F=G=>{if(m.length===0)return{};if(G==="get")return m.reduce((ce,Se)=>{const ee=u[Se].type;return G==="get"&&(ce[Se]=`${ee}!`),ce},{});if(m.length===1){const[ce]=m,Se=typeof u[ce].type=="string"?u[ce].type:"String",ee=zw[Se];return{[ce]:`Model${ee}KeyConditionInput`}}else return{[zp(m)]:`Model${Ap(o)}PrimaryCompositeKeyConditionInput`}};switch(d&&(Object.assign(P,F("get")),Object.assign(U,{[h]:`${u[h].type}`,sortDirection:"ModelSortDirection"},F("list"))),n){case"CREATE":case"UPDATE":case"DELETE":D??(D={input:`${S.charAt(0).toLocaleUpperCase()+S.slice(1)}${g}Input!`}),O??(O="mutation");case"GET":D??(D=P),N??(N=R);case"LIST":D??(D={...U,filter:`Model${g}FilterInput`,limit:"Int",nextToken:"String"}),O??(O="query"),N??(N=`items { ${R} } nextToken __typename`);case"INDEX_QUERY":D??(D={...T,filter:`Model${g}FilterInput`,sortDirection:"ModelSortDirection",limit:"Int",nextToken:"String"}),O??(O="query"),N??(N=`items { ${R} } nextToken __typename`);case"ONCREATE":case"ONUPDATE":case"ONDELETE":D??(D={filter:`ModelSubscription${g}FilterInput`}),O??(O="subscription"),N??(N=R);break;case"OBSERVEQUERY":default:throw new Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}return`${O}${D?`(${Object.entries(D).map(([G,ce])=>`$${G}: ${ce}`)})`:""} { ${_}${D?`(${Object.keys(D).map(G=>`${G}: $${G}`)})`:""} { ${N} } }`}function iv(e,t,n,i,s){const{fields:o,primaryKeyInfo:{isCustomPrimaryKey:c,primaryKeyFieldName:u,sortKeyFieldNames:d}}=e,h=(d==null?void 0:d.length)&&zp(d);let m={};switch(t){case"CREATE":m={input:n?Vw(n,e,i):{}};break;case"UPDATE":m={input:n?Object.fromEntries(Object.entries(Vw(n,e,i)).filter(([p])=>o[p]?!o[p].isReadOnly:!nv(e).includes(p))):{}};break;case"GET":case"DELETE":n&&(m=c?[u,...d].reduce((p,g)=>(p[g]=n[g],p),{}):{[u]:n[u]}),t==="DELETE"&&(m={input:m});break;case"LIST":n!=null&&n.filter&&(m.filter=n.filter),n!=null&&n.sortDirection&&(m.sortDirection=n.sortDirection),n&&n[u]&&(m[u]=n[u]),h&&n&&n[h]&&(m[h]=n[h]),n!=null&&n.nextToken&&(m.nextToken=n.nextToken),n!=null&&n.limit&&(m.limit=n.limit);break;case"INDEX_QUERY":{const{pk:p,sk:g=[]}=s,y=(g==null?void 0:g.length)&&zp(g);m[p]=n[p],y&&n&&n[y]&&(m[y]=n[y]),n!=null&&n.filter&&(m.filter=n.filter),n!=null&&n.sortDirection&&(m.sortDirection=n.sortDirection),n!=null&&n.nextToken&&(m.nextToken=n.nextToken),n!=null&&n.limit&&(m.limit=n.limit);break}case"ONCREATE":case"ONUPDATE":case"ONDELETE":n!=null&&n.filter&&(m={filter:n.filter});break;case"OBSERVEQUERY":throw new Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:{const p=t;throw new Error(`Unhandled operation case: ${p}`)}}return m}function Vw(e,t,n){const{fields:i}=t,s={};return Object.entries(e).forEach(([o,c])=>{var h,m;const u=(h=i[o])==null?void 0:h.type,d=u==null?void 0:u.model;if(d){const p=(m=i[o])==null?void 0:m.association,y=n.models[d].primaryKeyInfo;if((p==null?void 0:p.connectionType)===Sl.HAS_ONE){const S=p;S.targetNames.forEach((x,E)=>{const _=S.associatedWith[E];s[x]=c[_]})}(p==null?void 0:p.connectionType)===Sl.BELONGS_TO&&p.targetNames.forEach((x,E)=>{if(E===0){const _=y.primaryKeyFieldName;s[x]=c[_]}else{const _=y.sortKeyFieldNames[E-1];s[x]=c[_]}})}else s[o]=c}),s}function Pl(e,t,n={}){const i=t(e);return{authMode:n.authMode||i.authMode,authToken:n.authToken||i.authToken}}function Bl(e,t,n){let i=t(e).headers||{};return n&&(i=n),i}function Tb(e){if(e!=null&&e.errors)return{...e,data:[]};throw e}function Hp(e){if(e.errors)return{...e,data:null};throw e}const n3=Symbol("INTERNAL_USER_AGENT_OVERRIDE");var Za;(function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnStreamEvent="7",e.Generation="8",e.UpdateConversation="9"})(Za||(Za={}));const cs=e=>({category:"ai",action:e});function sv(e){return e?{[n3]:e}:void 0}const lF=e=>{var t;return typeof((t=e==null?void 0:e.token)==null?void 0:t.value)=="symbol"};function ov(e,t,n,i,s,o,c){const u=i.arguments!==void 0;return(...h)=>{const m=h[h.length-1];let p,g;if(s)if(lF(h[0]))p=h[0];else throw new Error(`Invalid first argument passed to ${i.name}. Expected contextSpec`);return u&&(s?g=h[1]:g=h[0]),n==="subscription"?pF(e,t,i,o,g,m,c):hF(e,t,n,i,o,g,m,p,c)}}function wl(e,t){return typeof e[t]=="string"}function uF(e){return e instanceof Object&&"enum"in e}function fF(e){return e instanceof Object&&"input"in e}function dF({type:e,isRequired:t}){const n=t?"!":"";return uF(e)?`${e.enum}${n}`:fF(e)?`${e.input}${n}`:`${e}${n}`}function eT(e){if(e.arguments===void 0)return"";const t=Object.entries(e.arguments).map(([n,i])=>{const s=dF(i),o=i.isArray?`[${s}]${i.isArrayNullable?"":"!"}`:s;return`$${n}: ${o}`}).join(", ");return t.length>0?`(${t})`:""}function tT(e){if(e.arguments===void 0)return"";const t=Object.keys(e.arguments).map(n=>`${n}: $${n}`).join(", ");return t.length>0?`(${t})`:""}function nT(e,t){if(wl(t,"type")||wl(t.type,"enum"))return"";if(wl(t.type,"nonModel")){const n=e.nonModels[t.type.nonModel];return`{${Vp(rv(n,e))}}`}else return wl(t.type,"model")?`{${ZC(e,t.type.model)}}`:""}function rT(e,t={}){const n={};if(e.arguments===void 0)return n;for(const i of Object.values(e.arguments))if(typeof t[i.name]<"u")n[i.name]=t[i.name];else if(i.isRequired)throw new Error(`${e.name} requires arguments '${i.name}'`);return n}function hF(e,t,n,i,s,o,c,u,d){return Gs(async h=>{const{name:m}=i,p=Pl(e,s,c),g=Bl(e,s,c==null?void 0:c.headers),y=eT(i),S=tT(i),x=nT(t,i),E=wl(i.type,"model")?i.type.model:void 0,_=`
    ${n.toLocaleLowerCase()}${y} {
      ${m}${S} ${x}
    }
  `,T=rT(i,o),O=sv(d);try{const N=u?e.graphql(u,{...p,query:_,variables:T},g):e.graphql({...p,query:_,variables:T,...O},g),D=Ks(N,h),{data:R,extensions:P}=await D;if(R){const[U]=Object.keys(R),F=Array.isArray(R[U]),H=F?R[U].filter($=>$):R[U],Y=E?is(e,E,F?H:[H],t,p.authMode,p.authToken,!!u):H;return{data:!F&&Array.isArray(Y)?Y.shift():Y,extensions:P}}else return{data:null,extensions:P}}catch(N){const{data:D,errors:R}=N;if(D&&Object.keys(D).length!==0&&R){const[P]=Object.keys(D),U=Array.isArray(D[P]),F=U?D[P].filter(H=>H):D[P];if(F){const H=E?is(e,E,U?F:[F],t,p.authMode,p.authToken,!!u):F;return{data:!U&&Array.isArray(H)?H.shift():H,errors:R}}else return Hp(N)}else return Hp(N)}})}function pF(e,t,n,i,s,o,c){const u="subscription",{name:d}=n,h=Pl(e,i,o),m=Bl(e,i,o==null?void 0:o.headers),p=eT(n),g=tT(n),y=nT(t,n),S=wl(n.type,"model")?n.type.model:void 0,x=`
    ${u.toLocaleLowerCase()}${p} {
      ${d}${g} ${y}
    }
  `,E=rT(n,s),_=sv(c);return e.graphql({...h,query:x,variables:E,..._},m).pipe(Xb(O=>{const[N]=Object.keys(O.data),D=O.data[N],[R]=S?is(e,S,[D],t,h.authMode,h.authToken):[D];return R}))}const vF={queries:"query",mutations:"mutation",subscriptions:"subscription"};function r3(e,t,n,i){if(!t)return{};const s=t.modelIntrospection;if(!s)return{};const o=s[n];if(!o)return{};const c={},u=i(e).amplify===null;for(const d of Object.values(o))c[d.name]=ov(e,s,vF[n],d,u,i);return c}function mF(e,t,n){return r3(e,t,"mutations",n)}function gF(e,t,n){return r3(e,t,"queries",n)}function yF(e,t,n){return r3(e,t,"subscriptions",n)}function _f(e,t,n,i,s,o=!1,c){return o?(h,m,p)=>Hw(e,t,n,m,p,i,s,h,c):(h,m)=>Hw(e,t,n,h,m,i,s,void 0,c)}function Hw(e,t,n,i,s,o,c,u,d){return Gs(async h=>{const{name:m}=n,p=av(t,n,o,s),g=iv(n,o,i,t),y=Pl(e,c,s),S=Bl(e,c,s==null?void 0:s.headers),x=sv(d);try{const E=u?e.graphql(u,{...y,query:p,variables:g},S):e.graphql({...y,query:p,variables:g,...x},S),_=Ks(E,h),{data:T,extensions:O}=await _;if(T){const[N]=Object.keys(T),D=as(t,m,T[N]);if(D===null)return{data:null,extensions:O};if(s!=null&&s.selectionSet)return{data:D,extensions:O};{const[R]=is(e,m,[D],t,y.authMode,y.authToken,!!u);return{data:R,extensions:O}}}else return{data:null,extensions:O}}catch(E){const{data:_,errors:T}=E;if(_&&Object.keys(_).length!==0&&T){const[O]=Object.keys(_),N=as(t,m,_[O]);if(N){if(s!=null&&s.selectionSet)return{data:N,errors:T};{const[D]=is(e,m,[N],t,y.authMode,y.authToken,!!u);return{data:D,errors:T}}}else return Hp(E)}else return Hp(E)}})}function a3(e,t,n,i,s=!1,o){return s?(d,h)=>$w(e,t,n,i,h,d,o):d=>$w(e,t,n,i,d,void 0,o)}function $w(e,t,n,i,s,o,c){return Gs(async u=>{var S,x,E,_;const{name:d}=n,h=av(t,n,"LIST",s),m=iv(n,"LIST",s,t),p=Pl(e,i,s),g=Bl(e,i,s==null?void 0:s.headers),y=sv(c);try{const T=o?e.graphql(o,{...p,query:h,variables:m},g):e.graphql({...p,query:h,variables:m,...y},g),O=Ks(T,u),{data:N,extensions:D}=await O;if(N!==void 0){const[R]=Object.keys(N);if(N[R].items){const P=N[R].items.map(U=>as(t,d,U));return s!=null&&s.selectionSet?{data:P,nextToken:N[R].nextToken,extensions:D}:{data:is(e,d,P,t,p.authMode,p.authToken,!!o),nextToken:N[R].nextToken,extensions:D}}return{data:N[R],nextToken:N[R].nextToken,extensions:D}}}catch(T){const{data:O,errors:N}=T;if(O!=null&&Object.keys(O).length!==0&&N){const[D]=Object.keys(O);if((S=O[D])!=null&&S.items){const R=O[D].items.map(P=>as(t,d,P));return R?s!=null&&s.selectionSet?{data:R,nextToken:(x=O[D])==null?void 0:x.nextToken,errors:N}:{data:is(e,d,R,t,p.authMode,p.authToken,!!o),nextToken:(E=O[D])==null?void 0:E.nextToken,errors:N}:{data:O[D],nextToken:(_=O[D])==null?void 0:_.nextToken,errors:N}}else return Tb(T)}else return Tb(T)}})}const Ws={},Fl=new Array(64);for(let e=0,t=65,n=90;e+t<=n;e++){const i=String.fromCharCode(e+t);Ws[i]=e,Fl[e]=i}for(let e=0,t=97,n=122;e+t<=n;e++){const i=String.fromCharCode(e+t),s=e+26;Ws[i]=s,Fl[s]=i}for(let e=0;e<10;e++){Ws[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;Ws[t]=n,Fl[n]=t}Ws["+"]=62;Fl[62]="+";Ws["/"]=63;Fl[63]="/";const _l=6,sf=8,bF=63,aT=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),i=new DataView(n);for(let s=0;s<e.length;s+=4){let o=0,c=0;for(let h=s,m=s+3;h<=m;h++)if(e[h]!=="="){if(!(e[h]in Ws))throw new TypeError(`Invalid character ${e[h]} in base64 string.`);o|=Ws[e[h]]<<(m-h)*_l,c+=_l}else o>>=_l;const u=s/4*3;o>>=c%sf;const d=Math.floor(c/sf);for(let h=0;h<d;h++){const m=(d-h-1)*sf;i.setUint8(u+h,(o&255<<m)>>m)}}return new Uint8Array(n)},SF=e=>new TextEncoder().encode(e);function iT(e){let t;typeof e=="string"?t=SF(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",i=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!i)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let o=0;o<t.length;o+=3){let c=0,u=0;for(let h=o,m=Math.min(o+3,t.length);h<m;h++)c|=t[h]<<(m-h-1)*sf,u+=sf;const d=Math.ceil(u/_l);c<<=d*_l-u;for(let h=1;h<=d;h++){const m=(d-h)*_l;s+=Fl[(c&bF<<m)>>m]}s+="==".slice(0,4-d)}return s}const wF=e=>e.map(t=>t.image?sT(t):t.document?xF(t):t.toolUse?CF(t):t.toolResult?TF(t):oT(t)),sT=({image:e})=>({image:{...e,source:{...e.source,bytes:aT(e.source.bytes)}}}),xF=({document:e})=>({document:{...e,source:{...e.source,bytes:aT(e.source.bytes)}}}),EF=({json:e})=>({json:JSON.parse(e)}),CF=({toolUse:e})=>({toolUse:{...e,input:JSON.parse(e.input)}}),TF=({toolResult:e})=>({toolResult:{toolUseId:e.toolUseId,content:e.content.map(t=>t.image?sT(t):t.json?EF(t):oT(t))}}),oT=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n!==null)),cT=({content:e,createdAt:t,id:n,conversationId:i,role:s})=>({content:wF(e??[]),conversationId:i,createdAt:t,id:n,role:s}),NF=(e,t,n,i,s)=>async o=>{const c=a3(e,t,i,s,!1,cs(Za.ListMessages)),{data:u,nextToken:d,errors:h}=await c({...o,filter:{conversationId:{eq:n}}});return{data:u.map(m=>cT(m)),nextToken:d,errors:h}},_F=({id:e,conversationId:t,associatedUserMessageId:n,contentBlockIndex:i,contentBlockDoneAtIndex:s,contentBlockDeltaIndex:o,contentBlockText:c,contentBlockToolUse:u,stopReason:d,errors:h})=>h?{error:{id:e,conversationId:t,associatedUserMessageId:n,errors:h}}:{next:DF({id:e,conversationId:t,associatedUserMessageId:n,contentBlockIndex:i,contentBlockDoneAtIndex:s,contentBlockDeltaIndex:o,text:c,toolUse:kF(u),stopReason:d})},kF=e=>{if(e)return{...e,input:JSON.parse(e.input)}},DF=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n!==null)),AF=(e,t,n,i,s)=>o=>{const{conversations:c}=t;if(!c)return{};const u=c[i].message.subscribe;return ov(e,t,"subscription",u,!1,s,cs(Za.OnStreamEvent))({conversationId:n}).subscribe(h=>{const{next:m,error:p}=_F(h);p&&o.error(p),m&&o.next(m)})},OF=e=>JSON.stringify(e),RF=e=>e.map(t=>t.image?lT(t):t.document?IF(t):t.toolResult?UF(t):t),MF=({tools:e})=>({tools:Object.entries(e).map(([t,n])=>({toolSpec:{name:t,description:n.description,inputSchema:{json:JSON.stringify(n.inputSchema.json)}}}))}),lT=({image:e})=>({image:{...e,source:{...e.source,bytes:iT(e.source.bytes)}}}),IF=({document:e})=>({document:{...e,source:{...e.source,bytes:iT(e.source.bytes)}}}),LF=({json:e})=>({json:JSON.stringify(e)}),UF=({toolResult:e})=>({toolResult:{...e,content:e.content.map(t=>t.image?lT(t):t.json?LF(t):t)}}),PF=(e,t,n,i,s)=>async o=>{const{conversations:c}=t;if(!c)return{};const u=typeof o=="string"?{content:[{text:o}]}:o,{content:d,aiContext:h,toolConfiguration:m}=u,p=c[i].message.send,g=ov(e,t,"mutation",p,!1,s,cs(Za.SendMessage)),{data:y,errors:S}=await g({conversationId:n,content:RF(d),...h&&{aiContext:OF(h)},...m&&{toolConfiguration:MF(m)}});return{data:y&&cT(y),errors:S}},kf=(e,t,n,i,s,o,c,u,d,h)=>{if(!n)throw new Error(`An error occurred converting a ${o} conversation: Missing ID`);return{id:n,createdAt:i,updatedAt:s,metadata:d,name:h,onStreamEvent:AF(e,t,n,o,u),sendMessage:PF(e,t,n,o,u),listMessages:NF(e,t,n,c,u)}},BF=(e,t,n,i,s,o)=>async c=>{const{name:u,metadata:d}=c??{},h=JSON.stringify(d),m=_f(e,t,i,"CREATE",o,!1,cs(Za.CreateConversation)),{data:p,errors:g}=await m({name:u,metadata:h});return{data:kf(e,t,p==null?void 0:p.id,p==null?void 0:p.createdAt,p==null?void 0:p.updatedAt,n,s,o,p==null?void 0:p.metadata,p==null?void 0:p.name),errors:g}},FF=(e,t,n,i,s,o)=>async({id:c})=>{const u=_f(e,t,i,"GET",o,!1,cs(Za.GetConversation)),{data:d,errors:h}=await u({id:c});return{data:d&&kf(e,t,d.id,d.createdAt,d.updatedAt,n,s,o,d==null?void 0:d.metadata,d==null?void 0:d.name),errors:h}},jF=(e,t,n,i,s,o)=>async c=>{const u=a3(e,t,i,o,!1,cs(Za.ListConversations)),{data:d,nextToken:h,errors:m}=await u(c);return{data:d.map(p=>kf(e,t,p.id,p.createdAt,p.updatedAt,n,s,o,p==null?void 0:p.metadata,p==null?void 0:p.name)),nextToken:h,errors:m}},zF=(e,t,n,i,s,o)=>async({id:c})=>{const u=_f(e,t,i,"DELETE",o,!1,cs(Za.DeleteConversation)),{data:d,errors:h}=await u({id:c});return{data:d&&kf(e,t,d==null?void 0:d.id,d==null?void 0:d.createdAt,d==null?void 0:d.updatedAt,n,s,o,d==null?void 0:d.metadata,d==null?void 0:d.name),errors:h}},VF=(e,t,n,i,s,o)=>async({id:c,metadata:u,name:d})=>{const h=JSON.stringify(u),m=_f(e,t,i,"UPDATE",o,!1,cs(Za.UpdateConversation)),{data:p,errors:g}=await m({id:c,metadata:h,name:d});return{data:p&&kf(e,t,p==null?void 0:p.id,p==null?void 0:p.createdAt,p==null?void 0:p.updatedAt,n,s,o,p==null?void 0:p.metadata,p==null?void 0:p.name),errors:g}};function HF(e,t,n){const i=t==null?void 0:t.modelIntrospection;if(!(i!=null&&i.conversations))return{};const s={};for(const{name:o,conversation:c,message:u,models:d,nonModels:h,enums:m}of Object.values(i.conversations)){const p=d[c.modelName],g=d[u.modelName];if(!p||!g)return{};const y={...i,models:{...i.models,...d},nonModels:{...i.nonModels,...h},enums:{...i.enums,...m}};s[o]={update:VF(e,y,o,p,g,n),create:BF(e,y,o,p,g,n),get:FF(e,y,o,p,g,n),delete:zF(e,y,o,p,g,n),list:jF(e,y,o,p,g,n)}}return s}function $F(e,t,n){const i=t==null?void 0:t.modelIntrospection;if(!(i!=null&&i.generations))return{};const s={};for(const o of Object.values(i.generations))s[o.name]=ov(e,i,"query",o,!1,n,cs(Za.Generation));return s}const GF=e=>{const t=e.modelIntrospection;if(!t)return{};const n={};for(const[i,s]of Object.entries(t.enums))n[s.name]={values:()=>s.values};return n};function KF(e,t,n,i,s,o=!1){return o?(d,h,m)=>Gw(e,t,n,i,s,{...h,...m},d):(d,h)=>Gw(e,t,n,i,s,{...d,...h})}function YF(e,t,n,i,s){const{data:o,extensions:c}=n,[u]=Object.keys(o);if(o[u].items){const d=o[u].items.map(h=>as(e,t,h));return{data:i?d:s(d),nextToken:o[u].nextToken,extensions:c}}return{data:o[u],nextToken:o[u].nextToken,extensions:c}}function Gw(e,t,n,i,s,o,c){return Gs(async u=>{var y,S,x,E;const{name:d}=n,h=av(t,n,"INDEX_QUERY",o,i),m=iv(n,"INDEX_QUERY",o,t,i),p=Pl(e,s,o),g=_=>is(e,d,_,t,p.authMode,p.authToken,!!c);try{const _=Bl(e,s,o==null?void 0:o.headers),O=[{...p,query:h,variables:m},_];c!==void 0&&O.unshift(c);const N=e.graphql(...O),R=await Ks(N,u);if(R.data!==void 0)return YF(t,d,R,o==null?void 0:o.selectionSet,g)}catch(_){const{data:T,errors:O}=_;if(T!=null&&Object.keys(T).length!==0&&O){const[N]=Object.keys(T);if((y=T[N])!=null&&y.items){const D=(S=T[N])==null?void 0:S.items.map(R=>as(t,d,R));if(D)return{data:o!=null&&o.selectionSet?D:g(D),nextToken:(x=T[N])==null?void 0:x.nextToken}}return{data:T[N],nextToken:(E=T[N])==null?void 0:E.nextToken}}else return Tb(_)}})}function qF(e,t,n,i,s){const{name:o}=n;return u=>{const d=av(t,n,i,u),h=iv(n,i,u,t),m=Pl(e,s,u),p=Bl(e,s,u==null?void 0:u.headers);return e.graphql({...m,query:d,variables:h},p).pipe(Xb(y=>{const[S]=Object.keys(y.data),x=y.data[S],E=as(t,o,x);if(E===null)return null;if(u!=null&&u.selectionSet)return E;{const[_]=is(e,o,[E],t,m.authMode,m.authToken);return _}}))}}function WF(e){const{primaryKeyFieldName:t,sortKeyFieldNames:n}=e.primaryKeyInfo;return[t,...n]}function XF(e,t,n){const i=Object.fromEntries(n.map(s=>[s,e[s]]));for(let s=0;s<t.length;s++)if(Object.keys(i).every(o=>i[o]===t[s][o]))return s;return-1}function QF(e,t){const{name:n}=t;return s=>new jr(o=>{const c=[],u=[];let d=(...S)=>u.push(...S);const h=e[n].onCreate(s).subscribe({next(S){d({item:S,type:"create"})},error(S){o.error({type:"onCreate",error:S})}}),m=e[n].onUpdate(s).subscribe({next(S){d({item:S,type:"update"})},error(S){o.error({type:"onUpdate",error:S})}}),p=e[n].onDelete(s).subscribe({next(S){d({item:S,type:"delete"})},error(S){o.error({type:"onDelete",error:S})}});function g(S){for(const x of S){const E=XF(x.item,c,y);switch(x.type){case"create":E<0&&c.push(x.item);break;case"update":E>=0&&(c[E]=x.item);break;case"delete":E>=0&&c.splice(E,1);break;default:console.error("Unrecognized message in observeQuery.",x)}}o.next({items:c,isSynced:!0})}const y=WF(t);return(async()=>{let S=!0,x=null;for(;!o.closed&&(S||x);){S=!1;const{data:E,errors:_,nextToken:T}=await e[n].list({...s,nextToken:x});x=T,c.push(...E);const O=u.length===0&&x==null;if(o.next({items:c,isSynced:O}),Array.isArray(_))for(const N of _)o.error(N)}u.length>0&&g(u),d=(...E)=>(g(E),c.length)})(),()=>{h.unsubscribe(),m.unsubscribe(),p.unsubscribe()}})}const JF=e=>{var t,n,i;return e.type==="key"&&((t=e.properties)==null?void 0:t.name)&&((n=e.properties)==null?void 0:n.queryField)&&((i=e.properties)==null?void 0:i.fields.length)>0},ZF=e=>{var n;return((n=e.attributes)==null?void 0:n.filter(JF).map(i=>{const s=i.properties.queryField,[o,...c]=i.properties.fields;return{queryField:s,pk:o,sk:c}}))||[]},ej=(e,t)=>{var u;const n=(u=e.models[t].attributes)==null?void 0:u.find(d=>d.type==="model"),i={queries:["list","get","observeQuery"],mutations:["create","update","delete"],subscriptions:["onCreate","onUpdate","onDelete"]},s=[];if(!n)return Eb;if(n.properties)for(const[d,h]of Object.entries(n.properties))d in i&&(h===null?s.push(...i[d]):h instanceof Object&&s.push(...Object.keys(h)));s.includes("list")&&s.push("observeQuery");const o=s.map(d=>d.toUpperCase());return Object.fromEntries(Object.entries(Eb).filter(([d])=>!o.includes(d)))};function tj(e,t,n){const i={},s=t.modelIntrospection;if(!s)return{};const o=["ONCREATE","ONUPDATE","ONDELETE"];for(const c of Object.values(s.models)){const{name:u}=c;i[u]={};const d=ej(s,u);Object.entries(d).forEach(([m,{operationPrefix:p}])=>{const g=m;g==="LIST"?i[u][p]=a3(e,s,c,n):o.includes(g)?i[u][p]=qF(e,s,c,g,n):g==="OBSERVEQUERY"?i[u][p]=QF(i,c):i[u][p]=_f(e,s,c,g,n)});const h=ZF(c);for(const m of h)i[u][m.queryField]=KF(e,s,c,m,n)}return i}function uT(e,t,n){return rF(e),e.models=tj(e,t,n),e.enums=GF(t),e.queries=gF(e,t,n),e.mutations=mF(e,t,n),e.subscriptions=yF(e,t,n),e.conversations=HF(e,t,n),e.generations=$F(e,t,n),e}function nj(e){return n3 in e}class rj extends tF{getModuleName(){return"GraphQLAPI"}graphql(t,n,i){const s={category:Lp.API,action:ob.GraphQl};if(nj(n)){const{[n3]:o,...c}=n;return super.graphql(t,c,i,{...s,...o})}return super.graphql(t,n,i,{...s})}isCancelError(t){return super.isCancelError(t)}cancel(t,n){return super.cancel(t,n)}}const i3=new rj;function aj(e,t){const n=t3(this),i=n.endpoint,s=n.authMode,o=n.apiKey;if(e.authMode=e.authMode||s,e.apiKey=e.apiKey??o,e.authToken=e.authToken||n.authToken,i&&e.authMode==="apiKey"&&!e.apiKey)throw new Error("graphql() requires an explicit `apiKey` for a custom `endpoint` when `authMode = 'apiKey'`.");const c=t||n.headers;return i3.graphql(n.amplify,{...e,endpoint:i},c)}function ij(e,t){return i3.cancel(e,t)}function sj(e){return i3.isCancelError(e)}function fT(e){return e!==void 0}function oj(e){return e.event==="configure"}function cj(e){var i;const t={[WC]:e.amplify,[kp]:e.authMode,[XC]:e.authToken,[xb]:"apiKey"in e?e.apiKey:void 0,[Dp]:"endpoint"in e?e.endpoint:void 0,[QC]:e.headers,graphql:aj,cancel:ij,isCancelError:sj,models:j0,enums:j0,queries:j0,mutations:j0,subscriptions:j0},n=(i=e.amplify.getConfig().API)==null?void 0:i.GraphQL;if(t[Dp]){if(!t[kp])throw new Error("generateClient() requires an explicit `authMode` when `endpoint` is provided.");if(t[kp]==="apiKey"&&!t[xb])throw new Error("generateClient() requires an explicit `apiKey` when `endpoint` is provided and `authMode = 'apiKey'`.")}return t[Dp]||(fT(n)?uT(t,n,t3):lj(t)),t}const lj=e=>{hf.listen("core",t=>{var i;if(!oj(t.payload))return;const n=(i=t.payload.data.API)==null?void 0:i.GraphQL;fT(n)&&uT(e,n,t3)})},j0=new Proxy({},{get(){throw new Error("Client could not be generated. This is likely due to `Amplify.configure()` not being called prior to `generateClient()` or because the configuration passed to `Amplify.configure()` is missing GraphQL provider configuration.")}});function uj(e){return cj({amplify:ta})}const fj="1",dj={aws_region:"us-east-1",bucket_name:"chordscout-audio-dev-090130568474"},hj={url:"https://mock-api.amplify.aws/graphql",aws_region:"us-east-1",default_authorization_type:"API_KEY",api_key:"mock-api-key-for-local-dev"},pj={user_pool_id:"us-east-1_mock",aws_region:"us-east-1",user_pool_client_id:"mock-client-id",identity_pool_id:"us-east-1:mock-identity-pool"},vj={stateMachineArn:"arn:aws:states:us-east-1:090130568474:stateMachine:ChordScout-Transcription-dev",jobsTableName:"ChordScout-TranscriptionJobs-dev"},dT={version:fj,storage:dj,data:hj,auth:pj,custom:vj};var mj="6.6.0",gj=mj,yj=function(e,t){var n=this;if(t||(t={}),n.qpm=t.qpm?parseInt(t.qpm,10):null,!n.qpm){var i=e.metaText?e.metaText.tempo:null;n.qpm=e.getBpm(i)}n.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,n.beatCallback=t.beatCallback,n.eventCallback=t.eventCallback,n.lineEndCallback=t.lineEndCallback,n.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,n.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,n.beatSubdivisions||(n.beatSubdivisions=1),n.joggerTimer=null,n.replaceTarget=function(o){if(n.noteTimings=o.setTiming(n.qpm,n.extraMeasuresAtBeginning),o.noteTimings.length===0&&(n.noteTimings=o.setTiming(0,0)),n.lineEndCallback&&(n.lineEndTimings=bj(o.noteTimings,n.lineEndAnticipation)),n.startTime=null,n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.currentTime=0,n.isPaused=!1,n.isRunning=!1,n.pausedPercent=null,n.justUnpaused=!1,n.newSeekPercent=0,n.lastTimestamp=0,n.noteTimings.length!==0){n.millisecondsPerBeat=1e3/(n.qpm/60)/n.beatSubdivisions,n.lastMoment=n.noteTimings[n.noteTimings.length-1].milliseconds;var c=o.getMeter(),u="";if(c&&c.type==="specified"&&c.value&&c.value.length>0&&c.value[0].num.indexOf("+")>0&&(u=c.value[0].num),n.beatStarts=[],u){for(var d=n.noteTimings[n.noteTimings.length-1].millisecondsPerMeasure,h=n.lastMoment/d,m=u.split("+"),p=0;p<m.length;p++)m[p]=parseInt(m[p],10)/2;for(var g=0,y=0,S=0;S<h;S++)for(var x=S*d,E=0,_=0;_<m.length;_++){var T=m[_];if(n.beatSubdivisions===1)n.beatSubdivisions===1&&g<n.lastMoment&&n.beatStarts.push({b:y,ts:g}),g+=T*n.millisecondsPerBeat;else for(var O=T*n.beatSubdivisions,N=0;N<Math.floor(O);N++){var D=N/O,R=Math.round(x+E*n.millisecondsPerBeat);R<n.lastMoment&&n.beatStarts.push({b:y+D,ts:R}),E++}y++}n.beatStarts.push({b:h*m.length,ts:n.lastMoment}),n.totalBeats=n.beatStarts.length}else{n.totalBeats=Math.round(n.lastMoment/n.millisecondsPerBeat);for(var P=0;P<n.totalBeats+1;P++)n.beatStarts.push({b:P/n.beatSubdivisions,ts:Math.round(P*n.millisecondsPerBeat)})}}},n.replaceTarget(e),n.doTiming=function(o){if(n.lastTimestamp!==o&&(n.lastTimestamp=o,!n.isPaused&&n.isRunning)){for(n.startTime||(n.startTime=o),n.currentTime=o-n.startTime,n.currentTime+=16;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;){if(n.eventCallback&&n.noteTimings[n.currentEvent].type==="event"){var c=n.startTime;n.eventCallback(n.noteTimings[n.currentEvent]),c!==n.startTime&&(n.currentTime=o-n.startTime)}n.currentEvent++}if(n.lineEndCallback&&n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds<n.currentTime&&n.currentEvent<n.noteTimings.length){var u=n.noteTimings[n.currentEvent].milliseconds===n.currentTime?n.noteTimings[n.currentEvent]:n.noteTimings[n.currentEvent-1];n.lineEndCallback(n.lineEndTimings[n.currentLine],u,{line:n.currentLine,endTimings:n.lineEndTimings,currentTime:n.currentTime}),n.currentLine++}if(n.currentTime<n.lastMoment){if(requestAnimationFrame(n.doTiming),n.currentBeat<n.beatStarts.length&&n.beatStarts[n.currentBeat].ts<=n.currentTime){var d=n.doBeatCallback(o);n.currentBeat++,d!==null&&(n.currentTime=d)}}else if(n.currentBeat<=n.totalBeats&&n.beatCallback){var h=n.doBeatCallback(o);n.currentBeat++,h!==null&&(n.currentTime=h),requestAnimationFrame(n.doTiming)}if(n.currentTime>=n.lastMoment)if(n.eventCallback){var m=n.eventCallback(null);n.shouldStop(m).then(function(p){p&&n.stop()})}else n.stop()}},n.shouldStop=function(o){return new Promise(function(c){if(!o)return c(!0);if(o==="continue")return c(!1);o.then&&o.then(function(u){c(u!=="continue")})})},n.doBeatCallback=function(o){if(n.beatCallback){for(var c=n.currentEvent;c<n.noteTimings.length&&n.noteTimings[c].left===null;)c++;var u,d;if(c<n.noteTimings.length){for(u=n.noteTimings[c].milliseconds,c=Math.max(0,n.currentEvent-1);c>=0&&n.noteTimings[c].left===null;)c--;d=n.noteTimings[c]}var h={},m={};if(d){h.top=d.top,h.height=d.height;var p=Math.max(0,o-n.startTime-d.milliseconds),g=u-d.milliseconds,y=d.endX-d.left,S=g?p*y/g:0;h.left=d.left+S,n.currentEvent===0&&d.milliseconds>o-n.startTime&&(h.left=void 0),m={timestamp:o,startTime:n.startTime,ev:d,endMs:u,offMs:p,offPx:S,gapMs:g,gapPx:y}}else m={timestamp:o,startTime:n.startTime};var x=n.startTime;if(n.beatCallback(n.beatStarts[n.currentBeat].b,n.totalBeats/n.beatSubdivisions,n.lastMoment,h,m),x!==n.startTime)return o-n.startTime}return null};var s=60;n.animationJogger=function(){n.isRunning&&(n.doTiming(performance.now()),n.joggerTimer=setTimeout(n.animationJogger,s))},n.start=function(o,c){if(n.isRunning=!0,n.isPaused&&(n.isPaused=!1,o===void 0&&(n.justUnpaused=!0)),o)n.setProgress(o,c);else if(o===0)n.reset();else if(n.pausedPercent!==null){var u=performance.now();n.currentTime=n.lastMoment*n.pausedPercent,n.startTime=u-n.currentTime,n.pausedPercent=null,n.reportNext=!0}requestAnimationFrame(n.doTiming),n.joggerTimer=setTimeout(n.animationJogger,s)},n.pause=function(){n.isPaused=!0;var o=performance.now();n.pausedPercent=(o-n.startTime)/n.lastMoment,n.isRunning=!1,n.joggerTimer&&(clearTimeout(n.joggerTimer),n.joggerTimer=null)},n.currentMillisecond=function(){return n.currentTime},n.reset=function(){n.currentBeat=0,n.currentEvent=0,n.currentLine=0,n.startTime=null,n.pausedPercent=null},n.stop=function(){n.pause(),n.reset()},n.setProgress=function(o,c){var u;switch(c){case"seconds":n.currentTime=o*1e3,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),u=n.currentTime/n.lastMoment;break;case"beats":n.currentTime=o*n.millisecondsPerBeat*n.beatSubdivisions,n.currentTime<0&&(n.currentTime=0),n.currentTime>n.lastMoment&&(n.currentTime=n.lastMoment),u=n.currentTime/n.lastMoment;break;default:u=o,u<0&&(u=0),u>1&&(u=1),n.currentTime=n.lastMoment*u;break}n.isRunning||(n.pausedPercent=u);var d=performance.now();for(n.startTime=d-n.currentTime,n.currentEvent=0;n.noteTimings.length>n.currentEvent&&n.noteTimings[n.currentEvent].milliseconds<n.currentTime;)n.currentEvent++;if(n.lineEndCallback)for(n.currentLine=0;n.lineEndTimings.length>n.currentLine&&n.lineEndTimings[n.currentLine].milliseconds+n.lineEndAnticipation<n.currentTime;)n.currentLine++;var h=n.currentBeat;for(n.currentBeat=0;n.currentBeat<n.beatStarts.length&&!(n.beatStarts[n.currentBeat].ts>n.currentTime);n.currentBeat++);n.currentBeat--,n.beatCallback&&h!==n.currentBeat&&(n.doBeatCallback(n.startTime+n.currentTime),n.currentBeat++),n.eventCallback&&n.currentEvent>=0&&n.noteTimings[n.currentEvent].type==="event"&&n.eventCallback(n.noteTimings[n.currentEvent]),n.lineEndCallback&&n.lineEndCallback(n.lineEndTimings[n.currentLine],n.noteTimings[n.currentEvent],{line:n.currentLine,endTimings:n.lineEndTimings}),n.joggerTimer=setTimeout(n.animationJogger,s)}};function bj(e,t){for(var n=[],i=null,s=0;s<e.length;s++){var o=e[s];o.type!=="end"&&o.top!==i&&(n.push({measureNumber:o.measureNumber,milliseconds:o.milliseconds-t,top:o.top,bottom:o.top+o.height}),i=o.top)}return n}var s3=yj,Sj=s3,Op={};(function(){var e,t;Op.startAnimation=function(n,i,s){e&&(e.stop(),e=void 0),s.showCursor&&(t=n.querySelector(".abcjs-cursor"),t||(t=document.createElement("DIV"),t.className="abcjs-cursor cursor",t.style.position="absolute",n.appendChild(t),n.style.position="relative"));function o(g){for(var y=0;y<g.length;y++){var S=g[y];S.classList.contains("abcjs-bar")||(S.style.display="none")}}var c;function u(g){if(c){var y=n.querySelectorAll(c);o(y)}c=g}function d(g){var y=n.querySelectorAll(g);o(y)}function h(g){s.hideCurrentMeasure?d(g):s.hideFinishedMeasures&&u(g)}function m(g){return".abcjs-l"+g.line+".abcjs-m"+g.measureNumber}function p(g){if(g){if(g.measureStart){var y=m(g);y&&h(y)}t&&(t.style.left=g.left+"px",t.style.top=g.top+"px",t.style.width=g.width+"px",t.style.height=g.height+"px")}else e.stop(),e=void 0}e=new Sj(i,{qpm:s.bpm,eventCallback:p}),e.start()},Op.pauseAnimation=function(n){e&&(n?e.pause():e.start())},Op.stopAnimation=function(){e&&(e.stop(),e=void 0)}})();var wj=Op,ss={};ss.cloneArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(Object.assign({},e[n]));return t};ss.cloneHashOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Object.assign({},e[n]));return t};ss.cloneHashOfArrayOfHash=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=ss.cloneArray(e[n]));return t};ss.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};ss.startsWith=function(e,t){return e.indexOf(t)===0};ss.endsWith=function(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n};ss.last=function(e){return e.length===0?null:e[e.length-1]};var Ni=ss,Kw=Ni,Wo={};(function(){var e,t,n,i,s;Wo.initialize=function(I,j,X,K,ge){e=I,t=j,n=X,i=K,s=ge,o()};function o(){n.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},n.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},n.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},n.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},n.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},i.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},i.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},i.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},i.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},i.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},i.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},i.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},i.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},i.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},i.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},i.formatting.annotationfont=n.annotationfont,i.formatting.gchordfont=n.gchordfont,i.formatting.historyfont=n.historyfont,i.formatting.infofont=n.infofont,i.formatting.measurefont=n.measurefont,i.formatting.partsfont=n.partsfont,i.formatting.repeatfont=n.repeatfont,i.formatting.textfont=n.textfont,i.formatting.tripletfont=n.tripletfont,i.formatting.vocalfont=n.vocalfont,i.formatting.wordsfont=n.wordsfont}var c={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},u=function(I){switch(I){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},d=function(I,j,X,K,ge){function Te(){var Dt=parseInt(I[0].token);return I.shift(),j?I.length===0?{face:j.face,weight:j.weight,style:j.style,decoration:j.decoration,size:Dt}:I.length===1&&I[0].token==="box"&&c[ge]?{face:j.face,weight:j.weight,style:j.style,decoration:j.decoration,size:Dt,box:!0}:(t("Extra parameters in font definition.",X,K),{face:j.face,weight:j.weight,style:j.style,decoration:j.decoration,size:Dt}):(t("Can't set just the size of the font since there is no default value.",X,K),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:Dt})}if(I[0].token==="*"){if(I.shift(),I[0].type==="number")return Te();t("Expected font size number after *.",X,K)}if(I[0].type==="number")return Te();for(var Me=[],lt,bt="normal",jt="normal",mt="none",Nt=!1,Ee="face",Ze=!1;I.length;){var ze=I.shift(),He=ze.token.toLowerCase();switch(Ee){case"face":Ze||He!=="utf"&&ze.type!=="number"&&He!=="bold"&&He!=="italic"&&He!=="underline"&&He!=="box"?Me.length>0&&ze.token==="-"?(Ze=!0,Me[Me.length-1]=Me[Me.length-1]+ze.token):Ze?(Ze=!1,Me[Me.length-1]=Me[Me.length-1]+ze.token):Me.push(ze.token):ze.type==="number"?(lt?t("Font size specified twice in font definition.",X,K):lt=ze.token,Ee="modifier"):He==="bold"?bt="bold":He==="italic"?jt="italic":He==="underline"?mt="underline":He==="box"?(c[ge]?Nt=!0:t(`This font style doesn't support "box"`,X,K),Ee="finished"):He==="utf"?(ze=I.shift(),Ee="size"):t("Unknown parameter "+ze.token+" in font definition.",X,K);break;case"size":ze.type==="number"?lt?t("Font size specified twice in font definition.",X,K):lt=ze.token:t("Expected font size in font definition.",X,K),Ee="modifier";break;case"modifier":He==="bold"?bt="bold":He==="italic"?jt="italic":He==="underline"?mt="underline":He==="box"?(c[ge]?Nt=!0:t(`This font style doesn't support "box"`,X,K),Ee="finished"):t("Unknown parameter "+ze.token+" in font definition.",X,K);break;case"finished":t('Extra characters found after "box" in font definition.',X,K);break}}lt===void 0?j?lt=j.size:(t("Must specify the size of the font since there is no default value.",X,K),lt=12):lt=parseFloat(lt),Me=Me.join(" "),Me===""&&(j?Me=j.face:(t("Must specify the name of the font since there is no default value.",X,K),Me="sans-serif"));var pt=u(Me),ft={};return pt?(ft.face=pt.face,ft.weight=pt.weight,ft.style=pt.style,ft.decoration=pt.decoration,ft.size=lt,Nt&&(ft.box=!0),ft):(ft.face=Me,ft.weight=bt,ft.style=jt,ft.decoration=mt,ft.size=lt,Nt&&(ft.box=!0),ft)},h=function(I,j,X){return j.length===0?'Directive "'+I+'" requires a font as a parameter.':(n[I]=d(j,n[I],X,0,I),n.is_in_header&&(i.formatting[I]=n[I]),null)},m=function(I,j,X){return j.length===0?'Directive "'+I+'" requires a font as a parameter.':(i.formatting[I]=d(j,i.formatting[I],X,0,I),null)},p=function(I,j){var X="";j.forEach(function(ge){X+=ge.token});var K=parseFloat(X);if(isNaN(K)||K===0)return'Directive "'+I+'" requires a number as a parameter.';i.formatting.scale=K},g=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],y=function(I){var j=I.split(/\s+/);if(j.length!==2&&j.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var X=j[0],K=parseInt(j[1],10);if((isNaN(K)||K<35||K>81)&&j[1]&&(K=g.indexOf(j[1].toLowerCase())+35),isNaN(K)||K<35||K>81)return{error:'Expected drum name, received "'+j[1]+'"'};var ge={sound:K};return j.length===3&&(ge.noteHead=j[2]),{key:X,value:ge}},S=function(I,j){var X=e.getMeasurement(j);return X.used===0||j.length!==0?{error:'Directive "'+I+'" requires a measurement as a parameter.'}:X.value},x=function(I,j){var X=e.getMeasurement(j);return X.used===0||j.length!==0?'Directive "'+I+'" requires a measurement as a parameter.':(i.formatting[I]=X.value,null)},E=function(I,j,X,K,ge){if(X.length!==1||X[0].type!=="number")return'Directive "'+j+'" requires a number as a parameter.';var Te=X[0].intt;return K!==void 0&&Te<K?'Directive "'+j+'" requires a number greater than or equal to '+K+" as a parameter.":ge!==void 0&&Te>ge?'Directive "'+j+'" requires a number less than or equal to '+ge+" as a parameter.":(n[I]=Te,null)},_=function(I,j,X){if(X.length===1&&(X[0].token==="true"||X[0].token==="false"))return n[I]=X[0].token==="true",null;var K=E(I,j,X,0,1);return K!==null?K:(n[I]=n[I]===1,null)},T=function(I,j,X,K){if(X.length!==1)return'Directive "'+j+'" requires one of [ '+K.join(", ")+" ] as a parameter.";for(var ge=X[0].token,Te=!1,Me=0;!Te&&Me<K.length;Me++)K[Me]===ge&&(Te=!0);return Te?(n[I]=ge,null):'Directive "'+j+'" requires one of [ '+K.join(", ")+" ] as a parameter."},O=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],N=["gchord","ptstress","beatstring"],D=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],R=["program"],P=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],U=["beat"],F=["drone"],H=["portamento"],Y=["expand","grace","trim"],$=["drum","chordname"],G=["bassprog","chordprog"],ce=function(I,j,X){var K=I.shift().token,ge=[];if(O.indexOf(K)>=0)I.length!==0&&t("Unexpected parameter in MIDI "+K,X,0);else if(N.indexOf(K)>=0)I.length!==1?t("Expected one parameter in MIDI "+K,X,0):ge.push(I[0].token);else if(D.indexOf(K)>=0)I.length!==1?t("Expected one parameter in MIDI "+K,X,0):I[0].type!=="number"?t("Expected one integer parameter in MIDI "+K,X,0):ge.push(I[0].intt);else if(R.indexOf(K)>=0)I.length!==1&&I.length!==2?t("Expected one or two parameters in MIDI "+K,X,0):I[0].type!=="number"||I.length===2&&I[1].type!=="number"?t("Expected integer parameter in MIDI "+K,X,0):(ge.push(I[0].intt),I.length===2&&ge.push(I[1].intt));else if(P.indexOf(K)>=0)I.length!==2?t("Expected two parameters in MIDI "+K,X,0):I[0].type!=="number"||I[1].type!=="number"?t("Expected two integer parameters in MIDI "+K,X,0):(ge.push(I[0].intt),ge.push(I[1].intt));else if(H.indexOf(K)>=0)I.length!==2?t("Expected two parameters in MIDI "+K,X,0):I[0].type!=="alpha"||I[1].type!=="number"?t("Expected one string and one integer parameters in MIDI "+K,X,0):(ge.push(I[0].token),ge.push(I[1].intt));else if(K==="drummap")I.length===2&&I[0].type==="alpha"&&I[1].type==="number"?(j.formatting||(j.formatting={}),j.formatting.midi||(j.formatting.midi={}),j.formatting.midi.drummap||(j.formatting.midi.drummap={}),j.formatting.midi.drummap[I[0].token]=I[1].intt,ge=j.formatting.midi.drummap):I.length===3&&I[0].type==="punct"&&I[1].type==="alpha"&&I[2].type==="number"?(j.formatting||(j.formatting={}),j.formatting.midi||(j.formatting.midi={}),j.formatting.midi.drummap||(j.formatting.midi.drummap={}),j.formatting.midi.drummap[I[0].token+I[1].token]=I[2].intt,ge=j.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+K,X,0);else if(Y.indexOf(K)>=0)I.length!==3||I[0].type!=="number"||I[1].token!=="/"||I[2].type!=="number"?t("Expected fraction parameter in MIDI "+K,X,0):(ge.push(I[0].intt),ge.push(I[2].intt));else if(U.indexOf(K)>=0)I.length!==4?t("Expected four parameters in MIDI "+K,X,0):I[0].type!=="number"||I[1].type!=="number"||I[2].type!=="number"||I[3].type!=="number"?t("Expected four integer parameters in MIDI "+K,X,0):(ge.push(I[0].intt),ge.push(I[1].intt),ge.push(I[2].intt),ge.push(I[3].intt));else if(F.indexOf(K)>=0)I.length!==5?t("Expected five parameters in MIDI "+K,X,0):I[0].type!=="number"||I[1].type!=="number"||I[2].type!=="number"||I[3].type!=="number"||I[4].type!=="number"?t("Expected five integer parameters in MIDI "+K,X,0):(ge.push(I[0].intt),ge.push(I[1].intt),ge.push(I[2].intt),ge.push(I[3].intt),ge.push(I[4].intt));else if(R.indexOf(K)>=0)I.length!==1||I.length!==4?t("Expected one or two parameters in MIDI "+K,X,0):I[0].type!=="number"?t("Expected integer parameter in MIDI "+K,X,0):I.length===4?(I[1].token!=="octave"&&t("Expected octave parameter in MIDI "+K,X,0),I[2].token!=="="&&t("Expected octave parameter in MIDI "+K,X,0),I[3].type!=="number"&&t("Expected integer parameter for octave in MIDI "+K,X,0)):(ge.push(I[0].intt),I.length===4&&ge.push(I[3].intt));else if($.indexOf(K)>=0)if(I.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+K,X,0);else if(I[0].type!=="alpha")t("Expected string parameter and at least one integer parameter in MIDI "+K,X,0);else{var Te=I.shift();for(ge.push(Te.token);I.length>0;)Te=I.shift(),Te.type!=="number"&&t("Expected integer parameter in MIDI "+K,X,0),ge.push(Te.intt)}else if(G.indexOf(K)>=0){if(I.length!==1&&I.length!==2)t("Expected one or two parameters in MIDI "+K,X,0);else if(I[0].type!=="number")t("Expected integer parameter in MIDI "+K,X,0);else if(I.length===2&&I[1].type!=="alpha")t("Expected alpha parameter in MIDI "+K,X,0);else if(ge.push(I[0].intt),I.length===2){var Me=I[1].token;Me.indexOf("octave=")!=-1?(Me=Me.replace("octave=",""),Me=parseInt(Me),isNaN(Me)?t("Expected octave value in MIDI"+K):(Me<-1&&(t("Expected octave= in MIDI "+K+" to be >= -1 (recv:"+Me+")"),Me=-1),Me>3&&(t("Expected octave= in MIDI "+K+" to be <= 3 (recv:"+Me+")"),Me=3),ge.push(Me))):t("Expected octave= in MIDI"+K)}}s.hasBeginMusic()?s.appendElement("midi",-1,-1,{cmd:K,params:ge}):(j.formatting.midi===void 0&&(j.formatting.midi={}),j.formatting.midi[K]=ge)};Wo.parseFontChangeLine=function(I){I=I.replace(/\$\$/g,"");var j=I.split("$");if(j.length>1&&n.setfont){var X=[];j[0]!==""&&X.push({text:j[0]});for(var K=1;K<j.length;K++)if(j[K][0]==="0")X.push({text:j[K].substring(1).replace(/\x03/g,"$$")});else{var ge=parseInt(j[K][0],10);n.setfont[ge]?X.push({font:n.setfont[ge],text:j[K].substring(1).replace(/\x03/g,"$$")}):X[X.length-1].text+="$"+j[K].replace(/\x03/g,"$$")}return X}return I.replace(/\x03/g,"$$")};var Se=["auto","above","below","hidden"];Wo.addDirective=function(I){var j=e.tokenize(I,0,I.length);if(j.length===0||j[0].type!=="alpha")return null;var X=I.substring(I.indexOf(j[0].token)+j[0].token.length);X=e.stripComment(X);var K=j.shift().token.toLowerCase(),ge="",Te;switch(K){case"bagpipes":i.formatting.bagpipes=!0;break;case"flatbeams":i.formatting.flatbeams=!0;break;case"jazzchords":i.formatting.jazzchords=!0;break;case"accentAbove":i.formatting.accentAbove=!0;break;case"germanAlphabet":i.formatting.germanAlphabet=!0;break;case"landscape":n.landscape=!0;break;case"papersize":n.papersize=X;break;case"graceslurs":if(j.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(j[0].token==="0"||j[0].token==="false")i.formatting.graceSlurs=!1;else if(j[0].token==="1"||j[0].token==="true")i.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+j[0].token+")";break;case"lineThickness":var Me=ee(j);if(Me.value!==void 0&&(i.formatting.lineThickness=Me.value),Me.error)return Me.error;break;case"stretchlast":var lt=ee(j);if(lt.value!==void 0&&(i.formatting.stretchlast=lt.value),lt.error)return lt.error;break;case"titlecaps":n.titlecaps=!0;break;case"titleleft":i.formatting.titleleft=!0;break;case"measurebox":i.formatting.measurebox=!0;break;case"vocal":return T("vocalPosition",K,j,Se);case"dynamic":return T("dynamicPosition",K,j,Se);case"gchord":return T("chordPosition",K,j,Se);case"ornament":return T("ornamentPosition",K,j,Se);case"volume":return T("volumePosition",K,j,Se);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return x(K,j);case"voicescale":if(j.length!==1||j[0].type!=="number")return"voicescale requires one float as a parameter";var bt=j.shift();return n.currentVoice&&(n.currentVoice.scale=bt.floatt,s.changeVoiceScale(n.currentVoice.scale)),null;case"voicecolor":if(j.length!==1)return"voicecolor requires one string as a parameter";var jt=j.shift();return n.currentVoice&&(n.currentVoice.color=jt.token,s.changeVoiceColor(n.currentVoice.color)),null;case"vskip":var mt=Math.round(S(K,j));return mt.error?mt.error:(s.addSpacing(mt),null);case"scale":p(K,j);break;case"sep":if(j.length===0)s.addSeparator(14,14,85,{startChar:n.iChar,endChar:n.iChar+5});else{var Nt=e.getMeasurement(j);if(Nt.used===0)return'Directive "'+K+'" requires 3 numbers: space above, space below, length of line';var Ee=Nt.value;if(Nt=e.getMeasurement(j),Nt.used===0)return'Directive "'+K+'" requires 3 numbers: space above, space below, length of line';var Ze=Nt.value;if(Nt=e.getMeasurement(j),Nt.used===0||j.length!==0)return'Directive "'+K+'" requires 3 numbers: space above, space below, length of line';var ze=Nt.value;s.addSeparator(Ee,Ze,ze,{startChar:n.iChar,endChar:n.iChar+X.length})}break;case"barsperstaff":if(ge=E("barsperstaff",K,j),ge!==null)return ge;break;case"staffnonote":if(j.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(j[0].token==="0")n.staffnonote=!0;else if(j[0].token==="1")n.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+j[0].token+")";break;case"printtempo":if(ge=_("printTempo",K,j),ge!==null)return ge;break;case"partsbox":if(ge=_("partsBox",K,j),ge!==null)return ge;n.partsfont.box=n.partsBox;break;case"freegchord":if(ge=_("freegchord",K,j),ge!==null)return ge;break;case"measurenb":case"barnumbers":if(ge=E("barNumbers",K,j),ge!==null)return ge;break;case"setbarnb":if(j.length!==1||j[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";n.currBarNumber=s.setBarNumberImmediate(j[0].intt);break;case"keywarn":if(j.length!==1||j[0].type!=="number"||j[0].intt!==1&&j[0].intt!==0)return"Directive "+K+" requires 0 or 1 as a parameter.";n[K]=j[0].intt===1;break;case"begintext":var He="";for(Te=e.nextLine();Te&&Te.indexOf("%%endtext")!==0;){if(Kw.startsWith(Te,"%%")){var pt=Te.substring(2);pt=pt.trim()+`
`,He+=pt}else He+=Te.trim()+`
`;Te=e.nextLine()}s.addText(He,{startChar:n.iChar,endChar:n.iChar+He.length+7});break;case"continueall":n.continueall=!0;break;case"beginps":for(Te=e.nextLine();Te&&Te.indexOf("%%endps")!==0;)e.nextLine();t("Postscript ignored",I,0);break;case"deco":X.length>0&&n.ignoredDecorations.push(X.substring(0,X.indexOf(" "))),t("Decoration redefinition ignored",I,0);break;case"text":var ft=e.translateString(X);s.addText(Wo.parseFontChangeLine(ft),{startChar:n.iChar,endChar:n.iChar+X.length+7});break;case"center":var Dt=e.translateString(X);s.addCentered(Wo.parseFontChangeLine(Dt));break;case"font":break;case"setfont":var It=e.tokenize(X,0,X.length);if(It.length>=4&&It[0].token==="-"&&It[1].type==="number"){var Yt=parseInt(It[1].token);Yt>=1&&Yt<=9&&(n.setfont||(n.setfont=[]),It.shift(),It.shift(),n.setfont[Yt]=d(It,n.setfont[Yt],I,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return h(K,j,I);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return m(K,j,I);case"barlabelfont":case"barnumberfont":case"barnumfont":return h("measurefont",j,I);case"staves":case"score":n.score_is_present=!0;for(var $n=function(Pn,Ta,fs,ei,ds){(Ta||n.staves.length===0)&&n.staves.push({index:n.staves.length,numVoices:0});var mr=Kw.last(n.staves);fs!==void 0&&mr.bracket===void 0&&(mr.bracket=fs),ei!==void 0&&mr.brace===void 0&&(mr.brace=ei),ds&&(mr.connectBarLines="end"),n.voices[Pn]===void 0&&(n.voices[Pn]={staffNum:mr.index,index:mr.numVoices},mr.numVoices++)},Q=!1,oe=!1,Z=!1,ae=!1,ve=!1,_e=!1,Pe=!1,Ge,Ie=function(){if(Pe=!0,Ge){var Pn="start";Ge.staffNum>0&&(n.staves[Ge.staffNum-1].connectBarLines==="start"||n.staves[Ge.staffNum-1].connectBarLines==="continue")&&(Pn="continue"),n.staves[Ge.staffNum].connectBarLines=Pn}};j.length;){var Ue=j.shift();switch(Ue.token){case"(":Q?t("Can't nest parenthesis in %%score",I,Ue.start):(Q=!0,ae=!0);break;case")":!Q||ae?t("Unexpected close parenthesis in %%score",I,Ue.start):Q=!1;break;case"[":oe?t("Can't nest brackets in %%score",I,Ue.start):(oe=!0,ve=!0);break;case"]":!oe||ve?t("Unexpected close bracket in %%score",I,Ue.start):(oe=!1,n.staves[Ge.staffNum].bracket="end");break;case"{":Z?t("Can't nest braces in %%score",I,Ue.start):(Z=!0,_e=!0);break;case"}":!Z||_e?t("Unexpected close brace in %%score",I,Ue.start):(Z=!1,n.staves[Ge.staffNum].brace="end");break;case"|":Ie();break;default:for(var St="";(Ue.type==="alpha"||Ue.type==="number")&&(St+=Ue.token,Ue.continueId);)Ue=j.shift();var be=!Q||ae,pe=ve?"start":oe?"continue":void 0,Be=_e?"start":Z?"continue":void 0;$n(St,be,pe,Be,Pe),ae=!1,ve=!1,_e=!1,Pe=!1,Ge=n.voices[St],K==="staves"&&Ie();break}}break;case"maxstaves":var Xe=e.getInt(X);Xe.digits===0?t("Expected number of staves in maxstaves"):Xe.value>0&&(i.formatting.maxStaves=Xe.value);break;case"newpage":var Qe=e.getInt(X);s.addNewPage(Qe.digits===0?-1:Qe.value);break;case"abc":var _t=X.split(" ");switch(_t[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var zt=_t.shift();s.addMetaText(K+zt,_t.join(" "),{startChar:n.iChar,endChar:n.iChar+X.length+5});break;default:return"Unknown directive: "+K+_t[0]}break;case"header":case"footer":var Ot=e.getMeat(X,0,X.length);Ot=X.substring(Ot.start,Ot.end),Ot[0]==='"'&&Ot[Ot.length-1]==='"'&&(Ot=Ot.substring(1,Ot.length-1));var kt=Ot.split("	"),At={};kt.length===1?At={left:"",center:kt[0],right:""}:kt.length===2?At={left:kt[0],center:kt[1],right:""}:At={left:kt[0],center:kt[1],right:kt[2]},kt.length>3&&t("Too many tabs in "+K+": "+kt.length+" found.",X,0),s.addMetaTextObj(K,At,{startChar:n.iChar,endChar:n.iChar+I.length});break;case"midi":var Bt=e.tokenize(X,0,X.length,!0);Bt.length>0&&Bt[0].token==="="&&Bt.shift(),Bt.length===0?t("Expected midi command",X,0):ce(Bt,i,X);break;case"percmap":var Tn=y(X);Tn.error?t(Tn.error,I,8):(i.formatting.percmap||(i.formatting.percmap={}),i.formatting.percmap[Tn.key]=Tn.value);break;case"visualtranspose":var kr=e.getInt(X);kr.digits===0?t("Expected number of half steps in visualTranspose"):n.globalTranspose=kr.value;break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":i.formatting[K]=X;break;default:return"Unknown directive: "+K}return null},Wo.globalFormatting=function(I){for(var j in I)if(I.hasOwnProperty(j)){var X=""+I[j],K=e.tokenize(X,0,X.length),ge;switch(j){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":h(j,K,X);break;case"scale":p(j,K);break;case"partsbox":ge=_("partsBox",j,K),ge!==null&&t(ge),n.partsfont.box=n.partsBox;break;case"freegchord":ge=_("freegchord",j,K),ge!==null&&t(ge);break;case"fontboxpadding":(K.length!==1||K[0].type!=="number")&&t('Directive "'+j+'" requires a number as a parameter.'),i.formatting.fontboxpadding=K[0].floatt;break;case"stafftopmargin":(K.length!==1||K[0].type!=="number")&&t('Directive "'+j+'" requires a number as a parameter.'),i.formatting.stafftopmargin=K[0].floatt;break;case"stretchlast":var Te=ee(K);if(Te.value!==void 0&&(i.formatting.stretchlast=Te.value),Te.error)return Te.error;break;default:t("Formatting directive unrecognized: ",j,0)}}};function ee(I){if(I.length===0)return{value:1};if(I.length===1)if(I[0].type==="number"){if(I[0].floatt>=0||I[0].floatt<=1)return{value:I[0].floatt}}else{if(I[0].token==="false")return{value:0};if(I[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+I[0].token+")"}}})();var o3=Wo,c3={};const hT=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];c3.pitchIndex=function(e){return hT.indexOf(e)};c3.noteName=function(e){return hT[e]};var xj=c3,Zh=["C","C","D","D","E","F","F","G","G","A","A","B"],ep=["C","D","D","E","E","F","G","G","A","A","B","B"],tp=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],np=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function Ej(e,t,n,i){if(!t||t%12===0)return e;for(;t<0;)t+=12;t>11&&(t=t%12);var s=e.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!s)return e;var o=s[1],c=s[2],u=s[3],d=s[4],h=Zh.indexOf(o);if(h<0&&(h=ep.indexOf(o)),h<0&&(h=tp.indexOf(o)),h<0&&(h=np.indexOf(o)),h<0)return e;h+=t,h=h%12,n?i?e=np[h]:e=ep[h]:i?e=tp[h]:e=Zh[h];var m=c&&(c.indexOf("dim")>=0||c.indexOf("")>=0);if(m&&e==="A#"&&(e="Bb"),m&&e==="D#"&&(e="Eb"),m&&e==="A"&&(e="B"),m&&e==="D"&&(e="E"),c&&(e+=c),u){var h=Zh.indexOf(u);h<0&&(h=ep.indexOf(u)),h<0&&(h=tp.indexOf(u)),h<0&&(h=np.indexOf(u)),e+="/",h>=0?(h+=t,h=h%12,n?i?e+=np[h]:e+=ep[h]:i?e+=tp[h]:e+=Zh[h]):e+=u}return d&&(e+=d),e}var pT=Ej,Xo={C:{modes:["CMaj","CIon","Amin","AAeo","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","DbIon","Bbmin","BbAeo","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","DIon","Bmin","BAeo","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","EbIon","Cmin","CAeo","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","EIon","C#min","C#Aeo","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","FIon","Dmin","DAeo","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","GbIon","Ebmin","EbAeo","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","GIon","Emin","EAeo","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","AbIon","Fmin","FAeo","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","AIon","F#min","F#Aeo","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","BbIon","Gmin","GAeo","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","BIon","G#min","G#Aeo","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","C#Ion","A#min","A#Aeo","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","F#Ion","D#min","D#Aeo","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","CbIon","Abmin","AbAeo","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},Cj=["maj","ion","min","aeo","m","mix","dor","phr","lyd","loc"];function Tj(e){return Cj.indexOf(e.toLowerCase())>=0}var of=null;function Nj(){of={};for(var e=Object.keys(Xo),t=0;t<e.length;t++){var n=Xo[e[t]];of[e[t].toLowerCase()]=e[t];for(var i=0;i<n.modes.length;i++){var s=n.modes[i].toLowerCase();of[s]=e[t]}}}function _j(e){of||Nj();var t=e.toLowerCase().match(/([a-g][b#]?)(maj|ion|min|aeo|mix|dor|phr|lyd|loc|m)?/);if(!t||!t[2])return e;t=t[1]+t[2];var n=of[t];return n||e}function kj(e,t){var n=Xo[e];if(!n||t==="")return e;var i=t.toLowerCase().match(/^(maj|ion|min|aeo|mix|dor|phr|lyd|loc|m)/);if(!i)return e;for(var s=i[1],o=0;o<n.modes.length;o++){var c=n.modes[o],u=c.toLowerCase().indexOf(s);if(u!==-1&&u===c.length-s.length)return c.substring(0,c.length-s.length)}return e}function Dj(e,t){var n=Xo[e];if(!n)return e;for(;t<0;)t+=12;for(var i=(n.stepsFromC+t)%12,s=0;s<Object.keys(Xo).length;s++){var o=Object.keys(Xo)[s];if(Xo[o].stepsFromC===i)return o}return e}var vT={relativeMajor:_j,relativeMode:kj,transposeKey:Dj,isLegalMode:Tj},{relativeMajor:Aj}=vT,$o={acc:"sharp",note:"f"},fl={acc:"sharp",note:"c"},z0={acc:"sharp",note:"g"},rp={acc:"sharp",note:"d"},Ly={acc:"sharp",note:"A"},Yw={acc:"sharp",note:"e"},Oj={acc:"sharp",note:"B"},va={acc:"flat",note:"B"},bi={acc:"flat",note:"e"},zs={acc:"flat",note:"A"},V0={acc:"flat",note:"d"},Uy={acc:"flat",note:"G"},qw={acc:"flat",note:"c"},Rj={acc:"flat",note:"F"},Mj={"C#":[$o,fl,z0,rp,Ly,Yw,Oj],"F#":[$o,fl,z0,rp,Ly,Yw],B:[$o,fl,z0,rp,Ly],E:[$o,fl,z0,rp],A:[$o,fl,z0],D:[$o,fl],G:[$o],C:[],F:[va],Bb:[va,bi],Eb:[va,bi,zs],Cm:[va,bi,zs],Ab:[va,bi,zs,V0],Db:[va,bi,zs,V0,Uy],Gb:[va,bi,zs,V0,Uy,qw],Cb:[va,bi,zs,V0,Uy,qw,Rj],"A#":[va,bi],"B#":[],"D#":[va,bi,zs],"E#":[va],"G#":[va,bi,zs,V0],none:[]};function Ij(e){var t=Mj[Aj(e)];return t?JSON.parse(JSON.stringify(t)):null}var mT=Ij,Ww=xj,Lj=pT,Py=mT,cv={},Uj={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Pj=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],Bj=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];cv.keySignature=function(e,t,n,i,s){if(e.clef.type==="perc"||e.clef.type==="none")return{accidentals:Py(t),root:n,acc:i};s||(s=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var o=Py(t);if(!o)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+s,!e.localTranspose)return{accidentals:o,root:n,acc:i};if(e.globalTransposeOrigKeySig=o,e.localTranspose%12===0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:o,root:n,acc:i};var c=t[0];t[1]==="b"||t[1]==="#"?(c+=t[1],t=t.substr(2)):t=t.substr(1);var u=Uj[c],d=u!==void 0;d||(u=0,c="C",t="");for(var h=u+e.localTranspose;h<0;)h+=12;h>11&&(h=h%12);var m=t[0]==="m"?Bj[h]:Pj[h],p=m+t,g=Py(p);(g.length===0||g[0].acc==="flat")&&(e.localTransposePreferFlats=!0);var y=p.charCodeAt(0)-c.charCodeAt(0);return e.localTranspose>0?(y<0||y===0&&(c[1]==="#"||p[1]==="b"))&&(y+=7):e.localTranspose<0&&(y>0||y===0&&(c[1]==="b"||p[1]==="#"))&&(y-=7),e.localTranspose>0?e.localTransposeVerticalMovement=y+Math.floor(e.localTranspose/12)*7:e.localTransposeVerticalMovement=y+Math.ceil(e.localTranspose/12)*7,d?{accidentals:g,root:m[0],acc:m.length>1?m[1]:""}:{accidentals:[],root:n,acc:i}};cv.chordName=function(e,t){return Lj(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var Xw=["c","d","e","f","g","a","b"];function Fj(e,t,n,i,s){for(var o=Xw[(e+49)%7],c=0,u=0;u<i.length;u++)i[u].note.toLowerCase()===o&&(c=By[i[u].acc]);for(var d=By[n],h=d-c,m=Xw[(t+49)%7],p=0,g=0;g<s.accidentals.length;g++)s.accidentals[g].note.toLowerCase()===m&&(p=By[s.accidentals[g].acc]);var y=h+p;return y<-2&&(t--,y+=m==="c"||m==="f"?1:2),y>2&&(t++,y-=m==="b"||m==="e"?1:2),[t,y]}var By={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},jj={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},zj={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};cv.note=function(e,t){if(!(!e.localTranspose||e.clef.type==="perc")){var n=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var i=t.accidental?t.name.substring(1):t.name,s=t.accidental?t.name[0]:"",o=Ww.pitchIndex(i);t.name=s+Ww.noteName(o+e.localTransposeVerticalMovement)}if(t.accidental){var c=Fj(n,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=c[0],t.accidental=jj[c[1]],t.name&&(t.name=zj[c[1]]+t.name.replace(/[_^=]/g,""))}}};var gT=cv,Qw=o3,Vj=gT,Lr={};(function(){var e,t,n,i;Lr.initialize=function(m,p,g,y,S){e=m,t=p,n=g,i=S},Lr.standardKey=function(m,p,g,y){return Vj.keySignature(n,m,p,g,y)};var s={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},o=function(m,p){var g=s[m],y=g?g.mid:0;return y+p};Lr.fixClef=function(m){var p=s[m.type];p&&(m.clefPos=p.pitch,m.type=p.clef)},Lr.deepCopyKey=function(m){var p={accidentals:[],root:m.root,acc:m.acc,mode:m.mode};return m.accidentals.forEach(function(g){p.accidentals.push(Object.assign({},g))}),p};var c={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};Lr.addPosToKey=function(m,p){var g=m.verticalPos;p.accidentals.forEach(function(y){var S=c[y.note];S=S-g,y.verticalPos=S}),p.impliedNaturals&&p.impliedNaturals.forEach(function(y){var S=c[y.note];S=S-g,y.verticalPos=S}),g<-10?(p.accidentals.forEach(function(y){y.verticalPos-=7,(y.verticalPos>=11||y.verticalPos===10&&y.acc==="flat")&&(y.verticalPos-=7),y.note==="A"&&y.acc==="sharp"&&(y.verticalPos-=7),(y.note==="G"||y.note==="F")&&y.acc==="flat"&&(y.verticalPos-=7)}),p.impliedNaturals&&p.impliedNaturals.forEach(function(y){y.verticalPos-=7,(y.verticalPos>=11||y.verticalPos===10&&y.acc==="flat")&&(y.verticalPos-=7),y.note==="A"&&y.acc==="sharp"&&(y.verticalPos-=7),(y.note==="G"||y.note==="F")&&y.acc==="flat"&&(y.verticalPos-=7)})):g<-4?(p.accidentals.forEach(function(y){y.verticalPos-=7,g===-8&&(y.note==="f"||y.note==="g")&&y.acc==="sharp"&&(y.verticalPos-=7)}),p.impliedNaturals&&p.impliedNaturals.forEach(function(y){y.verticalPos-=7,g===-8&&(y.note==="f"||y.note==="g")&&y.acc==="sharp"&&(y.verticalPos-=7)})):g>=7&&(p.accidentals.forEach(function(y){y.verticalPos+=7}),p.impliedNaturals&&p.impliedNaturals.forEach(function(y){y.verticalPos+=7}))},Lr.fixKey=function(m,p){var g=Object.assign({},p);return Lr.addPosToKey(m,g),g};var u=function(m){var p=0,g=m[p++];(g==="^"||g==="_")&&(g=m[p++]);var y=c[g];for(y===void 0&&(y=6);p<m.length;p++)if(m[p]===",")y-=7;else if(m[p]==="'")y+=7;else break;return{mid:y-6,str:m.substring(p)}},d=function(m){for(var p=0;p<m.length;p++)m[p].note==="b"?m[p].note="B":m[p].note==="a"?m[p].note="A":m[p].note==="F"?m[p].note="f":m[p].note==="E"?m[p].note="e":m[p].note==="D"?m[p].note="d":m[p].note==="C"?m[p].note="c":m[p].note==="G"&&m[p].acc==="sharp"?m[p].note="g":m[p].note==="g"&&m[p].acc==="flat"&&(m[p].note="G")};Lr.parseKey=function(m,p){m.length===0&&(m="none");var g=e.tokenize(m,0,m.length),y={};if(g.length===0)return t("Must pass in key signature.",m,0),y;switch(g[0].token){case"HP":Qw.addDirective("bagpipes"),n.key={root:"HP",accidentals:[],acc:"",mode:""},y.foundKey=!0,g.shift();break;case"Hp":Qw.addDirective("bagpipes"),n.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},y.foundKey=!0,g.shift();break;case"none":n.key={root:"none",accidentals:[],acc:"",mode:""},y.foundKey=!0,g.shift();break;default:var S=e.getKeyPitch(g[0].token);if(S.len>0){y.foundKey=!0;var x="",E="";g[0].token.length>1?g[0].token=g[0].token.substring(1):g.shift();var _=S.token;if(g.length>0){var T=e.getSharpFlat(g[0].token);if(T.len>0&&(g[0].token.length>1?g[0].token=g[0].token.substring(1):g.shift(),_+=T.token,x=T.token),g.length>0){var O=e.getMode(g[0].token);O.len>0&&(g.shift(),_+=O.token,E=O.token)}if(Lr.standardKey(_,S.token,x,0)===void 0)return t("Unsupported key signature: "+_,m,0),y}var N=Lr.deepCopyKey(n.key),D=!p&&n.globalTranspose?-n.globalTranspose:0,R;if(p&&(R=n.globalTransposeOrigKeySig),n.key=Lr.deepCopyKey(Lr.standardKey(_,S.token,x,D)),p&&(n.globalTransposeOrigKeySig=R),n.key.mode=E,N&&n.keywarn!==!1){for(var P,U=0;U<n.key.accidentals.length;U++)for(P=0;P<N.accidentals.length;P++)N.accidentals[P].note&&n.key.accidentals[U].note.toLowerCase()===N.accidentals[P].note.toLowerCase()&&(N.accidentals[P].note=null);for(P=0;P<N.accidentals.length;P++)N.accidentals[P].note&&(n.key.impliedNaturals||(n.key.impliedNaturals=[]),n.key.impliedNaturals.push({acc:"natural",note:N.accidentals[P].note}))}}break}if(g.length===0||(g[0].token==="exp"&&g.shift(),g.length===0)||(g[0].token==="oct"&&g.shift(),g.length===0))return y;var F=e.getKeyAccidentals2(g);if(F.warn&&t(F.warn,m,0),F.accs){y.foundKey||(y.foundKey=!0,n.key={root:"none",acc:"",mode:"",accidentals:[]}),d(F.accs);for(var H=0;H<F.accs.length;H++){for(var Y=!1,$=0;$<n.key.accidentals.length&&!Y;$++)n.key.accidentals[$].note===F.accs[H].note&&(Y=!0,n.key.accidentals[$].acc!==F.accs[H].acc&&(n.key.accidentals[$].acc=F.accs[H].acc,n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(F.accs[H])));if(!Y&&(n.key.explicitAccidentals||(n.key.explicitAccidentals=[]),n.key.explicitAccidentals.push(F.accs[H]),n.key.accidentals.push(F.accs[H]),n.key.impliedNaturals))for(var G=0;G<n.key.impliedNaturals.length;G++)n.key.impliedNaturals[G].note===F.accs[H].note&&n.key.impliedNaturals.splice(G,1)}}for(var ce;g.length>0;)switch(g[0].token){case"m":case"middle":if(g.shift(),g.length===0)return t("Expected = after middle",m,0),y;if(ce=g.shift(),ce.token!=="="){t("Expected = after middle",m,ce.start);break}if(g.length===0)return t("Expected parameter after middle=",m,0),y;var Se=e.getPitchFromTokens(g);Se.warn&&t(Se.warn,m,0),Se.position&&(n.clef.verticalPos=Se.position-6);break;case"transpose":if(g.shift(),g.length===0)return t("Expected = after transpose",m,0),y;if(ce=g.shift(),ce.token!=="="){t("Expected = after transpose",m,ce.start);break}if(g.length===0)return t("Expected parameter after transpose=",m,0),y;if(g[0].type!=="number"){t("Expected number after transpose",m,g[0].start);break}n.clef.transpose=g[0].intt,g.shift();break;case"stafflines":if(g.shift(),g.length===0)return t("Expected = after stafflines",m,0),y;if(ce=g.shift(),ce.token!=="="){t("Expected = after stafflines",m,ce.start);break}if(g.length===0)return t("Expected parameter after stafflines=",m,0),y;if(g[0].type!=="number"){t("Expected number after stafflines",m,g[0].start);break}n.clef.stafflines=g[0].intt,g.shift();break;case"staffscale":if(g.shift(),g.length===0)return t("Expected = after staffscale",m,0),y;if(ce=g.shift(),ce.token!=="="){t("Expected = after staffscale",m,ce.start);break}if(g.length===0)return t("Expected parameter after staffscale=",m,0),y;if(g[0].type!=="number"){t("Expected number after staffscale",m,g[0].start);break}n.clef.staffscale=g[0].floatt,g.shift();break;case"octave":if(g.shift(),g.length===0)return t("Expected = after octave",m,0),y;if(ce=g.shift(),ce.token!=="="){t("Expected = after octave",m,ce.start);break}if(g.length===0)return t("Expected parameter after octave=",m,0),y;if(g[0].type!=="number"){t("Expected number after octave",m,g[0].start);break}n.octave=g[0].intt,g.shift();break;case"style":if(g.shift(),g.length===0)return t("Expected = after style",m,0),y;if(ce=g.shift(),ce.token!=="="){t("Expected = after style",m,ce.start);break}if(g.length===0)return t("Expected parameter after style=",m,0),y;switch(g[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":n.style=g[0].token,g.shift();break;default:t("error parsing style element: "+g[0].token,m,g[0].start);break}break;case"clef":if(g.shift(),g.length===0)return t("Expected = after clef",m,0),y;if(ce=g.shift(),ce.token!=="="){t("Expected = after clef",m,ce.start);break}if(g.length===0)return t("Expected parameter after clef=",m,0),y;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var ee=g.shift();switch(ee.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":ee.token="alto";break;case"F":ee.token="bass";break;case"G":ee.token="treble";break;case"c":ee.token="alto";break;case"f":ee.token="bass";break;case"g":ee.token="treble";break;default:t("Expected clef name. Found "+ee.token,m,ee.start);break}g.length>0&&g[0].type==="number"&&(ee.token+=g[0].token,g.shift()),g.length>1&&(g[0].token==="-"||g[0].token==="+"||g[0].token==="^"||g[0].token==="_")&&g[1].token==="8"&&(ee.token+=g[0].token+g[1].token,g.shift(),g.shift()),n.clef={type:ee.token,verticalPos:o(ee.token,0)},n.currentVoice&&n.currentVoice.transpose!==void 0&&(n.clef.transpose=n.currentVoice.transpose),y.foundClef=!0;break;default:t("Unknown parameter: "+g[0].token,m,g[0].start),g.shift()}return y};var h=function(m){var p=n.voices[m];if(!(n.currentVoice&&n.currentVoice.index===p.index&&n.currentVoice.staffNum===p.staffNum))return n.currentVoice=p,i.setCurrentVoice(p.staffNum,p.index,m)};Lr.parseVoice=function(m,p,g){var y=e.getMeat(m,p,g),S=y.start,x=y.end,E=e.getToken(m,S,x);if(E.length===0){t("Expected a voice id",m,S);return}var _=!1;n.voices[E]===void 0&&(n.voices[E]={},_=!0,n.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",m,S)),S+=E.length,S+=e.eatWhiteSpace(m,S);for(var T={startStaff:_},O=function(Se){var ee=e.getVoiceToken(m,S,x);ee.warn!==void 0?t("Expected value for "+Se+" in voice: "+ee.warn,m,S):ee.err!==void 0?t("Expected value for "+Se+" in voice: "+ee.err,m,S):ee.token.length===0&&m[S]!=='"'?t("Expected value for "+Se+" in voice",m,S):T[Se]=ee.token,S+=ee.len},N=function(Se,ee,I){var j=e.getVoiceToken(m,S,x);j.warn!==void 0?t("Expected value for "+ee+" in voice: "+j.warn,m,S):j.err!==void 0?t("Expected value for "+ee+" in voice: "+j.err,m,S):j.token.length===0&&m[S]!=='"'?t("Expected value for "+ee+" in voice",m,S):(j.token=parseFloat(j.token),n.voices[Se][ee]=j.token),S+=j.len},D=function(Se,ee){var I=e.getVoiceToken(m,S,x);if(I.warn!==void 0)t("Expected value for "+Se+" in voice: "+I.warn,m,S);else if(I.err!==void 0)t("Expected value for "+Se+" in voice: "+I.err,m,S);else if(I.token.length===0&&m[S]!=='"')t("Expected value for "+Se+" in voice",m,S);else return I.token;S+=I.len},R=function(Se,ee){var I={_B:2,_E:9,_b:-10,_e:-3},j=e.getVoiceToken(m,S,x);if(j.warn!==void 0)t("Expected one of (_B, _E, _b, _e) for "+ee+" in voice: "+j.warn,m,S);else if(j.token.length===0&&m[S]!=='"')t("Expected one of (_B, _E, _b, _e) for "+ee+" in voice",m,S);else{var X=I[j.token];X?n.voices[Se][ee]=X:t("Expected one of (_B, _E, _b, _e) for "+ee+" in voice",m,S)}S+=j.len};S<x;){var P=e.getVoiceToken(m,S,x);if(S+=P.len,P.warn)t("Error parsing voice: "+P.warn,m,S);else{var U=null;switch(P.token){case"clef":case"cl":O("clef");var F=0;T.clef!==void 0&&(T.clef=T.clef.replace(/[',]/g,""),T.clef.indexOf("+16")!==-1&&(F+=14,T.clef=T.clef.replace("+16","")),T.verticalPos=o(T.clef,F));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":case"treble+8":case"treble-8":case"treble^8":case"treble_8":case"treble1":case"treble2":case"treble3":case"treble4":case"treble5":case"bass+8":case"bass-8":case"bass^8":case"bass_8":case"bass+16":case"bass-16":case"bass^16":case"bass_16":case"bass1":case"bass2":case"bass3":case"bass4":case"bass5":case"tenor1":case"tenor2":case"tenor3":case"tenor4":case"tenor5":case"alto1":case"alto2":case"alto3":case"alto4":case"alto5":case"alto+8":case"alto-8":case"alto^8":case"alto_8":var H=0;T.clef=P.token.replace(/[',]/g,""),T.verticalPos=o(T.clef,H),n.voices[E].clef=P.token;break;case"staves":case"stave":case"stv":O("staves");break;case"brace":case"brc":O("brace");break;case"bracket":case"brk":O("bracket");break;case"name":case"nm":O("name");break;case"subname":case"sname":case"snm":O("subname");break;case"merge":T.startStaff=!1;break;case"stem":case"stems":U=e.getVoiceToken(m,S,x),U.warn!==void 0?t("Expected value for stems in voice: "+U.warn,m,S):U.err!==void 0?t("Expected value for stems in voice: "+U.err,m,S):U.token==="up"||U.token==="down"?n.voices[E].stem=U.token:t("Expected up or down for voice stem",m,S),S+=U.len;break;case"up":case"down":n.voices[E].stem=P.token;break;case"middle":case"m":O("verticalPos"),T.verticalPos=u(T.verticalPos).mid;break;case"gchords":case"gch":n.voices[E].suppressChords=!0,U=e.getVoiceToken(m,S,x),U.token==="0"&&(S=S+U.len);break;case"space":case"spc":O("spacing");break;case"scale":N(E,"scale");break;case"score":R(E,"scoreTranspose");break;case"transpose":N(E,"transpose");break;case"stafflines":N(E,"stafflines");break;case"staffscale":N(E,"staffscale");break;case"octave":N(E,"octave");break;case"volume":N(E,"volume");break;case"cue":var Y=D("cue");Y==="on"?n.voices[E].scale=.6:n.voices[E].scale=1;break;case"style":U=e.getVoiceToken(m,S,x),U.warn!==void 0?t("Expected value for style in voice: "+U.warn,m,S):U.err!==void 0?t("Expected value for style in voice: "+U.err,m,S):U.token==="normal"||U.token==="harmonic"||U.token==="rhythm"||U.token==="x"||U.token==="triangle"?n.voices[E].style=U.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",m,S),S+=U.len;break}}S+=e.eatWhiteSpace(m,S)}if((T.startStaff||n.staves.length===0)&&(n.staves.push({index:n.staves.length,meter:n.origMeter}),n.score_is_present||(n.staves[n.staves.length-1].numVoices=0)),n.voices[E].staffNum===void 0){n.voices[E].staffNum=n.staves.length-1;var $=0;for(var G in n.voices)n.voices.hasOwnProperty(G)&&n.voices[G].staffNum===n.voices[E].staffNum&&$++;n.voices[E].index=$-1}var ce=n.staves[n.voices[E].staffNum];return n.score_is_present||ce.numVoices++,T.clef&&(ce.clef={type:T.clef,verticalPos:T.verticalPos}),T.spacing&&(ce.spacing_below_offset=T.spacing),T.verticalPos&&(ce.verticalPos=T.verticalPos),T.name&&(ce.name?ce.name.push(T.name):ce.name=[T.name]),T.subname&&(ce.subname?ce.subname.push(T.subname):ce.subname=[T.subname]),h(E)}})();var l3=Lr,ap=Ni,Si=o3,wi=l3,Hj=function(e,t,n,i,s){this.reset=function(u,d,h,m){wi.initialize(u,d,h,m,s),Si.initialize(u,d,h,m,s)},this.reset(e,t,n,i),this.setTitle=function(u,d){n.hasMainTitle?s.addSubtitle(u,{startChar:n.iChar,endChar:n.iChar+d+2}):(s.addMetaText("title",u,{startChar:n.iChar,endChar:n.iChar+d+2}),n.hasMainTitle=!0)},this.setMeter=function(u){if(u=e.stripComment(u),u==="C")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"common_time"};if(u==="C|")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"cut_time"};if(u==="o")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum"};if(u==="c")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum"};if(u==="o.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(u==="c.")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(u.length===0||u.toLowerCase()==="none")return n.havent_set_length===!0&&(n.default_length=.125,n.havent_set_length=!1),null;var d=e.tokenize(u,0,u.length);try{var h=function(){var x={value:0,num:""},E=d.shift();for(E.token==="("&&(E=d.shift());;){if(E.type!=="number")throw"Expected top number of meter";if(x.value+=parseInt(E.token),x.num+=E.token,d.length===0||d[0].token==="/")return x;if(E=d.shift(),E.token===")"){if(d.length===0||d[0].token==="/")return x;throw"Unexpected paren in meter"}if(E.token!=="."&&E.token!=="+"||(x.num+=E.token,d.length===0))throw"Expected top number of meter";E=d.shift()}return x},m=function(){var x=h();if(d.length===0)return x;var E=d.shift();if(E.token!=="/")throw"Expected slash in meter";if(E=d.shift(),E.type!=="number")throw"Expected bottom number of meter";return x.den=E.token,x.value=x.value/parseInt(x.den),x};if(d.length===0)throw"Expected meter definition in M: line";for(var p={type:"specified",value:[]},g=0;;){var y=m();g+=y.value;var S={num:y.num};if(y.den!==void 0&&(S.den=y.den),p.value.push(S),d.length===0)break}return n.havent_set_length===!0&&(n.default_length=g<.75?.0625:.125,n.havent_set_length=!1),p}catch(x){t(x,u,0)}return null},this.calcTempo=function(u){var d=.25;n.meter&&n.meter.type==="specified"?d=1/parseInt(n.meter.value[0].den):n.origMeter&&n.origMeter.type==="specified"&&(d=1/parseInt(n.origMeter.value[0].den));for(var h=0;h<u.duration;h++)u.duration[h]=d*u.duration[h];return u},this.resolveTempo=function(){n.tempo&&(this.calcTempo(n.tempo),i.metaText.tempo=n.tempo,delete n.tempo)},this.addUserDefinition=function(u,d,h){var m=u.indexOf("=",d);if(m===-1){t("Need an = in a macro definition",u,d);return}var p=ap.strip(u.substring(d,m)),g=ap.strip(u.substring(m+1));if(p.length!==1){t("Macro definitions can only be one character",u,d);return}var y="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(y.indexOf(p)===-1){t("Macro definitions must be H-Y, h-w, or tilde",u,d);return}if(g.length===0){t("Missing macro definition",u,d);return}n.macros===void 0&&(n.macros={}),n.macros[p]=g},this.setDefaultLength=function(u,d,h){var m=u.substring(d,h).replace(/ /g,""),p=m.split("/");if(p.length===2){var g=parseInt(p[0]),y=parseInt(p[1]);y>0&&(n.default_length=g/y,n.havent_set_length=!1)}else p.length===1&&p[0]==="1"&&(n.default_length=1,n.havent_set_length=!1)};var o={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(u,d,h,m){try{var p=e.tokenize(u,d,h);if(p.length===0)throw"Missing parameter in Q: field";var g={startChar:m+d-2,endChar:m+h},y=!0,S=p.shift();if(S.type==="quote"&&(g.preString=S.token,S=p.shift(),p.length===0))return o[g.preString.toLowerCase()]&&(g.bpm=o[g.preString.toLowerCase()],g.suppressBpm=!0),{type:"immediate",tempo:g};if(S.type==="alpha"&&S.token==="C"){if(p.length===0)throw"Missing tempo after C in Q: field";if(S=p.shift(),S.type==="punct"&&S.token==="="){if(p.length===0)throw"Missing tempo after = in Q: field";if(S=p.shift(),S.type!=="number")throw"Expected number after = in Q: field";g.duration=[1],g.bpm=parseInt(S.token)}else if(S.type==="number"){if(g.duration=[parseInt(S.token)],p.length===0)throw"Missing = after duration in Q: field";if(S=p.shift(),S.type!=="punct"||S.token!=="=")throw"Expected = after duration in Q: field";if(p.length===0)throw"Missing tempo after = in Q: field";if(S=p.shift(),S.type!=="number")throw"Expected number after = in Q: field";g.bpm=parseInt(S.token)}else throw"Expected number or equal after C in Q: field"}else if(S.type==="number"){var x=parseInt(S.token);if(p.length===0||p[0].type==="quote")g.duration=[1],g.bpm=x;else{if(y=!1,S=p.shift(),S.type!=="punct"&&S.token!=="/"||(S=p.shift(),S.type!=="number"))throw"Expected fraction in Q: field";var E=parseInt(S.token);for(g.duration=[x/E];p.length>0&&p[0].token!=="="&&p[0].type!=="quote";){if(S=p.shift(),S.type!=="number"||(x=parseInt(S.token),S=p.shift(),S.type!=="punct"&&S.token!=="/")||(S=p.shift(),S.type!=="number"))throw"Expected fraction in Q: field";E=parseInt(S.token),g.duration.push(x/E)}if(S=p.shift(),S.type!=="punct"&&S.token!=="=")throw"Expected = in Q: field";if(S=p.shift(),S.type!=="number")throw"Expected tempo in Q: field";g.bpm=parseInt(S.token)}}else throw"Unknown value in Q: field";if(p.length!==0&&(S=p.shift(),S.type==="quote"&&(g.postString=S.token,S=p.shift()),p.length!==0))throw"Unexpected string at end of Q: field";return n.printTempo===!1&&(g.suppress=!0),{type:y?"delaySet":"immediate",tempo:g}}catch(_){return t(_,u,d),{type:"none"}}},this.letter_to_inline_header=function(u,d,h){var m=!1,p=e.eatWhiteSpace(u,d);if(d+=p,u.length>=d+5&&u[d]==="["&&u[d+2]===":"){var g=u.indexOf("]",d),y=n.iChar+d,S=n.iChar+g+1;switch(u.substring(d,d+3)){case"[I:":var x=Si.addDirective(u.substring(d+3,g));return x&&t(x,u,d),[g-d+1+p];case"[M:":var E=this.setMeter(u.substring(d+3,g));return s.hasBeginMusic()&&E?s.appendStartingElement("meter",y,S,E):n.meter=E,[g-d+1+p];case"[K:":var _=wi.parseKey(u.substring(d+3,g),!0);return _.foundClef&&s.hasBeginMusic()&&s.appendStartingElement("clef",y,S,n.clef),_.foundKey&&s.hasBeginMusic()&&s.appendStartingElement("key",y,S,wi.fixKey(n.clef,n.key)),[g-d+1+p];case"[P:":var T=Si.parseFontChangeLine(u.substring(d+3,g));return h||i.lines.length<=i.lineNum?n.partForNextLine={title:T,startChar:y,endChar:S}:s.appendElement("part",y,S,{title:T}),[g-d+1+p];case"[L:":return this.setDefaultLength(u,d+3,g),[g-d+1+p];case"[Q:":if(g>0){var O=this.setTempo(u,d+3,g,n.iChar);return O.type==="delaySet"?s.hasBeginMusic()?s.appendElement("tempo",y,S,this.calcTempo(O.tempo)):n.tempoForNextLine=["tempo",y,S,this.calcTempo(O.tempo)]:O.type==="immediate"&&(!h&&s.hasBeginMusic()?s.appendElement("tempo",y,S,O.tempo):n.tempoForNextLine=["tempo",y,S,O.tempo]),[g-d+1+p,u[d+1],u.substring(d+3,g)]}break;case"[V:":if(g>0)return m=wi.parseVoice(u,d+3,g),[g-d+1+p,u[d+1],u.substring(d+3,g),m];break;case"[r:":return[g-d+1+p]}}return[0]},this.letter_to_body_header=function(u,d){var h=!1;if(u.length>=d+3)switch(u.substring(d,d+2)){case"I:":var m=Si.addDirective(u.substring(d+2));return m&&t(m,u,d),[u.length];case"M:":var p=this.setMeter(u.substring(d+2));return s.hasBeginMusic()&&p&&s.appendStartingElement("meter",n.iChar+d,n.iChar+u.length,p),[u.length];case"K:":var g=wi.parseKey(u.substring(d+2),s.hasBeginMusic());return g.foundClef&&s.hasBeginMusic()&&n.keywarn!==!1&&s.appendStartingElement("clef",n.iChar+d,n.iChar+u.length,n.clef),g.foundKey&&s.hasBeginMusic()&&n.keywarn!==!1&&s.appendStartingElement("key",n.iChar+d,n.iChar+u.length,wi.fixKey(n.clef,n.key)),[u.length];case"P:":return s.hasBeginMusic()&&s.appendElement("part",n.iChar+d,n.iChar+u.length,{title:u.substring(d+2)}),[u.length];case"L:":return this.setDefaultLength(u,d+2,u.length),[u.length];case"Q:":var y=u.indexOf("",d+2);y===-1&&(y=u.length);var S=this.setTempo(u,d+2,y,n.iChar);return S.type==="delaySet"?s.appendElement("tempo",n.iChar+d,n.iChar+u.length,this.calcTempo(S.tempo)):S.type==="immediate"&&s.appendElement("tempo",n.iChar+d,n.iChar+u.length,S.tempo),[y,u[d],ap.strip(u.substring(d+2))];case"V:":return h=wi.parseVoice(u,d+2,u.length),[u.length,u[d],ap.strip(u.substring(d+2)),h]}return[0]};var c={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(u){var d=c[u[0]],h=u.length-2,m=e.translateString(e.stripComment(u.substring(2)));if(d==="unalignedWords"||d==="notes")s.addMetaTextArray(d,Si.parseFontChangeLine(m),{startChar:n.iChar,endChar:n.iChar+u.length});else if(d!==void 0)s.addMetaText(d,Si.parseFontChangeLine(m),{startChar:n.iChar,endChar:n.iChar+u.length});else{var p=n.iChar,g=p+u.length;switch(u[0]){case"H":for(s.addMetaTextArray("history",Si.parseFontChangeLine(m),{startChar:n.iChar,endChar:n.iChar+u.length}),u=e.peekLine();u&&u[1]!==":";)e.nextLine(),s.addMetaTextArray("history",Si.parseFontChangeLine(e.translateString(e.stripComment(u))),{startChar:n.iChar,endChar:n.iChar+u.length}),u=e.peekLine();break;case"K":this.resolveTempo();var y=wi.parseKey(u.substring(2),!1);!n.is_in_header&&s.hasBeginMusic()&&n.keywarn!==!1&&(y.foundClef&&s.appendStartingElement("clef",p,g,n.clef),y.foundKey&&s.appendStartingElement("key",p,g,wi.fixKey(n.clef,n.key))),n.is_in_header=!1;break;case"L":this.setDefaultLength(u,2,u.length);break;case"M":n.origMeter=n.meter=this.setMeter(u.substring(2));break;case"P":n.is_in_header?s.addMetaText("partOrder",Si.parseFontChangeLine(m),{startChar:n.iChar,endChar:n.iChar+u.length}):n.partForNextLine={title:m,startChar:p,endChar:g};break;case"Q":var S=this.setTempo(u,2,u.length,n.iChar);S.type==="delaySet"?n.tempo=S.tempo:S.type==="immediate"&&(i.metaText.tempo?n.tempoForNextLine=["tempo",p,g,S.tempo]:i.metaText.tempo=S.tempo);break;case"T":n.titlecaps&&(m=m.toUpperCase()),this.setTitle(Si.parseFontChangeLine(e.theReverser(m)),h);break;case"U":this.addUserDefinition(u,2,u.length);break;case"V":if(wi.parseVoice(u,2,u.length),!n.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",u,0);break;default:return{regular:!0}}}return{}}},$j=Hj,xa={};xa.legalAccents=["trill","trillh","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"];xa.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"];xa.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"];xa.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]];xa.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]];xa.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{";xa.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];xa.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};xa.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"};xa.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"};xa.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2};var Jw=l3,yT=gT,dn,En,J,Wa,Ya,nf,{legalAccents:Zw,volumeDecorations:ex,dynamicDecorations:tx,accentPseudonyms:nx,accentDynamicPseudonyms:rx,nonDecorations:Gj,durations:Kj,pitches:Yj,rests:qj,accMap:ax,tripletQ:Wj}=xa,u3=function(e,t,n,i,s,o){dn=e,En=t,J=n,Wa=i,Ya=s,nf=o,this.lineContinuation=!1},ix=function(e,t,n){if(e.inTie[t]===void 0)return!1;var i=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;return!!(e.inTie[t][i]&&(n.pitches!==void 0||n.rest.type!=="spacer"))},he={};u3.prototype.parseMusic=function(e){nf.resolveTempo(),J.is_in_header=!1;for(var t=0,n=J.iChar;dn.isWhiteSpace(e[t])&&t<e.length;)t++;if(!(t===e.length||e[t]==="%")){var i=J.start_new_line;J.continueall===void 0?J.start_new_line=!0:J.start_new_line=!1;var s=0,o=nf.letter_to_body_header(e,t);o[0]>0&&(t+=o[0],o[1]==="V"&&this.startNewLine());for(var c=0;t<e.length;){var u=t;if(e[t]==="%")break;var d=nf.letter_to_inline_header(e,t,i);if(d[0]>0)t+=d[0],d[1]==="V"&&(i=!0);else{(!Ya.hasBeginMusic()||i&&!this.lineContinuation)&&(this.startNewLine(),i=!1);for(var h;;)if(h=dn.eatWhiteSpace(e,t),h>0&&(t+=h),t>0&&e[t-1]===""&&(h=nf.letter_to_body_header(e,t),h[0]>0&&(h[1]==="V"&&this.startNewLine(),t=h[0],J.start_new_line=!1)),h=Zj(e,t),h[0]>0&&(t+=h[0]),h=Xj(e,t),h[0]>0){he.chord||(he.chord=[]);var m=dn.translateString(h[1]);m=m.replace(/;/g,`
`);for(var p=!1,g=0;g<he.chord.length;g++)he.chord[g].position===h[2]&&(p=!0,he.chord[g].name+=`
`+m);p===!1&&(h[2]===null&&h[3]?he.chord.push({name:m,rel_position:h[3]}):he.chord.push({name:m,position:h[2]})),t+=h[0];var y=dn.skipWhiteSpace(e.substring(t));y>0&&(he.force_end_beam_last=!0),t+=y}else if(Gj.indexOf(e[t])===-1?h=ox(e,t):h=[0],h[0]>0)h[1]===null?t+1<e.length&&this.startNewLine():h[1].length>0&&(h[1].indexOf("style=")===0?he.style=h[1].substr(6):(he.decoration===void 0&&(he.decoration=[]),h[1]==="beambr1"?he.beambr=1:h[1]==="beambr2"?he.beambr=2:he.decoration.push(h[1]))),t+=h[0];else if(h=Qj(e,t),h[0]>0)he.gracenotes=h[1],t+=h[0];else break;if(h=ez(e,t),h[0]>0){c=0,he.gracenotes!==void 0&&(he.rest={type:"spacer"},he.duration=.125,J.addFormattingOptions(he,Wa.formatting,"note"),Ya.appendElement("note",n+t,n+t+h[0],he),J.measureNotEmpty=!0,he={});var S={type:h[1]};S.type.length===0?En("Unknown bar type",e,t):(J.inEnding&&S.type!=="bar_thin"&&(S.endEnding=!0,J.inEnding=!1),h[2]&&(S.startEnding=h[2],J.inEnding&&(S.endEnding=!0),J.inEnding=!0,h[1]==="bar_right_repeat"?J.restoreStartEndingHoldOvers():J.duplicateStartEndingHoldOvers()),he.decoration!==void 0&&(S.decoration=he.decoration),he.chord!==void 0&&(S.chord=he.chord),S.startEnding&&J.barFirstEndingNum===void 0?J.barFirstEndingNum=J.currBarNumber:S.startEnding&&S.endEnding&&J.barFirstEndingNum?J.currBarNumber=J.barFirstEndingNum:S.endEnding&&(J.barFirstEndingNum=void 0),S.type!=="bar_invisible"&&J.measureNotEmpty&&_b()&&(J.currBarNumber++,J.barNumbers&&J.currBarNumber%J.barNumbers===0&&(S.barNumber=J.currBarNumber)),J.addFormattingOptions(he,Wa.formatting,"bar"),Ya.appendElement("bar",n+u,n+t+h[0],S),J.measureNotEmpty=!1,he={}),t+=h[0]}else if(e[t]==="&")h=Jj(e,t),h[0]>0&&(Ya.appendElement("overlay",n,n+1,{}),t+=1,c++);else{if(h=tz(e,t),h.consumed>0&&(h.startSlur!==void 0&&(he.startSlur=h.startSlur),h.dottedSlur&&(he.dottedSlur=!0),h.triplet!==void 0&&(s>0?En("Can't nest triplets",e,t):(he.startTriplet=h.triplet,he.tripletMultiplier=h.tripletQ/h.triplet,he.tripletR=h.num_notes,s=h.num_notes===void 0?h.triplet:h.num_notes)),t+=h.consumed),e[t]==="["){t++;for(var x=null,E=!1,_=!1;!_;){var T=ox(e,t);T[0]>0&&(t+=T[0]);var O=Nb(e,t,{},!1);if(O!==null&&O.pitch!==void 0)T[0]>0&&T[1].indexOf("style=")!==0&&(he.decoration===void 0&&(he.decoration=[]),he.decoration.push(T[1])),O.end_beam&&(he.end_beam=!0,delete O.end_beam),he.pitches===void 0?(he.duration=O.duration,he.pitches=[O]):he.pitches.push(O),delete O.duration,T[0]>0&&T[1].indexOf("style=")===0&&(he.pitches[he.pitches.length-1].style=T[1].substr(6)),J.inTieChord[he.pitches.length]&&(O.endTie=!0,J.inTieChord[he.pitches.length]=void 0),O.startTie&&(J.inTieChord[he.pitches.length]=!0),t=O.endChar,delete O.endChar;else if(e[t]===" ")En("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&e[t]==="]"){t++,J.next_note_duration!==0&&(he.duration=he.duration*J.next_note_duration,J.next_note_duration=0),ix(J,c,he)&&(he.pitches.forEach(function(Y){Y.endTie=!0}),H0(J,c,!1)),s>0&&!(he.rest&&he.rest.type==="spacer")&&(s--,s===0&&(he.endTriplet=!0));for(var N=!1;t<e.length&&!N;){switch(e[t]){case" ":case"	":cf(he);break;case")":he.endSlur===void 0?he.endSlur=1:he.endSlur++;break;case"-":he.pitches.forEach(function(Y){Y.startTie={}}),H0(J,c,!0);break;case">":case"<":var D=bT(e,t);t+=D[0]-1,J.next_note_duration=D[2],x?x=x*D[1]:x=D[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var R=dn.getFraction(e,t);x=R.value,t=R.index;var P=e[t];P===" "&&(E=!0),P==="-"||P===")"||P===" "||P==="<"||P===">"?t--:N=!0;break;case"0":x=0;break;default:N=!0;break}N||t++}}else En("Expected ']' to end the chords",e,t);he.pitches!==void 0&&(x!==null&&(he.duration=he.duration*x,E&&cf(he)),J.addFormattingOptions(he,Wa.formatting,"note"),Ya.appendElement("note",n+u,n+t,he),J.measureNotEmpty=!0,he={}),_=!0}}}else{var U={},F=Nb(e,t,U,!0);if(U.endTie!==void 0&&H0(J,c,!0),F!==null){F.pitch!==void 0?(he.pitches=[{}],F.accidental!==void 0&&(he.pitches[0].accidental=F.accidental),he.pitches[0].pitch=F.pitch,he.pitches[0].name=F.name,(F.midipitch||F.midipitch===0)&&(he.pitches[0].midipitch=F.midipitch),F.endSlur!==void 0&&(he.pitches[0].endSlur=F.endSlur),F.endTie!==void 0&&(he.pitches[0].endTie=F.endTie),F.startSlur!==void 0&&(he.pitches[0].startSlur=F.startSlur),he.startSlur!==void 0&&(he.pitches[0].startSlur=he.startSlur),he.dottedSlur!==void 0&&(he.pitches[0].dottedSlur=!0),F.startTie!==void 0&&(he.pitches[0].startTie=F.startTie),he.startTie!==void 0&&(he.pitches[0].startTie=he.startTie)):(he.rest=F.rest,F.rest.type==="multimeasure"&&_b()&&(J.currBarNumber+=F.rest.text-1),F.endSlur!==void 0&&(he.endSlur=F.endSlur),F.endTie!==void 0&&(he.rest.endTie=F.endTie),F.startSlur!==void 0&&(he.startSlur=F.startSlur),F.startTie!==void 0&&(he.rest.startTie=F.startTie),he.startTie!==void 0&&(he.rest.startTie=he.startTie)),F.chord!==void 0&&(he.chord=F.chord),F.duration!==void 0&&(he.duration=F.duration),F.decoration!==void 0&&(he.decoration=F.decoration),F.graceNotes!==void 0&&(he.graceNotes=F.graceNotes),delete he.startSlur,delete he.dottedSlur,ix(J,c,he)&&(he.pitches!==void 0?he.pitches[0].endTie=!0:he.rest.type!=="spacer"&&(he.rest.endTie=!0),H0(J,c,!1)),(F.startTie||he.startTie)&&H0(J,c,!0),t=F.endChar,s>0&&!(F.rest&&F.rest.type==="spacer")&&(s--,s===0&&(he.endTriplet=!0)),F.end_beam&&cf(he),he.rest&&he.rest.type==="rest"&&he.duration===1&&sx(J)<=1&&(he.rest.type="whole",he.duration=sx(J)),he.duration<1&&Kj.indexOf(he.duration)===-1&&he.duration!==0&&(!he.rest||he.rest.type!=="spacer")&&En("Duration not representable: "+e.substring(u,t),e,t),J.addFormattingOptions(he,Wa.formatting,"note");var H=Ya.appendElement("note",n+u,n+t,he);H||(this.startNewLine(),Ya.appendElement("note",n+u,n+t,he)),J.measureNotEmpty=!0,he={}}}t===u&&(e[t]!==" "&&e[t]!=="`"&&En("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("")>=0||o[0]>0,this.lineContinuation||(he={})}};var H0=function(e,t,n){var i=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;e.inTie[t]===void 0&&(e.inTie[t]=[]),e.inTie[t][i]=n},Xj=function(e,t){if(e[t]==='"'){var n=dn.getBrackettedSubstring(e,t,5);if(n[2]||En("Missing the closing quote while parsing the chord symbol",e,t),n[0]>0&&n[1].length>0&&n[1][0]==="^")n[1]=n[1].substring(1),n[2]="above";else if(n[0]>0&&n[1].length>0&&n[1][0]==="_")n[1]=n[1].substring(1),n[2]="below";else if(n[0]>0&&n[1].length>0&&n[1][0]==="<")n[1]=n[1].substring(1),n[2]="left";else if(n[0]>0&&n[1].length>0&&n[1][0]===">")n[1]=n[1].substring(1),n[2]="right";else if(n[0]>0&&n[1].length>0&&n[1][0]==="@"){n[1]=n[1].substring(1);var i=dn.getFloat(n[1]);if(i.digits===0)return En("Missing first position in absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;if(n[1]=n[1].substring(i.digits),n[1][0]!==",")return En("Missing comma absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;n[1]=n[1].substring(1);var s=dn.getFloat(n[1]);if(s.digits===0)return En("Missing second position in absolutely positioned annotation.",e,t),n[1]=n[1].replace("@",""),n[2]="above",n;n[1]=n[1].substring(s.digits);var o=dn.skipWhiteSpace(n[1]);n[1]=n[1].substring(o),n[2]=null,n[3]={x:i.value,y:s.value}}else J.freegchord!==!0&&(n[1]=n[1].replace(/([ABCDEFG0-9])b/g,"$1"),n[1]=n[1].replace(/([ABCDEFG0-9])#/g,"$1"),n[1]=n[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2$3"),n[1]=n[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2"),n[1]=n[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2$3"),n[1]=n[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2$3")),n[2]="default",n[1]=yT.chordName(J,n[1]);return n}return[0,""]},Qj=function(e,t){if(e[t]==="{"){var n=dn.getBrackettedSubstring(e,t,1,"}");n[2]||En("Missing the closing '}' while parsing grace note",e,t),e[t+n[0]]===")"&&(n[0]++,n[1]+=")");for(var i=[],s=0,o=!1;s<n[1].length;){var c=!1;n[1][s]==="/"&&(c=!0,s++);var u=Nb(n[1],s,{},!1);u!==null?(u.duration=u.duration/(J.default_length*8),c&&(u.acciaccatura=!0),u.rest?En("Rests not allowed as grace notes '"+n[1][s]+"' while parsing grace note",e,t):i.push(u),o&&(u.endTie=!0,o=!1),u.startTie&&(o=!0),s=u.endChar,delete u.endChar,u.end_beam&&(u.endBeam=!0,delete u.end_beam)):(n[1][s]===" "?i.length>0&&(i[i.length-1].endBeam=!0):En("Unknown character '"+n[1][s]+"' while parsing grace note",e,t),s++)}if(i.length)return[n[0],i]}return[0]};function Jj(e,t){if(e[t]==="&"){for(var n=t;e[t]&&e[t]!==":"&&e[t]!=="|";)t++;return[t-n,e.substring(n+1,t)]}return[0]}function sx(e){var t=e.origMeter;return!t||t.type!=="specified"||!t.value||t.value.length===0?1:parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10)}var ox=function(e,t){var n=J.macros[e[t]];if(n!==void 0)return(n[0]==="!"||n[0]==="+")&&(n=n.substring(1)),(n[n.length-1]==="!"||n[n.length-1]==="+")&&(n=n.substring(0,n.length-1)),Zw.includes(n)?[1,n]:ex.includes(n)?(J.volumePosition==="hidden"&&(n=""),[1,n]):tx.includes(n)?(J.dynamicPosition==="hidden"&&(n=""),[1,n]):(J.ignoredDecorations.includes(n)||En("Unknown macro: "+n,e,t),[1,""]);switch(e[t]){case".":if(e[t+1]==="("||e[t+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var i=dn.getBrackettedSubstring(e,t,5);if(i[1].length>1&&(i[1][0]==="^"||i[1][0]==="_")&&(i[1]=i[1].substring(1)),Zw.includes(i[1]))return i;if(ex.includes(i[1]))return J.volumePosition==="hidden"&&(i[1]=""),i;if(tx.includes(i[1]))return J.dynamicPosition==="hidden"&&(i[1]=""),i;var s=nx.findIndex(function(o){return i[1]===o[0]});return s>=0?(i[1]=nx[s][1],i):(s=rx.findIndex(function(o){return i[1]===o[0]}),s>=0?(i[1]=rx[s][1],J.dynamicPosition==="hidden"&&(i[1]=""),i):e[t]==="!"&&(i[0]===1||e[t+i[0]-1]!=="!")?[1,null]:(En("Unknown decoration: "+i[1],e,t),i[1]="",i));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"];case"t":return[1,"trillh"]}return[0,0]},Zj=function(e,t){for(var n=t;dn.isWhiteSpace(e[t]);)t++;return[t-n]},ez=function(e,t){var n=dn.getBarLine(e,t);if(n.len===0)return[0,""];if(n.warn)return En(n.warn,e,t),[n.len,""];for(var i=0;i<e.length&&e[t+n.len+i]===" ";i++);var s=n.len;if(e[t+n.len+i]==="["&&(n.len+=i+1),e[t+n.len]==='"'&&e[t+n.len-1]==="["){var o=dn.getBrackettedSubstring(e,t+n.len,5);return[n.len+o[0],n.token,o[1]]}var c=dn.getTokenOf(e.substring(t+n.len),"1234567890-,");return c.len===0||c.token[0]==="-"?[s,n.token]:[n.len+c.len,n.token,c.token]},tz=function(e,t){var n={},i=t;for(e[t]==="."&&e[t+1]==="("&&(n.dottedSlur=!0,t++);e[t]==="("||dn.isWhiteSpace(e[t]);)e[t]==="("&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(n.triplet!==void 0?En("Can't nest triplets",e,t):(n.triplet=e[t+1]-"0",n.tripletQ=Wj[n.triplet],n.num_notes=n.triplet,t+2<e.length&&e[t+2]===":"&&(t+3<e.length&&e[t+3]===":"?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(n.num_notes=e[t+4]-"0",t+=3):En("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(n.tripletQ=e[t+3]-"0",t+4<e.length&&e[t+4]===":"?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(n.num_notes=e[t+5]-"0",t+=4):t+=2):En("expected number after the triplet to mark the duration",e,t))),t++):n.startSlur===void 0?n.startSlur=1:n.startSlur++),t++;return n.consumed=t-i,n};u3.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};J.partForNextLine.title&&(e.part=J.partForNextLine),e.clef=J.currentVoice&&J.staves[J.currentVoice.staffNum].clef!==void 0?Object.assign({},J.staves[J.currentVoice.staffNum].clef):Object.assign({},J.clef);var t=J.currentVoice?J.currentVoice.scoreTranspose:0;if(e.key=Jw.standardKey(J.key.root+J.key.acc+J.key.mode,J.key.root,J.key.acc,t),e.key.mode=J.key.mode,J.key.impliedNaturals&&(e.key.impliedNaturals=J.key.impliedNaturals),J.key.explicitAccidentals)for(var n=0;n<J.key.explicitAccidentals.length;n++){for(var i=!1,s=0;s<e.key.accidentals.length;s++)e.key.accidentals[s].note===J.key.explicitAccidentals[n].note&&(e.key.accidentals[s].acc=J.key.explicitAccidentals[n].acc,i=!0);i||e.key.accidentals.push(J.key.explicitAccidentals[n])}if(J.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,Jw.addPosToKey(e.clef,e.key),J.meter!==null?(J.currentVoice?(J.staves.forEach(function(d){d.meter=J.meter}),e.meter=J.staves[J.currentVoice.staffNum].meter,J.staves[J.currentVoice.staffNum].meter=null):e.meter=J.meter,J.meter=null):J.currentVoice&&J.staves[J.currentVoice.staffNum].meter&&(e.meter=J.staves[J.currentVoice.staffNum].meter,J.staves[J.currentVoice.staffNum].meter=null),J.currentVoice&&J.currentVoice.name&&(e.name=J.currentVoice.name),J.vocalfont&&(e.vocalfont=J.vocalfont),J.tripletfont&&(e.tripletfont=J.tripletfont),J.gchordfont&&(e.gchordfont=J.gchordfont),J.style&&(e.style=J.style),J.currentVoice){var o=J.staves[J.currentVoice.staffNum];o.brace&&(e.brace=o.brace),o.bracket&&(e.bracket=o.bracket),o.connectBarLines&&(e.connectBarLines=o.connectBarLines),o.name&&(e.name=o.name[J.currentVoice.index]),o.subname&&(e.subname=o.subname[J.currentVoice.index]),J.currentVoice.stem&&(e.stem=J.currentVoice.stem),J.currentVoice.stafflines&&(e.stafflines=J.currentVoice.stafflines),J.currentVoice.staffscale&&(e.staffscale=J.currentVoice.staffscale),J.currentVoice.scale&&(e.scale=J.currentVoice.scale),J.currentVoice.color&&(e.color=J.currentVoice.color),J.currentVoice.style&&(e.style=J.currentVoice.style),J.currentVoice.transpose&&(e.clef.transpose=J.currentVoice.transpose),e.currentVoice=J.currentVoice;for(var c=Object.keys(J.voices),u=0;u<c.length;u++)e.currentVoice.staffNum===J.voices[c[u]].staffNum&&e.currentVoice.index===J.voices[c[u]].index&&(e.currentVoiceName=c[u])}J.barNumbers===0&&_b()&&J.currBarNumber!==1&&(e.barNumber=J.currBarNumber),Ya.startNewLine(e),J.key.impliedNaturals&&delete J.key.impliedNaturals,J.partForNextLine={},J.tempoForNextLine.length===4&&Ya.appendElement(J.tempoForNextLine[0],J.tempoForNextLine[1],J.tempoForNextLine[2],J.tempoForNextLine[3]),J.tempoForNextLine=[]};var cf=function(e){return e.duration!==void 0&&e.duration<.25&&(e.end_beam=!0),e},Nb=function(e,t,n,i){var s=function(g){return g==="octave"||g==="duration"||g==="Zduration"||g==="broken_rhythm"||g==="end_slur"},o;e[t]==="."&&e[t+1]==="-"&&(o=!0,t++);for(var c="startSlur",u=!1;;){switch(e[t]){case"(":if(c==="startSlur")n.startSlur===void 0?n.startSlur=1:n.startSlur++;else return s(c)?(n.endChar=t,n):null;break;case")":if(s(c))n.endSlur===void 0?n.endSlur=1:n.endSlur++;else return null;break;case"^":if(c==="startSlur")n.accidental="sharp",c="sharp2";else if(c==="sharp2")n.accidental="dblsharp",c="pitch";else return s(c)?(n.endChar=t,n):null;break;case"_":if(c==="startSlur")n.accidental="flat",c="flat2";else if(c==="flat2")n.accidental="dblflat",c="pitch";else return s(c)?(n.endChar=t,n):null;break;case"=":if(c==="startSlur")n.accidental="natural",c="pitch";else return s(c)?(n.endChar=t,n):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(c==="startSlur"||c==="sharp2"||c==="flat2"||c==="pitch"){if(n.pitch=Yj[e[t]],n.pitch+=7*(J.currentVoice&&J.currentVoice.octave!==void 0?J.currentVoice.octave:J.octave),n.name=e[t],n.accidental&&(n.name=ax[n.accidental]+n.name),yT.note(J,n),c="octave",i&&J.next_note_duration!==0?(n.duration=J.default_length*J.next_note_duration,J.next_note_duration=0,u=!0):n.duration=J.default_length,J.clef&&J.clef.type==="perc"||J.currentVoice&&J.currentVoice.clef==="perc"){var d=e[t];n.accidental&&(d=ax[n.accidental]+d),Wa.formatting&&Wa.formatting.midi&&Wa.formatting.midi.drummap&&(n.midipitch=Wa.formatting.midi.drummap[d])}}else return s(c)?(n.endChar=t,n):null;break;case",":if(c==="octave")n.pitch-=7,n.name+=",";else return s(c)?(n.endChar=t,n):null;break;case"'":if(c==="octave")n.pitch+=7,n.name+="'";else return s(c)?(n.endChar=t,n):null;break;case"x":case"X":case"y":case"z":case"Z":if(c==="startSlur")n.rest={type:qj[e[t]]},delete n.accidental,delete n.startSlur,delete n.startTie,delete n.endSlur,delete n.endTie,delete n.end_beam,delete n.grace_notes,n.rest.type.indexOf("multimeasure")>=0?(n.duration=Wa.getBarLength(),n.rest.text=1,c="Zduration"):(i&&J.next_note_duration!==0?(n.duration=J.default_length*J.next_note_duration,J.next_note_duration=0,u=!0):n.duration=J.default_length,c="duration");else return s(c)?(n.endChar=t,n):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(c==="octave"||c==="duration"){var h=dn.getFraction(e,t);for(n.duration=n.duration*h.value,n.endChar=h.index;h.index<e.length&&(dn.isWhiteSpace(e[h.index])||e[h.index]==="-");)e[h.index]==="-"?n.startTie={}:n=cf(n),h.index++;t=h.index-1,c="broken_rhythm"}else if(c==="sharp2")n.accidental="quartersharp",c="pitch";else if(c==="flat2")n.accidental="quarterflat",c="pitch";else if(c==="Zduration"){var m=dn.getNumber(e,t);return n.duration=m.num*Wa.getBarLength(),n.rest.text=m.num,n.endChar=m.index,n}else return null;break;case"-":if(c==="startSlur")Ya.addTieToLastNote(o),n.endTie=!0;else if(c==="octave"||c==="duration"||c==="end_slur")if(n.startTie={},!u&&i)c="broken_rhythm";else return dn.isWhiteSpace(e[t+1])&&cf(n),n.endChar=t+1,n;else return c==="broken_rhythm"?(n.endChar=t,n):null;break;case" ":case"	":if(s(c)){n.end_beam=!0,o=!1;do e[t]==="."&&e[t+1]==="-"&&(o=!0,t++),e[t]==="-"&&(n.startTie={},o&&(n.startTie.style="dotted")),t++;while(t<e.length&&(dn.isWhiteSpace(e[t])||e[t]==="-")||e[t]==="."&&e[t+1]==="-");if(n.endChar=t,!u&&i&&(e[t]==="<"||e[t]===">"))t--,c="broken_rhythm";else return n}else return null;break;case">":case"<":if(s(c))if(i){var p=bT(e,t);t+=p[0]-1,J.next_note_duration=p[2],n.duration=p[1]*n.duration,c="end_slur"}else return n.endChar=t,n;else return null;break;default:return s(c)?(n.endChar=t,n):null}if(t++,t===e.length)return s(c)?(n.endChar=t,n):null}return null},bT=function(e,t){switch(e[t]){case">":return t<e.length-2&&e[t+1]===">"&&e[t+2]===">"?[3,1.875,.125]:t<e.length-1&&e[t+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&e[t+1]==="<"&&e[t+2]==="<"?[3,.125,1.875]:t<e.length-1&&e[t+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function _b(){return J.currentVoice===void 0||J.currentVoice.staffNum===0&&J.currentVoice.index===0}var nz=u3,fr=Ni,f3=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(p){for(var g=0;g<p.length;g++)if(!this.isWhiteSpace(p[g]))return g;return p.length};var n=function(p,g){return g>=p.length};this.eatWhiteSpace=function(p,g){for(var y=g;y<p.length;y++)if(!this.isWhiteSpace(p[y]))return y-g;return y-g},this.getKeyPitch=function(p){var g=this.skipWhiteSpace(p);if(n(p,g))return{len:0};switch(p[g]){case"A":return{len:g+1,token:"A"};case"B":return{len:g+1,token:"B"};case"C":return{len:g+1,token:"C"};case"D":return{len:g+1,token:"D"};case"E":return{len:g+1,token:"E"};case"F":return{len:g+1,token:"F"};case"G":return{len:g+1,token:"G"}}return{len:0}},this.getSharpFlat=function(p){if(p==="bass")return{len:0};switch(p[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(p){var g=function(x,E){for(;E<x.length&&(x[E]>="a"&&x[E]<="z"||x[E]>="A"&&x[E]<="Z");)E++;return E},y=this.skipWhiteSpace(p);if(n(p,y))return{len:0};var S=p.substring(y,y+3).toLowerCase();switch((S.length>1&&S[1]===" "||S[1]==="^"||S[1]==="_"||S[1]==="=")&&(S=S[0]),S){case"mix":return{len:g(p,y),token:"Mix"};case"dor":return{len:g(p,y),token:"Dor"};case"phr":return{len:g(p,y),token:"Phr"};case"lyd":return{len:g(p,y),token:"Lyd"};case"loc":return{len:g(p,y),token:"Loc"};case"aeo":return{len:g(p,y),token:"m"};case"maj":return{len:g(p,y),token:""};case"ion":return{len:g(p,y),token:""};case"min":return{len:g(p,y),token:"m"};case"m":return{len:g(p,y),token:"m"}}return{len:0}},this.getClef=function(p,g){var y=p,S=this.skipWhiteSpace(p);if(n(p,S))return{len:0};var x=!1,E=p.substring(S);if(fr.startsWith(E,"clef=")&&(x=!0,E=E.substring(5),S+=5),E.length===0&&x)return{len:S+5,warn:"No clef specified: "+y};var _=this.skipWhiteSpace(E);if(n(E,_))return{len:0};_>0&&(S+=_,E=E.substring(_));var T=null;if(fr.startsWith(E,"treble"))T="treble";else if(fr.startsWith(E,"bass3"))T="bass3";else if(fr.startsWith(E,"bass"))T="bass";else if(fr.startsWith(E,"tenor"))T="tenor";else if(fr.startsWith(E,"alto2"))T="alto2";else if(fr.startsWith(E,"alto1"))T="alto1";else if(fr.startsWith(E,"alto"))T="alto";else if(!g&&x&&fr.startsWith(E,"none"))T="none";else if(fr.startsWith(E,"perc"))T="perc";else if(!g&&x&&fr.startsWith(E,"C"))T="tenor";else if(!g&&x&&fr.startsWith(E,"F"))T="bass";else if(!g&&x&&fr.startsWith(E,"G"))T="treble";else return{len:S+5,warn:"Unknown clef specified: "+y};return E=E.substring(T.length),_=this.isMatch(E,"+8"),_>0?T+="+8":(_=this.isMatch(E,"-8"),_>0&&(T+="-8")),{len:S+T.length,token:T,explicit:x}},this.getBarLine=function(p,g){switch(p[g]){case"]":switch(++g,p[g]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++g,p[g]>="1"&&p[g]<="9"||p[g]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++g,p[g]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++g,p[g]){case"]":switch(++g,p[g]){case"|":return++g,p[g]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++g,p[g]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++g,p[g]==="|")switch(++g,p[g]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return p[g]>="1"&&p[g]<="9"||p[g]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++g,p[g]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++g,p[g]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var y=0;p[g+y]===":";)y++;return{len:1+y,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(p,g){for(var y=0;y<p.length;y++)if(g.indexOf(p[y])<0)return{len:y,token:p.substring(0,y)};return{len:y,token:p}},this.getToken=function(p,g,y){for(var S=g;S<y&&!this.isWhiteSpace(p[S]);)S++;return p.substring(g,S)},this.isMatch=function(p,g){var y=this.skipWhiteSpace(p);return n(p,y)?0:fr.startsWith(p.substring(y),g)?y+g.length:0},this.getPitchFromTokens=function(p){var g={},y={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(g.position=y[p[0].token],g.position===void 0)return{warn:"Pitch expected. Found: "+p[0].token};for(p.shift();p.length;)switch(p[0].token){case",":g.position-=7,p.shift();break;case"'":g.position+=7,p.shift();break;default:return g}return g},this.getKeyAccidentals2=function(p){for(var g;p.length>0;){var y;if(p[0].token==="^"){if(y="sharp",p.shift(),p.length===0)return{accs:g,warn:"Expected note name after "+y};switch(p[0].token){case"^":y="dblsharp",p.shift();break;case"/":y="quartersharp",p.shift();break}}else if(p[0].token==="=")y="natural",p.shift();else if(p[0].token==="_"){if(y="flat",p.shift(),p.length===0)return{accs:g,warn:"Expected note name after "+y};switch(p[0].token){case"_":y="dblflat",p.shift();break;case"/":y="quarterflat",p.shift();break}}else return{accs:g};if(p.length===0)return{accs:g,warn:"Expected note name after "+y};switch(p[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":g===void 0&&(g=[]),g.push({acc:y,note:p[0].token[0]}),p[0].token.length===1?p.shift():p[0].token=p[0].token.substring(1);break;default:return{accs:g,warn:"Expected note name after "+y+" Found: "+p[0].token}}}return{accs:g}},this.getKeyAccidental=function(p){var g={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},y=this.skipWhiteSpace(p);if(n(p,y))return{len:0};var S=null;switch(p[y]){case"^":case"_":case"=":S=p[y];break;default:return{len:0}}if(y++,n(p,y))return{len:1,warn:"Expected note name after accidental"};switch(p[y]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:y+1,token:{acc:g[S],note:p[y]}};case"^":case"_":case"/":if(S+=p[y],y++,n(p,y))return{len:2,warn:"Expected note name after accidental"};switch(p[y]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:y+1,token:{acc:g[S],note:p[y]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(p){return p===" "||p==="	"||p===""},this.getMeat=function(p,g,y){var S=p.indexOf("%",g);for(S>=0&&S<y&&(y=S);g<y&&(p[g]===" "||p[g]==="	"||p[g]==="");)g++;for(;g<y&&(p[y-1]===" "||p[y-1]==="	"||p[y-1]==="");)y--;return{start:g,end:y}};var i=function(p){return p>="A"&&p<="Z"||p>="a"&&p<="z"},s=function(p){return p>="0"&&p<="9"};this.tokenize=function(p,g,y,S){var x=this.getMeat(p,g,y);g=x.start,y=x.end;for(var E=[],_;g<y;){if(p[g]==='"'){for(_=g+1;_<y&&p[_]!=='"';)_++;E.push({type:"quote",token:p.substring(g+1,_),start:g+1,end:_}),_++}else if(i(p[g])){if(_=g+1,S)for(;_<y&&!this.isWhiteSpace(p[_]);)_++;else for(;_<y&&i(p[_]);)_++;E.push({type:"alpha",token:p.substring(g,_),continueId:s(p[_]),start:g,end:_}),g=_+1}else if(p[g]==="."&&s(p[_+1])){_=g+1;for(var T=null,O=null;_<y&&s(p[_]);)_++;O=parseFloat(p.substring(g,_)),E.push({type:"number",token:p.substring(g,_),intt:T,floatt:O,continueId:i(p[_]),start:g,end:_}),g=_+1}else if(s(p[g])||p[g]==="-"&&s(p[_+1])){_=g+1;for(var N=null,D=null;_<y&&s(p[_]);)_++;if(p[_]==="."&&s(p[_+1]))for(_++;_<y&&s(p[_]);)_++;else N=parseInt(p.substring(g,_));D=parseFloat(p.substring(g,_)),E.push({type:"number",token:p.substring(g,_),intt:N,floatt:D,continueId:i(p[_]),start:g,end:_}),g=_+1}else p[g]===" "||p[g]==="	"||E.push({type:"punct",token:p[g],start:g,end:g+1}),_=g+1;g=_}return E},this.getVoiceToken=function(p,g,y){for(var S=g;S<y&&this.isWhiteSpace(p[S])||p[S]==="=";)S++;if(p[S]==='"'){var x=p.indexOf('"',S+1);return x===-1||x>=y?{len:1,err:"Missing close quote"}:{len:x-g+1,token:this.translateString(p.substring(S+1,x))}}else{for(var E=S;E<y&&!this.isWhiteSpace(p[E])&&p[E]!=="=";)E++;return{len:E-g+1,token:p.substring(S,E)}}};var o={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},c={"#":"",b:"","=":""},u={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};this.translateString=function(p){var g=p.split("\\");if(g.length===1)return p;var y=null;return g.forEach(function(S){if(y===null)y=S;else{var x=o[S.substring(0,2)];x!==void 0?y+=x+S.substring(2):(x=u[S.substring(0,3)],x!==void 0?y+=x+S.substring(3):(x=c[S.substring(0,1)],x!==void 0?y+=x+S.substring(1):y+="\\"+S))}}),y},this.getNumber=function(p,g){for(var y=0;g<p.length;)switch(p[g]){case"0":y=y*10,g++;break;case"1":y=y*10+1,g++;break;case"2":y=y*10+2,g++;break;case"3":y=y*10+3,g++;break;case"4":y=y*10+4,g++;break;case"5":y=y*10+5,g++;break;case"6":y=y*10+6,g++;break;case"7":y=y*10+7,g++;break;case"8":y=y*10+8,g++;break;case"9":y=y*10+9,g++;break;default:return{num:y,index:g}}return{num:y,index:g}},this.getFraction=function(p,g){var y=1,S=1;if(p[g]!=="/"){var x=this.getNumber(p,g);y=x.num,g=x.index}if(p[g]==="/")if(g++,p[g]==="/"){for(var E=.5;p[g++]==="/";)E=E/2;return{value:y*E,index:g-1}}else{var _=g,T=this.getNumber(p,g);T.num===0&&_===g&&(T.num=2),T.num!==0&&(S=T.num),g=T.index}return{value:y/S,index:g}};function d(p){const y=/^(\d+)\./.exec(p);return y?y[1]:null}var h=[{match:/,\s*The$/,replace:"The "},{match:/,\s*the$/,replace:"the "},{match:/,\s*A$/,replace:"A "},{match:/,\s*a$/,replace:"a "},{match:/,\s*An$/,replace:"An "},{match:/,\s*an$/,replace:"an "},{match:/,\s*Da$/,replace:"Da "},{match:/,\s*La$/,replace:"La "},{match:/,\s*Le$/,replace:"Le "},{match:/,\s*Les$/,replace:"Les "},{match:/,\s*Ye$/,replace:"Ye "}];this.theReverser=function(p){for(var g=0;g<h.length;g++){var y=h[g],S=p.match(y.match);if(S){var x=d(p);x&&(p=p.replace(x+".",""),p=p.trim());var E=S[0].length,_=y.replace+p.substring(0,p.length-E);return x&&(_=x+". "+_),_}}return p},this.stripComment=function(p){var g=p.indexOf("%");return g>=0?fr.strip(p.substring(0,g)):fr.strip(p)},this.getInt=function(p){var g=parseInt(p);if(isNaN(g))return{digits:0};var y=""+g,S=p.indexOf(y);return{value:g,digits:S+y.length}},this.getFloat=function(p){var g=parseFloat(p);if(isNaN(g))return{digits:0};var y=""+g,S=p.indexOf(y);return{value:g,digits:S+y.length}},this.getMeasurement=function(p){if(p.length===0)return{used:0};var g=1,y="";if(p[0].token==="-")p.shift(),y="-",g++;else if(p[0].type!=="number")return{used:0};if(y+=p.shift().token,p.length===0)return{used:1,value:parseInt(y)};var S=p.shift();if(S.token==="."){if(g++,p.length===0)return{used:g,value:parseInt(y)};if(p[0].type==="number"&&(S=p.shift(),y=y+"."+S.token,g++,p.length===0))return{used:g,value:parseFloat(y)};S=p.shift()}switch(S.token){case"pt":return{used:g+1,value:parseFloat(y)};case"px":return{used:g+1,value:parseFloat(y)};case"cm":return{used:g+1,value:parseFloat(y)/2.54*72};case"in":return{used:g+1,value:parseFloat(y)*72};default:return p.unshift(S),{used:g,value:parseFloat(y)}}};var m=function(p){return p=p.replace(/\\n/g,`
`),p=p.replace(/\\"/g,'"'),p};this.getBrackettedSubstring=function(p,g,y,S){for(var x=S||p[g],E=g+1,_=!1;E<p.length&&(_||p[E]!==x);)_=p[E]==="\\",++E;return p[E]===x?[E-g+1,m(p.substring(g+1,E)),!0]:(E=g+y,E>p.length-1&&(E=p.length-1),[E-g+1,m(p.substring(g+1,E)),!1])}};f3.prototype.peekLine=function(){return this.lines[this.lineIndex]};f3.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null};var rz=f3;function az(e,t,n){if(!(!t||e.lines.length===0)){var i=e.deline({lineBreaks:!1}),s=sz(i,t);e.lines=iz(i,s,n),e.lineBreaks=s}}function iz(e,t,n){for(var i=[],s=[],o=[],c=1,u=0;u<t.length;u++){var d=t[u];if(e[d.ogLine].staff){var h=e[d.ogLine].staff[d.staff];if(i[d.line]||(i[d.line]={staff:[]}),!i[d.line].staff[d.staff]){i[d.line].staff[d.staff]={voices:[]},n!==void 0&&d.staff===0&&d.line>0&&(i[d.line].staff[d.staff].barNumber=c);for(var m=Object.keys(h),p=0;p<m.length;p++){var g=m[p]==="voices";m[p]==="meter"&&d.line!==0&&(g=!0),g||(i[d.line].staff[d.staff][m[p]]=h[m[p]])}s[d.staff]&&(i[d.line].staff[d.staff].key=s[d.staff])}i[d.line].staff[d.staff].voices[d.voice]||(i[d.line].staff[d.staff].voices[d.voice]=[]),i[d.line].staff[d.staff].voices[d.voice]=e[d.ogLine].staff[d.staff].voices[d.voice].slice(d.start,d.end+1),o[d.staff*10+d.voice]&&i[d.line].staff[d.staff].voices[d.voice].unshift({el_type:"stem",direction:o[d.staff*10+d.voice].direction});for(var y=i[d.line].staff[d.staff].voices[d.voice],S=y.length-1;S>=0;S--)if(y[S].el_type==="key"){s[d.staff]={root:y[S].root,acc:y[S].acc,mode:y[S].mode,accidentals:y[S].accidentals.filter(function(E){return E.acc!=="natural"})};break}for(S=y.length-1;S>=0;S--)if(y[S].el_type==="stem"){o[d.staff*10+d.voice]={direction:y[S].direction};break}if(n!==void 0&&d.staff===0&&d.voice===0)for(S=0;S<y.length;S++)y[S].el_type==="bar"&&(c++,S===y.length-1?delete y[S].barNumber:y[S].barNumber=c)}else i[d.line]=e[d.ogLine]}for(var x=0;x<i.length;x++)i[x].staff&&(i[x].staff=i[x].staff.filter(function(E){return E!=null}));return i}function sz(e,t){for(var n=[],i=0,s=0,o=0,c=0;c<e.length;c++){var u=e[c];if(u.staff){var d=s,h=t[i];i++;for(var m=0;m<u.staff.length;m++)for(var p=u.staff[m],g=0;g<p.voices.length;g++){o=d;for(var y=0,S=0,x=p.voices[g],E=0,_=0;_<x.length;_++){var T=x[_];T.el_type==="bar"&&(h[S]===y&&(n.push({ogLine:c,line:o,staff:m,voice:g,start:E,end:_}),E=_+1,o++,s=Math.max(s,o),S++),y++)}n.push({ogLine:c,line:o,staff:m,voice:g,start:E,end:x.length}),o++,s=Math.max(s,o)}}else n.push({ogLine:c,line:o}),o++,s=Math.max(s,o)}return n}function oz(e,t){for(var n=[],i=[],s=0,o=0;o<e.length;o++){var c=e[o],u=s+c;if(u<t)s=u;else{var d=t-s,h=u-t;d<h&&s>0?(n.push(o-1),i.push(Math.round(s-c)),s=c):o<e.length-1&&(n.push(o),i.push(Math.round(s)),s=0)}}return i.push(Math.round(s)),{lineBreaks:n,totals:i}}function ip(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function cz(e,t,n,i,s,o,c,u,d,h,m){for(var p=h;p<e.length;p++){var g=e[p];n+=g,i+=g;var y=Math.abs(n-t[u]),S=Math.abs(y-o)<t[0]/10;if(S)if(y<o){var x=ip(s),E=ip(d);E.push(p-1),x.push(i-g),m.push({accumulator:n,lineAccumulator:g,lineWidths:x,lastVariance:Math.abs(n-t[u+1]),highestVariance:Math.max(c,o),currLine:u+1,lineBreaks:E,startIndex:p+1})}else y>o&&p<e.length-1&&(x=ip(s),E=ip(d),m.push({accumulator:n,lineAccumulator:i,lineWidths:x,lastVariance:y,highestVariance:Math.max(c,y),currLine:u,lineBreaks:E,startIndex:p+1}));y>o?(d.push(p-1),u++,c=Math.max(c,o),o=Math.abs(n-t[u]),s.push(i-g),i=g):o=y}s.push(i)}function lz(e,t,n,i){for(var s=Math.ceil(e.total/t),o=Math.floor(e.total/s),c=[],u=0;u<s;u++)c.push(o*(u+1));var d=[];d.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var h=0;h<d.length;)cz(e.measureWidths,c,d[h].accumulator,d[h].lineAccumulator,d[h].lineWidths,d[h].lastVariance,d[h].highestVariance,d[h].currLine,d[h].lineBreaks,d[h].startIndex,d),h++;for(u=0;u<d.length;u++){var m=d[u];m.variances=[],m.aveVariance=0;for(var p=0;p<m.lineWidths.length;p++){var g=m.lineWidths[p];m.variances.push(g-c[0]),m.aveVariance+=Math.abs(g-c[0])}m.aveVariance=m.aveVariance/m.lineWidths.length,i.attempts.push({type:"optimizeLineWidths",lineBreaks:m.lineBreaks,variances:m.variances,aveVariance:m.aveVariance,widths:e.measureWidths})}var y=9999999,S=-1;for(u=0;u<d.length;u++)m=d[u],m.aveVariance<y&&(y=m.aveVariance,S=u);return{failed:!1,lineBreaks:d[S].lineBreaks,variance:d[S].highestVariance}}function uz(e,t,n){for(var i=[],s=[],o=0,c=!1,u=0;u<e.length;u++)o+=e[u],o>t&&(c=!0),u%n===n-1&&(u!==e.length-1&&i.push(u),s.push(Math.round(o)),o=0);return{failed:c,totals:s,lineBreaks:i}}function fz(e,t,n){var i={lineBreaks:e,staffwidth:t};for(var s in n)n.hasOwnProperty(s)&&s!=="wrap"&&s!=="staffwidth"&&(i[s]=n[s]);return{revisedParams:i}}function dz(e,t,n){if(t.length===0||n.staffwidth<t[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:n};var i=n.scale?Math.max(n.scale,.1):1,s=n.wrap.minSpacing?Math.max(parseFloat(n.wrap.minSpacing),1):1,o=n.wrap.minSpacingLimit?Math.max(parseFloat(n.wrap.minSpacingLimit),1):s-.1,c=n.wrap.maxSpacing?Math.max(parseFloat(n.wrap.maxSpacing),1):void 0;n.wrap.lastLineLimit&&!c&&(c=Math.max(parseFloat(n.wrap.lastLineLimit),1));for(var u=n.wrap.preferredMeasuresPerLine?Math.max(parseInt(n.wrap.preferredMeasuresPerLine,10),0):void 0,d=[],h=[],m=0;m<t.length;m++){var p=t[m],g=n.staffwidth-p.left,y=g/s/i,S=g/c/i,x=g/o/i,E={widths:p,lineBreakPoint:y,minLineSize:S,attempts:[],staffWidth:n.staffwidth,minWidth:Math.round(x)},_=null;if(u){var T=uz(p.measureWidths,y,u);E.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:u,lineBreaks:T.lineBreaks,failed:T.failed,totals:T.totals}),T.failed||(_=T.lineBreaks)}if(!_){var O=oz(p.measureWidths,y);E.attempts.push({type:"Free Form",lineBreaks:O.lineBreaks,totals:O.totals}),_=O.lineBreaks,_.length>0&&p.measureWidths.length<25&&(O=lz(p,y,_,E),E.attempts.push({type:"Optimize",failed:O.failed,reason:O.reason,lineBreaks:O.lineBreaks,totals:O.totals}),O.failed||(_=O.lineBreaks))}d.push(_),h.push(E)}var N=n.staffwidth,D=fz(d,N,n);return D.explanation=h,D.reParse=!0,D}var ST={wrapLines:az,calcLineWraps:dz};function hz(e){const t=e.getMeterFraction(),n=t.num===4&&t.den===4;if(!(t.num===2&&t.den===2)&&!n)throw new Error("notCommonTime");const s=e.deline();let o=[],c=!1;return s.forEach(u=>{if(u.subtitle)c&&o.push({type:"subtitle",subtitle:u.subtitle.text});else if(u.text)c=!0,o.push({type:"text",text:u.text.text});else if(u.staff){c=!0;const d=u.staff,h=pz(d);o=o.concat(h)}}),mz(o),gz(o),yz(o),o}const cx=["break","(break)","no chord","n.c.","tacet"];function pz(e){const t=[];let n="",i=[],s={chord:["","","",""]},o="",c="";if(e.forEach((u,d)=>{u.voices&&u.voices.forEach((h,m)=>{let p=0,g=0;h.forEach(y=>{if(y.el_type==="part")i.length>0&&d===0&&m===0&&(t.push({type:"part",name:n,lines:[i]}),i=[]),n=y.title;else if(y.el_type==="note"){lx(y,s);const S=Math.floor(p);if(y.chord&&y.chord.length>0){const x=y.chord[0],E=x.position==="default"||cx.indexOf(x.name.toLowerCase())>=0?x.name:"";E&&(S>0&&!s.chord[0]&&(s.chord[0]=o),o=E,s.chord[S]?S<4&&!s.chord[S+1]&&(s.chord[S+1]=E):s.chord[S]=E),y.chord.forEach(_=>{_.position!=="default"&&cx.indexOf(x.name.toLowerCase())<0&&(s.annotations||(s.annotations=[]),s.annotations.push(_.name))})}if(!y.rest||y.rest.type!=="spacer"){const x=Math.floor(y.duration*4);if(x>4)g+=Math.floor(x/4),p=0;else{let E=y.duration*4;y.tripletMultiplier&&(E*=y.tripletMultiplier),p+=E}}}else if(y.el_type==="bar"){if(c&&(s.ending=c,c=""),lx(y,s),(y.type==="bar_dbl_repeat"||y.type==="bar_left_repeat")&&(s.hasStartRepeat=!0),(y.type==="bar_dbl_repeat"||y.type==="bar_right_repeat")&&(s.hasEndRepeat=!0),y.startEnding&&(c=y.startEnding),p>=4){if(s.chord[0]===""&&(s.chord[1]||s.chord[2]||s.chord[3])&&(s.chord[0]=vz(i)),d===0&&m===0)i.push(s);else{let S=g,x=0;for(;S>=t[x].lines[0].length&&x<t.length;)S-=t[x].lines[0].length,x++;if(x<t.length&&S<t[x].lines[0].length){const E=t[x].lines[0][S];!E.chord[0]&&s.chord[0]&&(E.chord[0]=s.chord[0]),!E.chord[1]&&s.chord[1]&&(E.chord[1]=s.chord[1]),!E.chord[2]&&s.chord[2]&&(E.chord[2]=s.chord[2]),!E.chord[3]&&s.chord[3]&&(E.chord[3]=s.chord[3]),s.annotations&&(E.annotations?E.annotations=E.annotations.concat(s.annotations):E.annotations=s.annotations)}g++}s={chord:["","","",""]}}else s.chord=["","","",""];p=0}else y.el_type}),d===0&&m===0&&t.push({type:"part",name:n,lines:[i]})})}),!o)throw new Error("noChords");return t}function vz(e){for(let t=e.length-1;t>=0;t--)for(let n=e[t].chord.length-1;n>=0;n--)if(e[t].chord[n])return e[t].chord[n]}function mz(e){e.forEach(t=>{if(t.type==="part"){const n=t.lines[0],i=n.findIndex(o=>!!o.ending),s=n.findIndex((o,c)=>c>i&&!!o.ending);if(i>=0&&s>=0&&s-i===n.length-s){let o=!0;for(let c=0;c<s-i&&o;c++){const u=n[i+c],d=n[s+c];if(u.chord[0]!==d.chord[0]&&(o=!1),u.chord[1]!==d.chord[1]&&(o=!1),u.chord[2]!==d.chord[2]&&(o=!1),u.chord[3]!==d.chord[3]&&(o=!1),u.annotations&&!d.annotations&&(o=!1),!u.annotations&&d.annotations&&(o=!1),u.annotations&&d.annotations)if(u.annotations.length!==d.annotations.length)o=!1;else for(let h=0;h<u.annotations.length;h++)u.annotations[h]!==d.annotations[h]&&(o=!1)}o&&(delete n[i].ending,n.splice(s,n.length-s))}}})}function gz(e){e.forEach(t=>{if(t.type==="part"){const n=[],i=t.lines[0];let s=!1;const o=i.findIndex(d=>!!d.hasEndRepeat);(o>=0?Math.min(o+1,i.length):i.length)===12&&(s=!0);const u=s?4:8;for(let d=0;d<i.length;d+=u){const h=i.slice(d,d+u),m=h.findIndex(p=>!!p.hasEndRepeat);m>=0&&m<h.length-1?(n.push(h.slice(0,m+1)),n.push(h.slice(m+1))):n.push(h)}for(let d=0;d<n.length;d++)if(n[d][0].ending){const h=Math.max(0,d-1),m=n[h].length-n[d].length,p=[];for(let g=0;g<m;g++)p.push({noBorder:!0,chord:["","","",""]});n[d]=p.concat(n[d])}t.lines=n}})}function yz(e){e.forEach(t=>{if(t.lines){let n=!1,i="";t.lines.forEach(s=>{s.forEach(o=>{if(!o.noBorder){const c=o.chord;!c[0]&&!c[1]&&!c[2]&&!c[3]?(n?i&&(c[0]="%"):c[0]=i,n=!0):!c[1]&&!c[2]&&!c[3]?(n=!0,i=c[0]):(n=!1,i=c[3]||c[2]||c[1])}})})}})}function lx(e,t){if(e.decoration)for(let n=0;n<e.decoration.length;n++)switch(e.decoration[n]){case"fermata":case"segno":case"coda":case"D.C.":case"D.S.":case"D.C.alcoda":case"D.C.alfine":case"D.S.alcoda":case"D.S.alfine":case"fine":t.annotations||(t.annotations=[]),t.annotations.push(e.decoration[n]);break}}var bz=hz,os={};os.FONTEM=360;os.FONTSIZE=30;os.STEP=os.FONTSIZE*93/720;os.SPACE=10;os.TOPNOTE=15;os.STAVEHEIGHT=100;os.INDENT=50;var zr=os;const Sz=Ni;function wz(e){this.sections=[{type:"startRepeat",index:-1}],this.addBar=function(t){var n=e.length-1,i=t.type==="bar_left_repeat"||t.type==="bar_dbl_repeat",s=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat",o=t.startEnding?Ez(t.startEnding):void 0;s&&this.sections.push({type:"endRepeat",index:n}),i&&this.sections.push({type:"startRepeat",index:n}),o&&this.sections.push({type:"startEnding",index:n,endings:o})},this.resolveRepeats=function(){var t,n=this.sections[this.sections.length-1],i=e.length-1;if(n.type==="startRepeat"?n.end=i:n.index+1<i&&this.sections.push({type:"startRepeat",index:n.index+1}),this.sections.length<2)return e;for(var s=[],o=null,c=0;c<this.sections.length;c++){var u=this.sections[c];switch(u.type){case"startRepeat":if(o){if(o.common.end||(o.common.end=u.index),o.endings)for(t=0;t<o.endings.length;t++)o.endings[t]&&!o.endings[t].end&&o.endings[t].start!==u.index&&(o.endings[t].end=u.index);this.sections[c-1].type==="endRepeat"&&o.endings&&o.endings.length&&(o.endings[o.endings.length]={start:-1,end:-1}),s.push(o)}if(o){var d=o.common.end;if(o.endings)for(t=0;t<o.endings.length;t++)o.endings[t]&&(d=Math.max(d,o.endings[t].end));d<u.index-1&&(console.log("gap",e.slice(d+1,u.index)),s.push({common:{start:d+1,end:u.index}}))}o={common:{start:u.index}};break;case"startEnding":{if(o)for(o.common.end||(o.common.end=u.index),o.endings||(o.endings=[]),t=0;t<u.endings.length;t++)o.endings[u.endings[t]]={start:u.index+1};break}case"endRepeat":if(o){if(o.endings||(o.endings=[]),o.endings.length>0)for(t=0;t<o.endings.length;t++)o.endings[t]&&!o.endings[t].end&&(o.endings[t].end=u.index);o.common.end||(o.common.end=u.index)}break}}if(o){if(o.common.end||(o.common.end=i),o.endings)for(t=0;t<o.endings.length;t++)o.endings[t]&&!o.endings[t].end&&(o.endings[t].end=i);s.push(o)}for(var h=[],m=-1,p=0;p<s.length;p++){var g=s[p];if(!g.endings)$0(e,h,g.common.start,g.common.end);else if(g.endings.length===0)$0(e,h,g.common.start,g.common.end),$0(e,h,g.common.start,g.common.end);else for(t=0;t<g.endings.length;t++){var y=g.endings[t];y&&($0(e,h,g.common.start,g.common.end),y.start>0&&$0(e,h,y.start,y.end),m=Math.max(m,y.end))}}return h}}function $0(e,t,n,i){for(var s=n;s<=i;s++)t.push(xz(e[s]))}function xz(e){var t=Object.assign({},e);return t.pitches&&(t.pitches=Sz.cloneArray(t.pitches)),t}function Ez(e){var t=[],n,i,s;if(e.indexOf(",")>0)for(i=e.split(","),s=0;s<i.length;s++)n=parseInt(i[s],10),n>0&&t.push(n);else if(e.indexOf("-")>0){i=e.split("-");var o=parseInt(i[0],10),c=parseInt(i[1],10);for(s=o;s<=c;s++)t.push(s)}else n=parseInt(e,10),n>0&&t.push(n);return t}var Cz=wz,wT,Fy=Ni,Tz=Cz;(function(){var e=1,t=128;wT=function(y,S){S=S||{};var x,E=S.program||0,_=S.midiTranspose||0;y.visualTranspose&&(_-=y.visualTranspose);var T=S.channel||0,O=!1,N=S.drum||"",D=S.drumBars||1,R=S.drumIntro||0,P=N!=="",U=!!S.drumOff,F=[],H=50;E=parseInt(E,10),_=parseInt(_,10),T=parseInt(T,10),T===10&&(E=t),N=N.split(" "),D=parseInt(D,10),R=parseInt(R,10);var Y=y.formatting.bagpipes;Y&&(E=71);var $=[];if(y.formatting.midi){var G=y.formatting.midi;G.program&&G.program.length>0&&(E=G.program[0],G.program.length>1&&(E=G.program[1],T=G.program[0]),O=!0),G.transpose&&(_=G.transpose[0]),G.channel&&(T=G.channel[0],O=!0),G.drum&&(N=G.drum),G.drumbars&&(D=G.drumbars[0]),G.drumon&&(P=!0),T===10&&(E=t),G.beat&&$.push({el_type:"beat",beats:G.beat}),G.nobeataccents&&$.push({el_type:"beataccents",value:!1})}S.qpm?x=parseInt(S.qpm,10):y.metaText.tempo?x=u(y.metaText.tempo,y.getBeatLength()):S.defaultQpm?x=S.defaultQpm:x=180;var ce=[];Y&&ce.push({el_type:"bagpipes"}),ce.push({el_type:"instrument",program:E}),T&&ce.push({el_type:"channel",channel:T}),_&&ce.push({el_type:"transpose",transpose:_}),ce.push({el_type:"tempo",qpm:x});for(var Se=0;Se<$.length;Se++)ce.push($[Se]);var ee=[],I=[],j=[],X=[],K=[0],ge={};ge[0]={el_type:"tempo",qpm:x,timing:0};for(var Te,Me=[],lt=!1,bt=y.lines,jt=0;jt<bt.length;jt++){var mt=bt[jt];if(mt.staff){let be=function(pe){var Be={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},Xe;if(pe.decoration){if(pe.decoration.indexOf("pppp")>=0?Xe="pppp":pe.decoration.indexOf("ppp")>=0?Xe="ppp":pe.decoration.indexOf("pp")>=0?Xe="pp":pe.decoration.indexOf("p")>=0?Xe="p":pe.decoration.indexOf("mp")>=0?Xe="mp":pe.decoration.indexOf("mf")>=0?Xe="mf":pe.decoration.indexOf("f")>=0?Xe="f":pe.decoration.indexOf("ff")>=0?Xe="ff":pe.decoration.indexOf("fff")>=0?Xe="fff":pe.decoration.indexOf("ffff")>=0&&(Xe="ffff"),Xe){Te=Be[Xe].slice(0);let Bt=[Te];Array.isArray(pe.decoration)&&(Bt=[],pe.decoration.forEach(Tn=>{Tn in Be&&Bt.push(Be[Tn].slice(0))})),ee[Ee].push({el_type:"beat",beats:Te.slice(0),volumesPerNotePitch:Bt}),j[He]=!1,X[He]=!1}if(pe.decoration.indexOf("crescendo(")>=0){var Qe=n(pt,oe,"crescendo)"),_t=Math.min(127,Te[0]+H),zt=i(pt,oe+Qe+1,Object.keys(Be));zt&&(_t=Be[zt][0]),Qe>0?j[He]=Math.floor((_t-Te[0])/Qe):j[He]=!1,X[He]=!1}else if(pe.decoration.indexOf("crescendo)")>=0)j[He]=!1;else if(pe.decoration.indexOf("diminuendo(")>=0){var Ot=n(pt,oe,"diminuendo)"),kt=Math.max(15,Te[0]-H),At=i(pt,oe+Ot+1,Object.keys(Be));At&&(kt=Be[At][0]),j[He]=!1,Ot>0?X[He]=Math.floor((kt-Te[0])/Ot):X[He]=!1}else pe.decoration.indexOf("diminuendo)")>=0&&(X[He]=!1)}};for(var Nt=mt.staff,Ee=0,Ze=0;Ze<Nt.length;Ze++){var ze=Nt[Ze];if(!(ze.clef&&ze.clef.type==="TAB"))for(var He=0;He<ze.voices.length;He++){var pt=ze.voices[He];if(!ee[Ee]){ee[Ee]=[].concat(JSON.parse(JSON.stringify(ce)));var ft=c(mt.staff,Ee);ft&&ee[Ee].unshift({el_type:"name",trackName:ft}),Me[Ee]=new Tz(ee[Ee])}if(_&&ze.clef.type==="perc"&&ee[Ee].push({el_type:"transpose",transpose:0}),ze.clef&&ze.clef.type==="perc"&&!O)for(var Dt=0;Dt<ee[Ee].length;Dt++)ee[Ee][Dt].el_type==="instrument"&&(ee[Ee][Dt].program=t);else ze.key&&m(ee[Ee],ze.key);ze.meter&&p(ee[Ee],ze.meter),!lt&&P&&(ee[Ee].push({el_type:"drum",params:{pattern:N,bars:D,on:P,intro:R}}),lt=!0),ze.clef&&ze.clef.type!=="perc"&&ze.clef.transpose&&(ze.clef.el_type="clef",ee[Ee].push({el_type:"transpose",transpose:ze.clef.transpose}),I[Ee]=!1),ze.clef&&ze.clef.type&&(ze.clef.type.indexOf("-8")>=0?(ee[Ee].push({el_type:"transpose",transpose:-12}),I[Ee]=!0):ze.clef.type.indexOf("+8")>=0?(ee[Ee].push({el_type:"transpose",transpose:12}),I[Ee]=!0):I[Ee]&&(ee[Ee].push({el_type:"transpose",transpose:0}),I[Ee]=!1)),y.formatting.midi&&y.formatting.midi.drumoff&&(ee[Ee].push({el_type:"bar"}),ee[Ee].push({el_type:"drum",params:{pattern:"",on:!1}}));var It=0,Yt=0,$n=0,Q=0;Te=[105,95,85,1];for(var oe=0;oe<pt.length;oe++){var Z=pt[oe];switch(Z.el_type){case"note":if(j[He]&&(Te[0]+=j[He],Te[1]+=j[He],Te[2]+=j[He],ee[Ee].push({el_type:"beat",beats:Te.slice(0)})),X[He]&&(Te[0]+=X[He],Te[1]+=X[He],Te[2]+=X[He],ee[Ee].push({el_type:"beat",beats:Te.slice(0)})),be(Z),!Z.rest||Z.rest.type!=="spacer"){var ae={elem:Z,el_type:"note",timing:K[Ee]};if(Z.style?ae.style=Z.style:F[Ee]&&(ae.style=F[Ee]),ae.duration=Z.duration===0?.25:Z.duration,Z.startTriplet){if(Yt=Z.tripletMultiplier,$n=Z.startTriplet*Yt*Z.duration,Z.startTriplet!==Z.tripletR&&oe+Z.tripletR<=pt.length){for(var ve=0,_e=oe;_e<oe+Z.tripletR;_e++)ve+=pt[_e].duration;$n=Yt*ve}ae.duration=ae.duration*Yt,ae.duration=Math.round(ae.duration*1e6)/1e6,Q=ae.duration}else Yt&&(Z.endTriplet?(Yt=0,ae.duration=Math.round(($n-Q)*1e6)/1e6):(ae.duration=ae.duration*Yt,ae.duration=Math.round(ae.duration*1e6)/1e6,Q+=ae.duration));Z.rest&&(ae.rest=Z.rest),Z.decoration&&(ae.decoration=Z.decoration.slice(0)),Z.pitches&&(ae.pitches=Fy.cloneArray(Z.pitches)),Z.gracenotes&&(ae.gracenotes=Fy.cloneArray(Z.gracenotes)),Z.chord&&(ae.chord=Fy.cloneArray(Z.chord)),ee[Ee].push(ae),Z.style==="rhythm"&&o(ee),It++,K[Ee]+=ae.duration}break;case"key":case"keySignature":m(ee[Ee],Z);break;case"meter":p(ee[Ee],Z);break;case"clef":Z.transpose&&ee[Ee].push({el_type:"transpose",transpose:Z.transpose}),Z.type&&(Z.type.indexOf("-8")>=0?ee[Ee].push({el_type:"transpose",transpose:-12}):Z.type.indexOf("+8")>=0&&ee[Ee].push({el_type:"transpose",transpose:12}));break;case"tempo":x=u(Z,y.getBeatLength()),ee[Ee].push({el_type:"tempo",qpm:x,timing:K[Ee]}),ge[""+K[Ee]]={el_type:"tempo",qpm:x,timing:K[Ee]};break;case"bar":It>0&&ee[Ee].push({el_type:"bar"}),be(Z),It=0,Me[Ee].addBar(Z,Ee);break;case"style":F[Ee]=Z.head;break;case"timeSignature":ee[Ee].push(d(Z));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var Pe=!1;switch(Z.cmd){case"drumon":P=!0,Pe=!0;break;case"drumoff":P=!1,Pe=!0;break;case"drum":N=Z.params,Pe=!0;break;case"drumbars":D=Z.params[0],Pe=!0;break;case"drummap":break;case"channel":Z.params[0]===10&&ee[Ee].push({el_type:"instrument",program:t});break;case"program":g(ee[Ee],{el_type:"instrument",program:Z.params[0]}),O=!0;break;case"transpose":ee[Ee].push({el_type:"transpose",transpose:Z.params[0]});break;case"gchordoff":ee[Ee].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":ee[Ee].push({el_type:"gchordOn",tacet:!1});break;case"beat":ee[Ee].push({el_type:"beat",beats:Z.params});break;case"nobeataccents":ee[Ee].push({el_type:"beataccents",value:!1});break;case"beataccents":ee[Ee].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":ee[Ee].push({el_type:Z.cmd,volume:Z.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":ee[Ee].push({el_type:Z.cmd,param:Z.params[0]});break;case"bassprog":case"chordprog":ee[Ee].push({el_type:Z.cmd,value:Z.params[0],octaveShift:Z.params[1]});break;case"gchordbars":ee[Ee].push({el_type:Z.cmd,param:Z.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",Z.cmd,Z)}Pe&&(ee[0].push({el_type:"drum",params:{pattern:N,bars:D,intro:R,on:P}}),lt=!0);break;default:console.log("MIDI: element type "+Z.el_type+" not handled.")}}Ee++,K[Ee]||(K[Ee]=0)}}}}for(var Ge=0;Ge<Me.length;Ge++)ee[Ge]=Me[Ge].resolveRepeats();if(s(ee,ge),R)for(var Ie=y.getPickupLength(),Ue=0;Ue<ee.length;Ue++){for(var St=0;ee[Ue][St].el_type!=="note"&&ee[Ue].length>St;)St++;if(ee[Ue].length>St){for(var _e=0;_e<R;_e++)Ie===0||_e<R-1?(ee[Ue].splice(St,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}),St+=2):ee[Ue].splice(St++,0,{el_type:"note",rest:{type:"rest"},duration:e-Ie});U&&(P=!1,ee[Ue].splice(St++,0,{el_type:"drum",params:{pattern:N,bars:D,intro:R,on:P}}),U=!1)}}return ee.length>0&&ee[0].length>0&&(ee[0][0].pickupLength=y.getPickupLength()),ee};function n(y,S,x){for(var E=0,_=S+1;_<y.length;_++)if(y[_].el_type==="note"&&E++,y[_].decoration&&y[_].decoration.indexOf(x)>=0)return E;return E}function i(y,S,x){for(var E=Math.min(y.length,S+3),_=S;_<E;_++)if(y[_].el_type==="note"&&y[_].decoration){for(var T=0;T<y[_].decoration.length;T++)if(x.indexOf(y[_].decoration[T])>=0)return y[_].decoration[T]}return null}function s(y,S){if(!(!S||S.length===0))for(var x=Object.keys(S),E=0;E<y.length;E++)for(var _=y[E],T=S[0]?S[0].qpm:0,O=0;O<_.length;O++){var N=_[O];N.el_type==="tempo"&&(T=N.qpm),x.indexOf(""+N.timing)>=0&&T!==S[""+N.timing].qpm&&(T=S[""+N.timing].qpm,N.el_type==="tempo"?(N.qpm=S[""+N.timing].qpm,O++):(y[E].splice(O,0,{el_type:"tempo",qpm:S[""+N.timing].qpm,timing:N.timing}),O+=2))}}function o(y){for(var S=0;S<y.length;S++)for(var x=y[S],E=x.length-1;E>=0&&x[E].el_type!=="bar";)x[E].noChordVoice=!0,E--}function c(y,S){if(!(!y||y.length<=S||!y[S].title))return y[S].title.join(" ")}function u(y,S){var x=.25;y.duration&&(x=y.duration[0]);var E=60;return y.bpm&&(E=y.bpm),x*E/S}function d(y){var S;switch(y.type){case"common_time":S={el_type:"meter",num:4,den:4},e=4/4;break;case"cut_time":S={el_type:"meter",num:2,den:2},e=2/2;break;case"specified":let _=0;if(y.value&&y.value.length>0&&y.value[0].num.indexOf("+")>0)for(var x=y.value[0].num.split("+"),E=0;E<x.length;E++)_+=parseInt(x[E],10);else _=parseInt(y.value[0].num,10);S={el_type:"meter",num:_,den:y.value[0].den},e=_/parseInt(y.value[0].den,10);break;default:S={el_type:"meter"},e=1}return S}function h(y){for(var S=[],x=0;x<y.length;x++)y[x].acc!=="natural"&&S.push(y[x]);return S}function m(y,S){var x;S.root==="HP"?x={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:x={el_type:"key",accidentals:h(S.accidentals)},g(y,x)}function p(y,S){var x=d(S);g(y,x)}function g(y,S){for(var x=y.length-1;x>=0;x--)if(y[x].el_type===S.el_type){JSON.stringify(y[x])!==JSON.stringify(S)&&y.push(S);return}y.push(S)}})();var xT=wT,hn=function(t,n,i,s){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=t,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!n,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=s,this.tempoChangeFactor=1,this.bassInstrument=i.bassprog&&i.bassprog.length>=1?i.bassprog[0]:0,this.chordInstrument=i.chordprog&&i.chordprog.length>=1?i.chordprog[0]:0,this.bassOctaveShift=i.bassprog&&i.bassprog.length===2?i.bassprog[1]:0,this.chordOctaveShift=i.chordprog&&i.chordprog.length===2?i.chordprog[1]:0,this.boomVolume=i.bassvol&&i.bassvol.length===1?i.bassvol[0]:64,this.chickVolume=i.chordvol&&i.chordvol.length===1?i.chordvol[0]:48,i.gchord&&i.gchord.length>0?this.overridePattern=ET(i.gchord[0]):this.overridePattern=void 0};hn.prototype.setMeter=function(e){this.meter=e};hn.prototype.setTempoChangeFactor=function(e){this.tempoChangeFactor=e};hn.prototype.setLastBarTime=function(e){this.lastBarTime=e};hn.prototype.setTranspose=function(e){this.transpose=e};hn.prototype.setRhythmHead=function(e,t){this.hasRhythmHead=e;var n=[];if(e&&this.lastChord&&this.lastChord.chick)for(var i=0;i<this.lastChord.chick.length;i++){var s=Object.assign({},t.pitches[0]);s.actualPitch=this.lastChord.chick[i],n.push(s)}return n};hn.prototype.barEnd=function(e){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,kb(e.time)),this.currentChords=[]),this.chordLastBar=this.lastChord};hn.prototype.gChordOn=function(e){this.chordsOff||(this.gChordTacet=e.tacet)};hn.prototype.paramChange=function(e){switch(e.el_type){case"gchord":e.param&&e.param.length>0?this.overridePattern=ET(e.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.bassOctaveShift=e.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.chordOctaveShift=e.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=e.param;break;case"chordvol":this.chickVolume=e.param;break;default:console.log("unhandled midi param",e)}};hn.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)};hn.prototype.addTrack=function(e){this.chordTrackEmpty()||e.push(this.chordTrack)};hn.prototype.findChord=function(e){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!e.chord||e.chord.length===0)return null;for(var t=0;t<e.chord.length;t++){var n=e.chord[t];if(n.position==="default")return n.name;if(this.breakSynonyms.indexOf(n.name.toLowerCase())>=0)return"break"}return null};hn.prototype.interpretChord=function(e){if(e.length!==0){if(e==="break")return{chick:[]};var t=e.substring(0,1);if(t==="("){if(e=e.substring(1,e.length-1),e.length===0)return;t=e.substring(0,1)}var n=this.basses[t];if(n){for(var i=this.transpose;i<-8;)i+=12;for(;i>8;)i-=12;n+=i,n<33?n+=12:n>44&&(n-=12);var s=n;n+=this.bassOctaveShift*12;var o=n-5,c;e.length===1&&(c=this.chordNotes(n,""));var u=e.substring(1),d=u.substring(0,1);d==="b"||d===""?(s--,n--,o--,u=u.substring(1)):(d==="#"||d==="")&&(s++,n++,o++,u=u.substring(1));var h=u.split("/");if(c=this.chordNotes(s,h[0]),c.length>=3){var m=c[2]-c[0];o=o+m-7}if(h.length===2){var p=this.basses[h[1].substring(0,1)];if(p){var g=h[1].substring(1),y={"#":1,"":1,b:-1,"":-1}[g]||0;n=this.basses[h[1].substring(0,1)]+y+i,n+=this.bassOctaveShift*12,o=n}}return{boom:n,boom2:o,chick:c}}}};hn.prototype.chordNotes=function(e,t){var n=this.chordIntervals[t];n||(t.slice(0,2).toLowerCase()==="ma"||t[0]==="M"?n=this.chordIntervals.M:t[0]==="m"||t[0]==="-"?n=this.chordIntervals.m:n=this.chordIntervals.M),e+=12,e+=this.chordOctaveShift*12;for(var i=[],s=0;s<n.length;s++)i.push(e+n[s]);return i};hn.prototype.writeNote=function(e,t,n,i,s,o){e!==void 0&&this.chordTrack.push({cmd:"note",pitch:e,volume:n,start:this.lastBarTime+i*ux(t,this.tempoChangeFactor),duration:ux(s,this.tempoChangeFactor),gap:0,instrument:o})};hn.prototype.chordTrackEmpty=function(){for(var e=!0,t=0;t<this.chordTrack.length&&e;t++)this.chordTrack[t].cmd==="note"&&(e=!1);return e};hn.prototype.resolveChords=function(e,t){if(!this.hasRhythmHead){var n=this.meter.num,i=this.meter.den,s=1/i,o=s/2,c=parseInt(n,10)/parseInt(i,10),u=c-(t-e)/this.tempoChangeFactor;Math.abs(u)<1e-5&&(u=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var d=_z(this.currentChords,8*n/i),h=this.overridePattern?this.overridePattern:this.rhythmPatterns[n+"/"+i];if(u){h=[];for(var m=(t-e)/this.tempoChangeFactor*8,p=0;p<m/2;p+=2)h.push("chick"),h.push("")}if(!h){h=[];for(var p=0;p<8*n/i/2;p++)h.push("chick"),h.push("")}for(var g=!0,y=Math.min(h.length,d.length),p=0;p<y;p++){p>0&&d[p-1]&&d[p]&&d[p-1].boom!==d[p].boom&&(g=!0);var S=h[p],x=S.indexOf("boom")>=0,E=!x&&p!==0&&h[0].indexOf("boom")>=0&&(!d[p-1]||d[p-1].boom!==d[p].boom),_=Nz(d[p],S,g,E);x&&(g=!1);for(var T=0;T<_.length;T++)this.writeNote(_[T],.125,x||E?this.boomVolume:this.chickVolume,p,o,x||E?this.bassInstrument:this.chordInstrument),E?E=!1:x=!1}}};hn.prototype.processChord=function(e){if(!this.chordTrackFinished){var t=this.findChord(e);if(t){var n=this.interpretChord(t);if(n){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=n;var i=kz(this.lastBarTime,kb(e.time));this.currentChords.push({chord:this.lastChord,beat:i,start:kb(e.time)})}}}};function Nz(e,t,n,i){var s=[];if(!e)return s;t.indexOf("boom")>=0?s.push(n?e.boom:e.boom2):i&&s.push(e.boom);var o=e.chick.length;if(t.indexOf("chick")>=0)for(var c=0;c<o;c++)s.push(e.chick[c]);switch(t){case"DO":s.push(e.chick[0]);break;case"MI":s.push(e.chick[1]);break;case"SOL":s.push(dl(e,2));break;case"TI":s.push(dl(e,3));break;case"TOP":s.push(dl(e,4));break;case"do":s.push(e.chick[0]+12);break;case"mi":s.push(e.chick[1]+12);break;case"sol":s.push(dl(e,2)+12);break;case"ti":s.push(dl(e,3)+12);break;case"top":s.push(dl(e,4)+12);break}return s}function dl(e,t){var n=Math.floor(t/e.chick.length),i=e.chick[t%e.chick.length];return i+n*12}function ET(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i){case"z":t.push("");break;case"2":t.push("");break;case"c":t.push("chick");break;case"b":t.push("boom&chick");break;case"f":t.push("boom");break;case"G":t.push("DO");break;case"H":t.push("MI");break;case"I":t.push("SOL");break;case"J":t.push("TI");break;case"K":t.push("TOP");break;case"g":t.push("do");break;case"h":t.push("mi");break;case"i":t.push("sol");break;case"j":t.push("ti");break;case"k":t.push("top");break}}return t}function _z(e,t,n){var i=[];if(e.length===0)return i;for(var s=e[0].chord,o=1;o<e.length;o++){for(var c=e[o];i.length<c.beat;)i.push(s);s=c.chord}for(;i.length<t;)i.push(s);return i}function kz(e,t){var n=t-e;return n*8}hn.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"];hn.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43};hn.prototype.chordIntervals={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m75":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]};hn.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function kb(e){return e/1e6}function ux(e,t){return Math.round(e*t*1e6)/1e6}var Dz=hn,Az={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function Oz(e){var t=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return Az[t]}var CT=Oz,TT,Rz=Dz,fx=CT;(function(){var e,t,n,i,s,o=1,c,u,d,h,m,p,g={num:4,den:4},y=128,S,x=!0,E=105,_=95,T=85,O=[[E,_,T]],N=.25,D,R,P=0,U,F={},H,Y=0,$,G=0,ce=-.001,Se=.4;TT=function(Q,oe,Z,ae){oe||(oe={}),ae||(ae={}),e=[],t=[0,0,0,0,0,0,0],i=[],s=oe.qpm,o=1,c=void 0,u=void 0,d=void 0,h=void 0,m=0,$=Z,g={num:4,den:4},x=!0,E=105,_=95,T=85,O=[],N=.25,D=void 0,R=void 0,P=0,U=[],F={},H=1,Q.length>0&&Q[0].length>0&&(Y=Q[0][0].pickupLength),oe.bassprog!==void 0&&!ae.bassprog&&(ae.bassprog=[oe.bassprog]),oe.bassvol!==void 0&&!ae.bassvol&&(ae.bassvol=[oe.bassvol]),oe.chordprog!==void 0&&!ae.chordprog&&(ae.chordprog=[oe.chordprog]),oe.chordvol!==void 0&&!ae.chordvol&&(ae.chordvol=[oe.chordvol]),oe.gchord!==void 0&&!ae.gchord&&(ae.gchord=[oe.gchord]),p=new Rz(Q.length,oe.chordsOff,ae,g),X(Q,oe);for(var ve=0;ve<Q.length;ve++){n=0,p.setTranspose(n);var _e=Q[ve];d=[{cmd:"program",channel:ve,instrument:c}],h=void 0,S=0,p.setLastBarTime(0);var Pe=!1;(oe.voicesOff===!0||oe.voicesOff&&oe.voicesOff.length&&oe.voicesOff.indexOf(ve)>=0)&&(Pe=!0);for(var Ge=0;Ge<_e.length;Ge++){var Ie=_e[Ge];switch(Ie.el_type){case"name":h={cmd:"text",type:"name",text:Ie.trackName};break;case"note":bt(Ie,Pe);break;case"key":t=Ee(Ie);break;case"meter":g=Ie,p.setMeter(g),N=K(g),It();break;case"tempo":s?o=Ie.qpm?s/Ie.qpm:1:s=Ie.qpm,p.setTempoChangeFactor(o);break;case"transpose":n=Ie.transpose,p.setTranspose(n);break;case"bar":p.barEnd(Ie),e=[],ve===0&&Yt(Q.length+1),p.setRhythmHead(!1),S=I(Ie.time),p.setLastBarTime(S);break;case"bagpipes":break;case"instrument":if(c===void 0&&(c=Ie.program),u=Ie.program,d.length>0&&d[d.length-1].cmd==="program")d[d.length-1].instrument=Ie.program;else{var Ue;for(Ue=d.length-1;Ue>=0&&d[Ue].cmd!=="program";Ue--);(Ue<0||d[Ue].instrument!==Ie.program)&&d.push({cmd:"program",channel:0,instrument:Ie.program})}break;case"channel":ee(Ie.channel);break;case"drum":F=Dt(Ie.params),It();break;case"gchordOn":p.gChordOn(Ie);break;case"beat":E=Ie.beats[0],_=Ie.beats[1],T=Ie.beats[2],Ie.volumesPerNotePitch?O=Ie.volumesPerNotePitch:O=[];break;case"vol":D=Ie.volume;break;case"volinc":R=Ie.volume;break;case"beataccents":x=Ie.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":p.paramChange(Ie);break;default:console.log("MIDI creation. Unknown el_type: "+Ie.el_type+`
`);break}}d[0].instrument===void 0&&(d[0].instrument=c||0),h&&d.unshift(h),i.push(d),p.finish(),U.length>0}return oe.detuneOctave&&$n(i,parseInt(oe.detuneOctave,10)),p.addTrack(i),U.length>0&&i.push(U),{tempo:s,instrument:c,tracks:i,totalDuration:m}};function ee(Q){for(var oe=d.length-1;oe>=0;oe--)if(d[oe].cmd==="program"){d[oe].channel=Q;return}}function I(Q){return Q/1e6}function j(Q){return Math.round(Q*o*1e6)/1e6}function X(Q,oe){for(var Z=0;Z<Q.length;Z++){for(var ae=Q[Z],ve={},_e=oe.qpm,Pe=0,Ge=1,Ie=0;Ie<ae.length;Ie++){var Ue=ae[Ie];if(Ue.el_type==="tempo"){_e?Ge=Ue.qpm?_e/Ue.qpm:1:_e=Ue.qpm;continue}Ue.time=Pe;var St=Ue.duration?Ue.duration:0;if(Pe+=Math.round(St*Ge*1e6),Ue.pitches){for(var be=0;be<Ue.pitches.length;be++){var pe=Ue.pitches[be];if(pe){if(pe.duration=Ue.duration,pe.startTie)ve[pe.pitch]===void 0?ve[pe.pitch]={el:Ie,pitch:be}:(ae[ve[pe.pitch].el].pitches[ve[pe.pitch].pitch].duration+=pe.duration,Ue.pitches[be]=null);else if(pe.endTie){var Be=ve[pe.pitch];if(Be){var Xe=pe.duration;delete ae[Be.el].pitches[Be.pitch].startTie,ae[Be.el].pitches[Be.pitch].duration+=Xe,Ue.pitches[be]=null,delete ve[pe.pitch]}else delete pe.endTie}}}delete Ue.duration}}for(var Qe in ve)if(ve.hasOwnProperty(Qe)){var _t=ve[Qe];delete ae[_t.el].pitches[_t.pitch].startTie}}}function K(Q){switch(parseInt(Q.den,10)){case 2:return .5;case 4:return .25;case 8:return Q.num%3===0?.375:.125;case 16:return .125}return .25}function ge(Q,oe,Z){var ae=Z-Q;return ae/oe}function Te(Q,oe,Z){if(oe)return 0;let ae=E,ve=_,_e=T;Z!==void 0&&O.length>=Z+1&&(ae=O[Z][0],ve=O[Z][1],_e=O[Z][2]);var Pe;if(D!==void 0)Pe=D,D=void 0;else if(!x)Pe=ve;else if(Y>Q)Pe=_e;else{var Ge=ge(S,K(g),Q);Ge===0?Pe=ae:parseInt(Ge,10)===Ge?Pe=ve:Pe=_e}return R&&(Pe+=R,R=void 0),Pe<0&&(Pe=0),Pe>127&&(Pe=127),oe?0:Pe}function Me(Q,oe){var Z={};if(Q.decoration)for(var ae=0;ae<Q.decoration.length;ae++)Q.decoration[ae]==="staccato"?Z.thisBreakBetweenNotes="staccato":Q.decoration[ae]==="tenuto"?Z.thisBreakBetweenNotes="tenuto":Q.decoration[ae]==="accent"?Z.velocity=Math.min(127,oe*1.5):Q.decoration[ae]==="trill"?Z.noteModification="trill":Q.decoration[ae]==="lowermordent"?Z.noteModification="lowermordent":Q.decoration[ae]==="uppermordent"?Z.noteModification="pralltriller":Q.decoration[ae]==="mordent"?Z.noteModification="mordent":Q.decoration[ae]==="turn"?Z.noteModification="turn":Q.decoration[ae]==="roll"?Z.noteModification="roll":Q.decoration[ae]==="pralltriller"?Z.noteModification="pralltriller":Q.decoration[ae]==="trillh"&&(Z.noteModification="trillh");return Z}function lt(Q,oe){var Z=oe.start,ae=oe.duration,ve=j(1/32);switch(Q){case"trill":for(var _e=2;ae>0;)d.push({cmd:"note",pitch:oe.pitch+_e,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),_e=_e===2?0:2,ae-=ve,Z+=ve;break;case"trillh":for(var _e=1;ae>0;)d.push({cmd:"note",pitch:oe.pitch+_e,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),_e=_e===1?0:1,ae-=ve,Z+=ve;break;case"pralltriller":d.push({cmd:"note",pitch:oe.pitch,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),ae-=ve,Z+=ve,d.push({cmd:"note",pitch:oe.pitch+2,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),ae-=ve,Z+=ve,d.push({cmd:"note",pitch:oe.pitch,volume:oe.volume,start:Z,duration:ae,gap:0,instrument:u});break;case"mordent":case"lowermordent":d.push({cmd:"note",pitch:oe.pitch,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),ae-=ve,Z+=ve,d.push({cmd:"note",pitch:oe.pitch-2,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),ae-=ve,Z+=ve,d.push({cmd:"note",pitch:oe.pitch,volume:oe.volume,start:Z,duration:ae,gap:0,instrument:u});break;case"turn":ve=oe.duration/4,d.push({cmd:"note",pitch:oe.pitch+2,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),d.push({cmd:"note",pitch:oe.pitch,volume:oe.volume,start:Z+ve,duration:ve,gap:0,instrument:u,style:"decoration"}),d.push({cmd:"note",pitch:oe.pitch-1,volume:oe.volume,start:Z+ve*2,duration:ve,gap:0,instrument:u,style:"decoration"}),d.push({cmd:"note",pitch:oe.pitch,volume:oe.volume,start:Z+ve*3,duration:ve,gap:0,instrument:u,style:"decoration"});break;case"roll":for(;ae>0;)d.push({cmd:"note",pitch:oe.pitch,volume:oe.volume,start:Z,duration:ve,gap:0,instrument:u,style:"decoration"}),ae-=ve*2,Z+=ve*2;break}}function bt(Q,oe){var Z=Te(I(Q.time),oe);p.processChord(Q);var ae;if(Q.gracenotes&&Q.pitches&&Q.pitches.length>0&&Q.pitches[0]&&(ae=Ze(Q.gracenotes,Q.pitches[0].duration),Q.elem&&(Q.elem.midiGraceNotePitches=ze(ae,I(Q.time),Z*2/3,u))),Q.elem){var ve=I(Q.time),_e=ve/N/s*60*1e3;if(Q.elem.currentTrackMilliseconds===void 0)Q.elem.currentTrackMilliseconds=_e,Q.elem.currentTrackWholeNotes=ve;else if(Q.elem.currentTrackMilliseconds.length===void 0)Q.elem.currentTrackMilliseconds!==_e&&(Q.elem.currentTrackMilliseconds=[Q.elem.currentTrackMilliseconds,_e],Q.elem.currentTrackWholeNotes=[Q.elem.currentTrackWholeNotes,ve]);else{for(var Pe=!1,Ge=0;Ge<Q.elem.currentTrackMilliseconds.length;Ge++)Q.elem.currentTrackMilliseconds[Ge]===_e&&(Pe=!0);Pe||(Q.elem.currentTrackMilliseconds.push(_e),Q.elem.currentTrackWholeNotes.push(ve))}}if(Q.pitches){var Ie="",Ue=Me(Q,Z);Ue.thisBreakBetweenNotes&&(Ie=Ue.thisBreakBetweenNotes),Ue.velocity&&(Z=Ue.velocity);var St=Q.pitches;Q.style==="rhythm"&&(St=p.setRhythmHead(!0,Q)),Q.elem&&(Q.elem.midiPitches=[]);for(var be=0;be<St.length;be++){let Ot=Z;!Ue.velocity&&Array.isArray(Q.decoration)&&Q.decoration.length>be&&(Ot=Te(I(Q.time),oe,be));var pe=St[be];if(pe){pe.startSlur&&(P+=pe.startSlur.length),pe.endSlur&&(P-=pe.endSlur.length);var Be=pe.actualPitch?pe.actualPitch:Nt(pe);if(u===y&&$){var Xe=fx(pe);Xe&&$[Xe]&&(Be=$[Xe].sound)}var Qe={cmd:"note",pitch:Be,volume:Ot,start:I(Q.time),duration:j(pe.duration),instrument:u,startChar:Q.elem.startChar,endChar:Q.elem.endChar};if(Qe=He(Qe),Q.gracenotes&&(Qe.duration=Qe.duration/2,Qe.start=Qe.start+Qe.duration),Q.elem&&Q.elem.midiPitches.push(Qe),Ue.noteModification)lt(Ue.noteModification,Qe);else{switch(P>0?Qe.endType="tenuto":Ie&&(Qe.endType=Ie),Qe.endType){case"tenuto":Qe.gap=ce;break;case"staccato":var _t=Qe.duration*Se;Qe.gap=s/60*_t;break;default:Qe.gap=G;break}d.push(Qe)}}}d.length-1}var zt=jt(Q);m=Math.max(m,I(Q.time)+j(zt))}function jt(Q){return Q.pitches&&Q.pitches.length>0&&Q.pitches[0]?Q.pitches[0].duration:Q.elem?Q.elem.duration:Q.duration}var mt=[0,2,4,5,7,9,11];function Nt(Q){if(Q.midipitch!==void 0)return Q.midipitch;var oe=Q.pitch;if(Q.accidental)switch(Q.accidental){case"sharp":e[oe]=1;break;case"flat":e[oe]=-1;break;case"natural":e[oe]=0;break;case"dblsharp":e[oe]=2;break;case"dblflat":e[oe]=-2;break;case"quartersharp":e[oe]=.25;break;case"quarterflat":e[oe]=-.25;break}var Z=pt(oe)*12+mt[ft(oe)]+60;return e[oe]!==void 0?Z+=e[oe]:Z+=t[ft(oe)],Z+=n,Z}function Ee(Q){var oe=[0,0,0,0,0,0,0];if(!Q.accidentals)return oe;for(var Z=0;Z<Q.accidentals.length;Z++){var ae=Q.accidentals[Z],ve;switch(ae.acc){case"flat":ve=-1;break;case"quarterflat":ve=-.25;break;case"sharp":ve=1;break;case"quartersharp":ve=.25;break;default:ve=0;break}var _e=ae.note.toLowerCase(),Pe=ft(_e.charCodeAt(0)-99);oe[Pe]+=ve}return oe}function Ze(Q,oe){for(var Z=0,ae=[],ve,_e=0;_e<Q.length;_e++)ve=Q[_e],Z+=ve.duration;var Pe=oe/2/Z;for(_e=0;_e<Q.length;_e++){ve=Q[_e];var Ge=Nt(ve);if(u===y&&$){var Ie=fx(ve);Ie&&$[Ie]&&(Ge=$[Ie].sound)}var Ue={pitch:Ge,duration:ve.duration*Pe};Ue=He(Ue),ae.push(Ue)}return ae}function ze(Q,oe,Z,ae){var ve=[];Z=Math.round(Z);for(var _e=0;_e<Q.length;_e++){var Pe=Q[_e];d.push({cmd:"note",pitch:Pe.pitch,volume:Z,start:oe,duration:Pe.duration,gap:0,instrument:ae,style:"grace"}),ve.push({pitch:Pe.pitch,durationInMeasures:Pe.duration,volume:Z,instrument:ae}),oe+=Pe.duration}return ve}function He(Q){var oe=""+Q.pitch;return oe.indexOf(".75")>=0?(Q.pitch=Math.round(Q.pitch),Q.cents=-50):oe.indexOf(".25")>=0&&(Q.pitch=Math.round(Q.pitch),Q.cents=50),Q}function pt(Q){return Math.floor(Q/7)}function ft(Q){return Q=Q%7,Q<0&&(Q+=7),Q}function Dt(Q){if(Q.pattern.length===0||Q.on===!1)return{on:!1};for(var oe=Q.pattern[0],Z=[],ae="",ve=0,_e=0;_e<oe.length;_e++)if(oe[_e]==="d"&&ve++,oe[_e]==="d"||oe[_e]==="z")ae.length!==0?(Z.push(ae),ae=oe[_e]):ae=ae+oe[_e];else{if(ae.length===0)return{on:!1};ae=ae+oe[_e]}if(ae.length!==0&&Z.push(ae),Q.pattern.length!==ve*2+1)return{on:!1};for(var Pe={on:!0,bars:Q.bars,pattern:[]},Ge=K(g),Ie=0,Ue=0;Ue<Z.length;Ue++){ae=Z[Ue];for(var St=1,be=!1,pe=0,Be=1;Be<ae.length;Be++)switch(ae[Be]){case"/":pe!==0&&(St*=pe),pe=0,be=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":pe=pe*10+ae[Be];break;default:return{on:!1}}be?(pe===0&&(pe=2),St/=pe):pe&&(St*=pe),ae[0]==="d"?(Pe.pattern.push({len:St*Ge,pitch:Q.pattern[1+Ie],velocity:Q.pattern[1+Ie+ve]}),Ie++):Pe.pattern.push({len:St*Ge,pitch:null})}return H=Q.bars?Q.bars:1,Pe}function It(){if(!(!F||!F.pattern)){for(var Q=F,oe=0,Z=g.num/g.den,ae=0;ae<Q.pattern.length;ae++)oe+=Q.pattern[ae].len;var ve=oe/H/Z;for(ae=0;ae<Q.pattern.length;ae++)Q.pattern[ae].len=Q.pattern[ae].len/ve;F=Q}}function Yt(Q){if(!(U.length===0&&!F.on)){var oe=g.num/g.den;if(U.length===0){if(m<oe)return;U.push({cmd:"program",channel:Q,instrument:y})}if(F.on)for(var Z=S,ae=0;ae<F.pattern.length;ae++){var ve=j(F.pattern[ae].len);F.pattern[ae].pitch&&U.push({cmd:"note",pitch:F.pattern[ae].pitch,volume:F.pattern[ae].velocity,start:Z,duration:ve,gap:0,instrument:y}),Z+=ve}}}function $n(Q,oe){for(var Z={},ae=0;ae<Q.length;ae++)for(var ve=0;ve<Q[ae].length;ve++){var _e=Q[ae][ve];_e.cmd==="note"&&(Z[_e.start]===void 0&&(Z[_e.start]=[]),Z[_e.start].push({track:ae,event:ve,pitch:_e.pitch}))}var Pe=Object.keys(Z);for(ae=0;ae<Pe.length;ae++){var Ge=Z[Pe[ae]];if(Ge.length>1){Ge=Ge.sort(function(pe,Be){return pe.pitch-Be.pitch});var Ie=Ge[Ge.length-1],Ue=Ie.pitch%12,St=!1;for(ve=0;!St&&ve<Ge.length-1;ve++)Ge[ve].pitch%12===Ue&&(St=!0);if(St){var be=Q[Ie.track][Ie.event];be.cents||(be.cents=0),be.cents+=oe}}}}})();var Mz=TT;function Iz(e,t){t||(t={});for(var n=!!t.lineBreaks,i=[],s=!1,o=[],c=[],u=[],d=[],h=[],m=[],p=[],g=0;g<e.length;g++){var y=hx(e[g]);if(y.staff){if(s&&!y.vskip)for(var S=i[i.length-1],x=0;x<S.staff.length;x++){var E=y.staff[x],_=S.staff[x];if(E&&(Go(E.meter,o[x])||(Lz(E.meter,E.voices),o[x]=E.meter,delete E.meter),Go(E.key,c[x])||(Uz(E.key,E.voices),c[x]=E.key,delete E.key),E.title&&(_.abbrevTitle=E.title),Go(E.clef,u[x])||(Pz(E.clef,E.voices),u[x]=E.clef,delete E.clef),Go(E.vocalfont,d[x])||(sp(E.vocalfont,E.voices,"vocalfont"),d[x]=E.vocalfont,delete E.vocalfont),Go(E.gchordfont,h[x])||(sp(E.gchordfont,E.voices,"gchordfont"),h[x]=E.gchordfont,delete E.gchordfont),Go(E.tripletfont,m[x])||(sp(E.tripletfont,E.voices,"tripletfont"),m[x]=E.tripletfont,delete E.tripletfont),Go(E.annotationfont,p[x])||(sp(E.annotationfont,E.voices,"annotationfont"),p[x]=E.annotationfont,delete E.annotationfont)),E)for(var T=0;T<_.voices.length;T++){var O=_.voices[T],N=E.voices[T];n&&O.push({el_type:"break"}),N&&(_.voices[T]=O.concat(N))}}else{for(var D=0;D<y.staff.length;D++)c[D]=y.staff[D].key,o[D]=y.staff[D].meter,u[D]=y.staff[D].clef;i.push(hx(y))}s=!0}else s=!1,i.push(y)}return i}function dx(e,t){return e==="abselem"?"abselem":t}function Lz(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function Uz(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function Pz(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function sp(e,t,n){e.el_type="font",e.type=n,e.startChar=-1,e.endChar=-1;for(var i=0;i<t.length;i++)t[i].unshift(e)}function Go(e,t){if(!e)return!0;var n=JSON.stringify(e,dx),i=JSON.stringify(t,dx);return n===i}function hx(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)if(n[i]!=="staff")t[n[i]]=e[n[i]];else{t.staff=[];for(var s=0;s<e.staff.length;s++){for(var o={},c=Object.keys(e.staff[s]),u=0;u<c.length;u++)if(c[u]!=="voices")o[c[u]]=e.staff[s][c[u]];else{o.voices=[];for(var d=0;d<e.staff[s].voices.length;d++)o.voices.push([].concat(e.staff[s].voices[d]))}t.staff.push(o)}}return t}var Bz=Iz,px=Ni,vx=zr,Fz=xT,jz=Mz,zz=Bz,Vz=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function e(c,u,d,h){for(var m=0;m<h.length;m++)c[d][h[m]]=u[d][h[m]]}this.copyTopInfo=function(c){var u=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,c,"metaText",u),e(this,c,"metaTextInfo",u)},this.copyBottomInfo=function(c){var u=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,c,"metaText",u),e(this,c,"metaTextInfo",u)},this.getBeatLength=function(){var c=this.getMeterFraction(),u=1;return c.num===6||c.num===9||c.num===12||c.num===3&&c.den===8?u=3:c.den===8&&(c.num===5||c.num===7)&&(u=2),u/c.den};function t(c,u){for(var d=0,h=0;h<c.length;h++)if(c[h].staff)for(var m=0;m<c[h].staff.length;m++)for(var p=0;p<c[h].staff[m].voices.length;p++)for(var g=c[h].staff[m].voices[p],y=1,S=0;S<g.length;S++){var x=g[S].rest&&g[S].rest.type==="spacer";if(g[S].startTriplet&&(y=g[S].tripletMultiplier),g[S].duration&&!x&&g[S].el_type!=="tempo"&&(d+=g[S].duration*y),g[S].endTriplet&&(y=1),d>=u&&(d-=u),g[S].el_type==="bar")return d}return d}this.getPickupLength=function(){var c=this.getBarLength(),u=t(this.lines,c);return u<1e-8||c-u<1e-8?0:u},this.getBarLength=function(){var c=this.getMeterFraction();return c.num/c.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(c){var u;if(c)u=c;else{var d=this.metaText?this.metaText.tempo:null;u=this.getBpm(d)}u<=0&&(u=1);var h=this.getBeatsPerMeasure(),m=h/u;return m*6e4},this.getBeatsPerMeasure=function(){var c=this.getBeatLength(),u=this.getBarLength();return u/c},this.getMeter=function(){for(var c=0;c<this.lines.length;c++){var u=this.lines[c];if(u.staff)for(var d=0;d<u.staff.length;d++){var h=u.staff[d].meter;if(h)return h}}return{type:"common_time"}},this.getMeterFraction=function(){var c=this.getMeter(),u=4,d=4;if(c)if(c.type==="specified"){if(c.value&&c.value.length>0&&c.value[0].num.indexOf("+")>0){var h=c.value[0].num.split("+");u=0;for(var m=0;m<h.length;m++)u+=parseInt(h[m],10)}else u=parseInt(c.value[0].num,10);d=parseInt(c.value[0].den,10)}else c.type==="cut_time"?(u=2,d=2):c.type==="common_time"&&(u=4,d=4);return this.meter={num:u,den:d},this.meter},this.getKeySignature=function(){for(var c=0;c<this.lines.length;c++){var u=this.lines[c];if(u.staff){for(var d=0;d<u.staff.length;d++)if(u.staff[d].key)return u.staff[d].key}}return{}},this.getElementFromChar=function(c){for(var u=0;u<this.lines.length;u++){var d=this.lines[u];if(d.staff)for(var h=0;h<d.staff.length;h++)for(var m=d.staff[h],p=0;p<m.voices.length;p++)for(var g=m.voices[p],y=0;y<g.length;y++){var S=g[y];if(S.startChar&&S.endChar&&S.startChar<=c&&S.endChar>c)return S}}return null};function n(c){for(var u,d,h,m,p=c.length-1;p>=0;p--){var g=c[p];g.type==="bar"?(g.top=h,g.nextTop=u,u=h,g.bottom=m,g.nextBottom=d,d=m):g.type==="event"&&(h=g.top,m=g.top+g.height)}}function i(c){var u=[];for(var d in c)c.hasOwnProperty(d)&&u.push(c[d]);return u=u.sort(function(h,m){var p=h.milliseconds-m.milliseconds;return p!==0?p:h.type==="bar"?-1:1}),u}this.addElementToEvents=function(c,u,d,h,m,p,g,y,S,x){if(u.hint)return{isTiedState:void 0,duration:0};var E=u.durationClass?u.durationClass:u.duration;if(u.abcelem.rest&&u.abcelem.rest.type==="spacer"&&(E=0),E>0){for(var _=[],T=0;T<u.elemset.length;T++)u.elemset[T]!==null&&_.push(u.elemset[T]);var O=u.startTie;if(S!==void 0)c["event"+S].elements.push(_),x&&(c["event"+d]||(c["event"+d]={type:"event",milliseconds:d,line:p,measureNumber:g,top:h,height:m,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),c["event"+d].measureStart=!0,x=!1),O||(S=void 0);else{if(!c["event"+d])c["event"+d]={type:"event",milliseconds:d,line:p,measureNumber:g,top:h,height:m,left:u.x,width:u.w,elements:[_],startChar:u.abcelem.startChar,endChar:u.abcelem.endChar,startCharArray:[u.abcelem.startChar],endCharArray:[u.abcelem.endChar],midiPitches:u.abcelem.midiPitches?px.cloneArray(u.abcelem.midiPitches):[]},u.abcelem.midiGraceNotePitches&&(c["event"+d].midiGraceNotePitches=px.cloneArray(u.abcelem.midiGraceNotePitches));else{if(c["event"+d].left?c["event"+d].left=Math.min(c["event"+d].left,u.x):c["event"+d].left=u.x,c["event"+d].elements.push(_),c["event"+d].startCharArray.push(u.abcelem.startChar),c["event"+d].endCharArray.push(u.abcelem.endChar),c["event"+d].startChar===null&&(c["event"+d].startChar=u.abcelem.startChar),c["event"+d].endChar===null&&(c["event"+d].endChar=u.abcelem.endChar),u.abcelem.midiPitches&&u.abcelem.midiPitches.length){c["event"+d].midiPitches||(c["event"+d].midiPitches=[]);for(var T=0;T<u.abcelem.midiPitches.length;T++)c["event"+d].midiPitches.push(u.abcelem.midiPitches[T])}if(u.abcelem.midiGraceNotePitches&&u.abcelem.midiGraceNotePitches.length){c["event"+d].midiGraceNotePitches||(c["event"+d].midiGraceNotePitches=[]);for(var N=0;N<u.abcelem.midiGraceNotePitches.length;N++)c["event"+d].midiGraceNotePitches.push(u.abcelem.midiGraceNotePitches[N])}}x&&(c["event"+d].measureStart=!0,x=!1)}}return{isTiedState:S,duration:E/y,nextIsBar:x||u.type==="bar"}},this.makeVoicesArray=function(){for(var c=[],u=[],d={},h=0;h<this.engraver.staffgroups.length;h++){var m=this.engraver.staffgroups[h];if(m&&m.staffs&&m.staffs.length>0){var p=m.staffs[0],g=p.absoluteY,y=g-p.top*vx.STEP,S=m.staffs[m.staffs.length-1];g=S.absoluteY;for(var x=g-S.bottom*vx.STEP,E=x-y,_=m.voices,T=0;T<_.length;T++)if(!(_[T].staff&&_[T].staff.isTabStaff)){var O=!1;c[T]||(c[T]=[]),u[T]===void 0&&(u[T]=0);for(var N=_[T].children,D=0;D<N.length;D++)N[D].type==="tempo"&&(d[u[T]]=this.getBpm(N[D].abcelem)),c[T].push({top:y,height:E,line:m.line,measureNumber:u[T],elem:N[D]}),N[D].type==="bar"&&O&&u[T]++,(N[D].type==="note"||N[D].type==="rest")&&(O=!0)}}}return this.tempoLocations=d,c},this.setupEvents=function(c,u,d,h){h||(h=1);for(var m=[],p={},g=c,y,S=!0,x=this.makeVoicesArray(),E=0,_=0;_<x.length;_++){var T=g,O=Math.round(T*1e3),N=0,D=-1,R=x[_],P=d;u=this.getBeatLength()*P/60;for(var U=-1,F=0;F<R.length;F++){var H=R[F].measureNumber;U!==H&&this.tempoLocations[H]&&(P=this.tempoLocations[H],u=h*this.getBeatLength()*P/60,U=H);var Y=R[F].elem,$=this.addElementToEvents(p,Y,O,R[F].top,R[F].height,R[F].line,R[F].measureNumber,u,y,S);y=$.isTiedState,S=$.nextIsBar,T+=$.duration;var G;if(Y.duration>0&&p["event"+O]&&(G="event"+O),O=Math.round(T*1e3),Y.type==="bar"){var ce=Y.abcelem.type,Se=ce==="bar_right_repeat"||ce==="bar_dbl_repeat",ee=Y.abcelem.startEnding==="1",I=ce==="bar_left_repeat"||ce==="bar_dbl_repeat"||ce==="bar_right_repeat";if(Se){F>0&&(p[G].endX=Y.x),D===-1&&(D=F);var j=0;U=-1;for(var X=N;X<D;X++){H=R[X].measureNumber,U!==H&&this.tempoLocations[H]&&(P=this.tempoLocations[H],u=h*this.getBeatLength()*P/60,U=H);var K=R[X].elem;$=this.addElementToEvents(p,K,O,R[X].top,R[X].height,R[X].line,R[X].measureNumber,u,y,S),y=$.isTiedState,S=$.nextIsBar,T+=$.duration,j=O,O=Math.round(T*1e3)}p["event"+j]&&(p["event"+j].endX=R[D].elem.x),S=!0,D=-1}ee&&(D=F),I&&(N=F)}}E=Math.max(E,O)}return m=i(p),n(m),o(this.lines,m),m.push({type:"end",milliseconds:E}),this.addUsefulCallbackInfo(m,P*h),m},this.addUsefulCallbackInfo=function(c,u){for(var d=this.millisecondsPerMeasure(u),h=0;h<c.length;h++){var m=c[h];m.millisecondsPerMeasure=d}};function s(c,u){for(;u<c.length&&c[u].left===null;)u++;return c[u]}function o(c,u){if(!(u.length<1)){for(var d=0;d<u.length-1;d++){var h=u[d],m=s(u,d+1);if(h.left!==null){var p=m&&h.top===m.top?m.left:c[h.line].staffGroup.w;h.endX!==void 0?p>h.left&&(h.endX=Math.min(h.endX,p)):h.endX=p}}var g=u[u.length-1];g.endX=c[g.line].staffGroup.w}}this.getBpm=function(c){var u;if(c||(c=this.metaText?this.metaText.tempo:null),c){u=c.bpm;var d=this.getBeatLength(),h=c.duration&&c.duration.length>0?c.duration[0]:d;u=u*h/d}if(!u){u=180;var m=this.getMeterFraction();m&&m.num!==3&&m.num%3===0&&(u=120)}return u},this.setTiming=function(c,u){if(u=u||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var d=this.metaText?this.metaText.tempo:null,h=this.getBpm(d),m=1;c?d&&(m=c/h):c=h;var p=this.getBeatLength(),g=c/60,y=this.getBarLength(),S=y/p*u/g;S&&(S-=this.getPickupLength()/p/g);var x=p*g;return this.noteTimings=this.setupEvents(S,x,c,m),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*g):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(c){c||(c={});var u=Fz(this,c);return jz(u,c,this.formatting.percmap,this.formatting.midi)},this.deline=function(c){return zz(this.lines,c)},this.findSelectableElement=function(c){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(c):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}},Hz=Vz,mx=l3,$z=function(e){var t=this,n={},i="";e.reset(),this.setVisualTranspose=function(s){s!==void 0&&(e.visualTranspose=s)},this.cleanUp=function(s,o,c){jy(e),delete e.runningFonts,Gz(e),e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var u=!1,d,h,m;for(d=0;d<e.lines.length;d++)if(e.lines[d].staff!==void 0){var p=!1;for(h=0;h<e.lines[d].staff.length;h++)if(e.lines[d].staff[h]===void 0)u=!0,e.lines[d].staff[h]=null;else for(m=0;m<e.lines[d].staff[h].voices.length;m++)e.lines[d].staff[h].voices[m]===void 0?e.lines[d].staff[h].voices[m]=[]:zy(e.lines[d].staff[h].voices[m])&&(p=!0);p||(e.lines[d]=null,u=!0)}if(u&&(e.lines=e.lines.filter(function(_){return!!_}),e.lines.forEach(function(_){_.staff&&(_.staff=_.staff.filter(function(T){return!!T}))})),s)for(;Xz(e.lines,s););if(o){for(u=!1,d=0;d<e.lines.length;d++)if(e.lines[d].staff!==void 0)for(h=0;h<e.lines[d].staff.length;h++){var g=!1;for(m=0;m<e.lines[d].staff[h].voices.length;m++)eV(e.lines[d].staff[h].voices[m])&&(g=!0);g||(u=!0,e.lines[d].staff[h]=null)}u&&e.lines.forEach(function(_){_.staff&&(_.staff=_.staff.filter(function(T){return!!T}))})}for(qz(e.lines),d=0;d<e.lines.length;d++)if(e.lines[d].staff)for(h=0;h<e.lines[d].staff.length;h++)delete e.lines[d].staff[h].workingClef;for(;Kz(e););for(var d=0;d<e.lines.length;d++){var y=e.lines[d].staff;if(y)for(e.staffNum=0;e.staffNum<y.length;e.staffNum++)for(y[e.staffNum].clef&&mx.fixClef(y[e.staffNum].clef),e.voiceNum=0;e.voiceNum<y[e.staffNum].voices.length;e.voiceNum++){var S=y[e.staffNum].voices[e.voiceNum];Wz(S,e.staffNum,e.voiceNum,c);for(var x=0;x<S.length;x++)S[x].el_type==="clef"&&mx.fixClef(S[x]);if(S.length>0&&S[S.length-1].barNumber){var E=NT(e.lines,d);E&&(E.staff[0].barNumber=S[S.length-1].barNumber),delete S[S.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,c},this.addTieToLastNote=function(s){var o=Jz(e);return o&&o.pitches&&o.pitches.length>0?(o.pitches[0].startTie={},s&&(o.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(s,o,c,u){if(u.el_type=s,o!==null&&(u.startChar=o),c!==null&&(u.endChar=c),s==="note"){var d=Zz(u);d>=.25||u.force_end_beam_last&&e.potentialStartBeam!==void 0?op(e):u.end_beam&&e.potentialStartBeam!==void 0?u.rest===void 0?nV(u,e):op(e):u.rest===void 0&&(e.potentialStartBeam===void 0?u.end_beam||(e.potentialStartBeam=u,delete e.potentialEndBeam):e.potentialEndBeam=u)}else op(e);return delete u.end_beam,delete u.force_end_beam_last,u.rest&&u.rest.type==="invisible"&&delete u.decoration,e.lines.length<=e.lineNum||e.lines[e.lineNum].staff.length<=e.staffNum?!1:(tV(t,e,u,n,i),!0)},this.appendStartingElement=function(s,o,c,u){jy(e);var d;s==="key"&&(d=u.impliedNaturals,delete u.impliedNaturals,delete u.explicitAccidentals);var h=Object.assign({},u);if(e.lines[e.lineNum]){var m=e.lines[e.lineNum].staff;if(m){m.length<=e.staffNum&&(m[e.staffNum]={},m[e.staffNum].clef=Object.assign({},m[0].clef),m[e.staffNum].key=Object.assign({},m[0].key),m[0].meter&&(m[e.staffNum].meter=Object.assign({},m[0].meter)),m[e.staffNum].workingClef=Object.assign({},m[0].workingClef),m[e.staffNum].voices=[[]]),s==="clef"&&(m[e.staffNum].workingClef=h);for(var p=m[e.staffNum].voices[e.voiceNum],g=0;g<p.length;g++){if(p[g].el_type==="note"||p[g].el_type==="bar"){h.el_type=s,h.startChar=o,h.endChar=c,d&&(h.accidentals=d.concat(h.accidentals)),p.push(h);return}if(p[g].el_type===s){h.el_type=s,h.startChar=o,h.endChar=c,d&&(h.accidentals=d.concat(h.accidentals)),p[g]=h;return}}m[e.staffNum][s]=u}}},this.addSubtitle=function(s,o){G0(e,{subtitle:{text:s,startChar:o.startChar,endChar:o.endChar}})},this.addSpacing=function(s){e.vskipPending=s},this.addNewPage=function(s){G0(e,{newpage:s})},this.addSeparator=function(s,o,c,u){G0(e,{separator:{spaceAbove:Math.round(s),spaceBelow:Math.round(o),lineLength:Math.round(c),startChar:u.startChar,endChar:u.endChar}})},this.addText=function(s,o){G0(e,{text:{text:s,startChar:o.startChar,endChar:o.endChar}})},this.addCentered=function(s){G0(e,{text:[{text:s,center:!0}]})},this.changeVoiceScale=function(s){t.appendElement("scale",null,null,{size:s})},this.changeVoiceColor=function(s){t.appendElement("color",null,null,{color:s})},this.startNewLine=function(s){jy(e),s.currentVoiceName&&(i=s.currentVoiceName,n[s.currentVoiceName]=s),e.lines[e.lineNum]===void 0?rV(t,e,s):e.lines[e.lineNum].staff===void 0?(e.lineNum++,this.startNewLine(s)):e.lines[e.lineNum].staff[e.staffNum]===void 0?_T(t,e,s):e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]===void 0?d3(t,e,s):zy(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(s)):s.part&&t.appendElement("part",s.part.startChar,s.part.endChar,{title:s.part.title})},this.setRunningFont=function(s,o){e.runningFonts[s]=o},this.setBarNumberImmediate=function(s){var o=this.getCurrentVoice();if(o&&o.length>0){var c=o[o.length-1];if(c.el_type==="bar")c.barNumber!==void 0&&(c.barNumber=s);else return s-1}return s},this.hasBeginMusic=function(){for(var s=0;s<e.lines.length;s++)if(e.lines[s].staff)return!0;return!1},this.isFirstLine=function(s){for(var o=s-1;o>=0;o--)if(e.lines[o].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var s=Qz(e.lines,e.lineNum);if(!s)return null;var o=s.staff[e.staffNum];return o&&o.voices[e.voiceNum]!==void 0?o.voices[e.voiceNum]:null},this.setCurrentVoice=function(s,o,c){e.staffNum=s,e.voiceNum=o,i=c;for(var u=0;u<e.lines.length;u++)if(e.lines[u].staff&&(e.lines[u].staff[s]===void 0||e.lines[u].staff[s].voices[o]===void 0||!zy(e.lines[u].staff[s].voices[o])))return e.lineNum=u,!!(!e.lines[u].staff[s]||e.lines[u].staff[s].voices[o]);return e.lineNum=u,!1},this.addMetaText=function(s,o,c){e.metaText[s]===void 0?(e.metaText[s]=o,e.metaTextInfo[s]=c):(typeof e.metaText[s]=="string"&&typeof o=="string"?e.metaText[s]+=`
`+o:(e.metaText[s]==="string"&&(e.metaText[s]=[{text:e.metaText[s]}]),typeof o=="string"&&(o=[{text:o}]),e.metaText[s]=e.metaText[s].concat(o)),e.metaTextInfo[s].endChar=c.endChar)},this.addMetaTextArray=function(s,o,c){e.metaText[s]===void 0?(e.metaText[s]=[o],e.metaTextInfo[s]=c):(e.metaText[s].push(o),e.metaTextInfo[s].endChar=c.endChar)},this.addMetaTextObj=function(s,o,c){e.metaText[s]=o,e.metaTextInfo[s]=c}};function gx(e){if(!e||typeof e=="string")return!1;for(var t=0;t<e.length;t++)if(typeof e[t]!="string")return!1;return!0}function Gz(e){gx(e.metaText.notes)&&(e.metaText.notes=e.metaText.notes.join(`
`)),gx(e.metaText.history)&&(e.metaText.history=e.metaText.history.join(`
`))}function Kz(e){for(var t=!1,n=[],i=0;i<e.lines.length;i++){var s=e.lines[i];if(s.staff)for(var o=0;o<s.staff.length;o++){for(var c=s.staff[o],u=[],d=0;d<c.voices.length;d++){var h=c.voices[d];u.push({hasOverlay:!1,voice:[],snip:[]}),n[i]=0;for(var m=0,p=!1,g=-1,y=0;y<h.length;y++){var S=h[y];if(S.el_type==="overlay"&&!p){t=!0,p=!0,g=y,u[d].hasOverlay=!0;for(var x=0;x<i;x++)n[x]&&e.lines[x].staff&&c.voices.length>=e.lines[x].staff[0].voices.length&&e.lines[x].staff[0].voices.push([{el_type:"note",duration:n[x],rest:{type:"invisible"},startChar:S.startChar,endChar:S.endChar}])}else S.el_type==="bar"?(p?(p=!1,u[d].snip.push({start:g,len:y-g}),u[d].voice.push(S)):(m>0&&u[d].voice.push({el_type:"note",duration:m,rest:{type:"invisible"},startChar:S.startChar,endChar:S.endChar}),u[d].voice.push(S)),m=0):S.el_type==="note"?p?u[d].voice.push(S):(!S.rest||S.rest.type!=="spacer")&&(m+=S.duration,n[i]+=S.duration):(S.el_type==="scale"||S.el_type==="stem"||S.el_type==="overlay"||S.el_type==="style"||S.el_type==="transpose"||S.el_type==="color")&&u[d].voice.push(S)}u[d].hasOverlay&&u[d].snip.length===0&&u[d].snip.push({start:g,len:h.length-g})}for(d=0;d<u.length;d++){var E=u[d];if(E.hasOverlay){E.voice.splice(0,0,{el_type:"stem",direction:"down"}),c.voices.push(E.voice);for(var _=E.snip.length-1;_>=0;_--){var T=E.snip[_];c.voices[d].splice(T.start,T.len),c.voices[d].splice(T.start+1,0,{el_type:"stem",direction:"auto"});var O=Yz(c.voices[d],T.start);c.voices[d].splice(O,0,{el_type:"stem",direction:"up"})}for(_=0;_<c.voices[c.voices.length-1].length;_++){c.voices[c.voices.length-1][_]=Object.assign({},c.voices[c.voices.length-1][_]);var N=c.voices[c.voices.length-1][_];N.el_type==="bar"&&N.startEnding&&delete N.startEnding,N.el_type==="bar"&&N.endEnding&&delete N.endEnding}}}}}return t}function Yz(e,t){for(var n=t-1;n>0&&e[n].el_type!=="bar";n--);return n}function qz(e){for(var t=!0,n=0;n<e.length;n++){var i=e[n];if(i.staff){for(var s=0;s<i.staff.length;s++){var o=i.staff[s];if(o.title){for(var c=!1,u=0;u<o.title.length;u++)o.title[u]?(o.title[u]=t?o.title[u].name:o.title[u].subname,o.title[u]?c=!0:o.title[u]=""):o.title[u]="";c||delete o.title}}t=!1}}}function Wz(e,t,n,i){i[t]||(i[t]=[]),i[t][n]||(i[t][n]=[]);for(var s,o=function(_,T,O){if(i[t][n][O]===void 0){for(s=0;s<i[t][n].length;s++)if(i[t][n][s]!==void 0){O=s;break}if(i[t][n][O]===void 0){var N=O*100+1;_.endSlur.forEach(function(P){N===P&&--N}),i[t][n][O]=[N]}}for(var D,R=0;R<T;R++)D=i[t][n][O].pop(),_.endSlur.push(D);return i[t][n][O].length===0&&delete i[t][n][O],D},c=function(_,T,O,N){_.startSlur=[],i[t][n][O]===void 0&&(i[t][n][O]=[]);for(var D=O*100+1,R=0;R<T;R++)N&&(N.forEach(function(P){D===P&&++D}),N.forEach(function(P){D===P&&++D}),N.forEach(function(P){D===P&&++D})),i[t][n][O].forEach(function(P){D===P&&++D}),i[t][n][O].forEach(function(P){D===P&&++D}),i[t][n][O].push(D),_.startSlur.push({label:D}),_.dottedSlur&&(_.startSlur[_.startSlur.length-1].style="dotted",delete _.dottedSlur),D++},u=0;u<e.length;u++){var d=e[u];if(d.el_type==="note"){if(d.gracenotes)for(var h=0;h<d.gracenotes.length;h++){if(d.gracenotes[h].endSlur){var m=d.gracenotes[h].endSlur;d.gracenotes[h].endSlur=[];for(var p=0;p<m;p++)o(d.gracenotes[h],1,20)}d.gracenotes[h].startSlur&&(s=d.gracenotes[h].startSlur,c(d.gracenotes[h],s,20))}if(d.endSlur&&(s=d.endSlur,d.endSlur=[],o(d,s,0)),d.startSlur&&(s=d.startSlur,c(d,s,0)),d.pitches){for(var g=[],y=0;y<d.pitches.length;y++)if(d.pitches[y].endSlur){var S=d.pitches[y].endSlur;d.pitches[y].endSlur=[];for(var x=0;x<S;x++){var E=o(d.pitches[y],1,y+1);g.push(E)}}for(y=0;y<d.pitches.length;y++)d.pitches[y].startSlur&&(s=d.pitches[y].startSlur,c(d.pitches[y],s,y+1,g));d.gracenotes&&d.pitches[0].endSlur&&d.pitches[0].endSlur[0]===100&&d.pitches[0].startSlur&&(d.gracenotes[0].endSlur?d.gracenotes[0].endSlur.push(d.pitches[0].startSlur[0].label):d.gracenotes[0].endSlur=[d.pitches[0].startSlur[0].label],d.pitches[0].endSlur.length===1?delete d.pitches[0].endSlur:d.pitches[0].endSlur[0]===100?d.pitches[0].endSlur.shift():d.pitches[0].endSlur[d.pitches[0].endSlur.length-1]===100&&d.pitches[0].endSlur.pop(),i[t][n][1].length===1?delete i[t][n][1]:i[t][n][1].pop())}}}}function Xz(e,t){for(var n=0;n<e.length;n++)if(e[n].staff!==void 0)for(var i=0;i<e[n].staff.length;i++)for(var s=[],o=0;o<e[n].staff[i].voices.length;o++)for(var c=e[n].staff[i].voices[o],u=0,d=0;d<c.length;d++)if(c[d].el_type==="bar"){if(u++,u>=t&&d<c.length-1){var h=NT(e,n);if(!h){var m=JSON.parse(JSON.stringify(e[n]));e.push(Object.assign({},m)),h=e[e.length-1];for(var p=0;p<h.staff.length;p++)for(var g=0;g<h.staff[p].voices.length;g++)h.staff[p].voices[g]=[]}var y=d+1,S=e[n].staff[i].voices[o].slice(y);return e[n].staff[i].voices[o]=e[n].staff[i].voices[o].slice(0,y),h.staff[i].voices[o]=s.concat(S.concat(h.staff[i].voices[o])),!0}}else c[d].duration||s.push(c[d]);return!1}function Qz(e,t){if(e.length<=t)return null;for(;t>=0;){if(e[t].staff)return e[t];t--}return null}function NT(e,t){for(t++;e.length>t;){if(e[t].staff)return e[t];t++}return null}function Jz(e){if(!e.lines[e.lineNum]||!e.lines[e.lineNum].staff||!e.lines[e.lineNum].staff[e.staffNum])return null;var t=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum];if(!t)return null;for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.el_type==="note")return i}return null}function Zz(e){return e.duration?e.duration:0}function jy(e){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function zy(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"||e[t].el_type==="bar")return!0;return!1}function eV(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"&&(e[t].rest===void 0||e[t].chord!==void 0))return!0;return!1}function G0(e,t){e.vskipPending&&(t.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(t)}function tV(e,t,n,i,s){var o=t.lines[t.lineNum].staff[t.staffNum];if(n.pitches!==void 0){var c=o.workingClef.verticalPos;n.pitches.forEach(function(d){d.verticalPos=d.pitch-c})}if(n.gracenotes!==void 0){var u=o.workingClef.verticalPos;n.gracenotes.forEach(function(d){d.verticalPos=d.pitch-u})}o.voices.length<=t.voiceNum&&(i[s]||(i[s]={}),d3(e,t,i[s])),o.voices[t.voiceNum].push(n)}function nV(e,t){t.potentialStartBeam.startBeam=!0,e.endBeam=!0,delete t.potentialStartBeam,delete t.potentialEndBeam}function op(e){e.potentialStartBeam!==void 0&&e.potentialEndBeam!==void 0&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function cp(e,t,n){if(e.runningFonts[t]){for(var i=!1,s=Object.keys(n),o=0;o<s.length;o++)e.runningFonts[t][s[o]]!==n[s[o]]&&(i=!0);i&&(e.lines[e.lineNum].staff[e.staffNum][t]=n)}e.runningFonts[t]=n}function d3(e,t,n){var i=t.lines[t.lineNum].staff[t.staffNum];if(i.voices[t.voiceNum]=[],i.title||(i.title=[]),i.title[t.voiceNum]={name:n.name,subname:n.subname},n.style&&e.appendElement("style",null,null,{head:n.style}),n.stem)e.appendElement("stem",null,null,{direction:n.stem});else if(t.voiceNum>0){if(i.voices[0]!==void 0){for(var s=!1,o=0;o<i.voices[0].length;o++)i.voices[0].el_type==="stem"&&(s=!0);if(!s){var c={el_type:"stem",direction:"up"};i.voices[0].splice(0,0,c)}}e.appendElement("stem",null,null,{direction:"down"})}n.scale&&e.appendElement("scale",null,null,{size:n.scale}),n.color&&e.appendElement("color",null,null,{color:n.color})}function _T(e,t,n){n.key&&n.key.impliedNaturals&&(n.key.accidentals=n.key.accidentals.concat(n.key.impliedNaturals),delete n.key.impliedNaturals),t.lines[t.lineNum].staff[t.staffNum]={voices:[],clef:n.clef,key:n.key,workingClef:n.clef};var i=t.lines[t.lineNum].staff[t.staffNum];n.stafflines!==void 0&&(i.clef.stafflines=n.stafflines,i.workingClef.stafflines=n.stafflines),n.staffscale&&(i.staffscale=n.staffscale),n.annotationfont&&cp(t,"annotationfont",n.annotationfont),n.gchordfont&&cp(t,"gchordfont",n.gchordfont),n.tripletfont&&cp(t,"tripletfont",n.tripletfont),n.vocalfont&&cp(t,"vocalfont",n.vocalfont),n.bracket&&(i.bracket=n.bracket),n.brace&&(i.brace=n.brace),n.connectBarLines&&(i.connectBarLines=n.connectBarLines),n.barNumber&&(i.barNumber=n.barNumber),d3(e,t,n),n.part&&e.appendElement("part",n.part.startChar,n.part.endChar,{title:n.part.title}),n.meter!==void 0&&(i.meter=n.meter),t.vskipPending&&(t.lines[t.lineNum].vskip=t.vskipPending,delete t.vskipPending)}function rV(e,t,n){t.lines[t.lineNum]={staff:[]},_T(e,t,n)}var aV=$z,Vs=Ni,yx=o3,iV=$j,sV=nz,oV=rz,cV=ST,lV=bz,uV=Hz,fV=aV,dV=function(){var e=new uV,t=new fV(e),n,i="",s="";this.getTune=function(){var N={formatting:e.formatting,lines:e.lines,media:e.media,metaText:e.metaText,metaTextInfo:e.metaTextInfo,version:e.version,addElementToEvents:e.addElementToEvents,addUsefulCallbackInfo:e.addUsefulCallbackInfo,getTotalTime:e.getTotalTime,getTotalBeats:e.getTotalBeats,getBarLength:e.getBarLength,getBeatLength:e.getBeatLength,getBeatsPerMeasure:e.getBeatsPerMeasure,getBpm:e.getBpm,getMeter:e.getMeter,getMeterFraction:e.getMeterFraction,getPickupLength:e.getPickupLength,getKeySignature:e.getKeySignature,getElementFromChar:e.getElementFromChar,makeVoicesArray:e.makeVoicesArray,millisecondsPerMeasure:e.millisecondsPerMeasure,setupEvents:e.setupEvents,setTiming:e.setTiming,setUpAudio:e.setUpAudio,deline:e.deline,findSelectableElement:e.findSelectableElement,getSelectableArray:e.getSelectableArray};return e.lineBreaks&&(N.lineBreaks=e.lineBreaks),e.visualTranspose&&(N.visualTranspose=e.visualTranspose),e.chordGrid&&(N.chordGrid=e.chordGrid),N};function o(N,D,R){N.positioning||(N.positioning={}),N.positioning[D]=R}function c(N,D,R){N.fonts||(N.fonts={}),N.fonts[D]=R}var u={reset:function(){for(var N in this)this.hasOwnProperty(N)&&typeof this[N]!="function"&&delete this[N];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(N,D){return this[N].decoration!==D[N].decoration||this[N].face!==D[N].face||this[N].size!==D[N].size||this[N].style!==D[N].style||this[N].weight!==D[N].weight},addFormattingOptions:function(N,D,R){R==="note"?(this.vocalPosition!=="auto"&&o(N,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&o(N,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(N,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(N,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(N,"volumePosition",this.volumePosition),this.differentFont("annotationfont",D)&&c(N,"annotationfont",this.annotationfont),this.differentFont("gchordfont",D)&&c(N,"gchordfont",this.gchordfont),this.differentFont("vocalfont",D)&&c(N,"vocalfont",this.vocalfont),this.differentFont("tripletfont",D)&&c(N,"tripletfont",this.tripletfont)):R==="bar"&&(this.dynamicPosition!=="auto"&&o(N,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&o(N,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&o(N,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&o(N,"volumePosition",this.volumePosition),this.differentFont("measurefont",D)&&c(N,"measurefont",this.measurefont),this.differentFont("repeatfont",D)&&c(N,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var N=0;N<this.inTie.length;N++)if(this.endingHoldOver.inTie.push([]),this.inTie[N])for(var D=0;D<this.inTie[N].length;D++)this.endingHoldOver.inTie[N].push(this.inTie[N][D]);for(var R in this.inTieChord)this.inTieChord.hasOwnProperty(R)&&(this.endingHoldOver.inTieChord[R]=this.inTieChord[R])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var N=0;N<this.endingHoldOver.inTie.length;N++){this.inTie.push([]);for(var D=0;D<this.endingHoldOver.inTie[N].length;D++)this.inTie[N].push(this.endingHoldOver.inTie[N][D])}for(var R in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(R)&&(this.inTieChord[R]=this.endingHoldOver.inTieChord[R])}}},d=function(N){u.warnings||(u.warnings=[]),u.warnings.push(N)},h=function(N){u.warningObjects||(u.warningObjects=[]),u.warningObjects.push(N)},m=function(N){var D=N.replace(/\x12/g," ");return D=D.replace(/&/g,"&amp;"),D=D.replace(/</g,"&lt;"),D.replace(/>/g,"&gt;")},p=function(N,D,R){D||(D=" ");var P=D[R];(P===" "||!P)&&(P="SPACE");var U=m(D.substring(R-64,R))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+P+"</span>"+m(D.substring(R+1).substring(0,64));d("Music Line:"+n.lineIndex+":"+(R+1)+": "+N+":  "+U),h({message:N,line:D,startChar:u.iChar+R,column:R})},g,y;this.getWarnings=function(){return u.warnings},this.getWarningObjects=function(){return u.warningObjects};var S=function(N,D){if(D.indexOf("")>=0){i+=D;return}if(D=i+D,i="",!N){p("Can't add words before the first line of music",N,0);return}D=Vs.strip(D),D[D.length-1]!=="-"&&(D=D+" ");for(var R=[],P=0,U=!1,F=function($){var G=Vs.strip(D.substring(P,$));if(G=G.replace(/\\([-_*|~])/g,"$1"),P=$+1,G.length>0){U&&(G=G.replace(/~/g," "));var ce=D[$];return ce!=="_"&&ce!=="-"&&(ce=" "),R.push({syllable:n.translateString(G),divider:ce}),U=!1,!0}return!1},H=!1,Y=0;Y<D.length;Y++){switch(D[Y]){case" ":case"":F(Y);break;case"-":!H&&!F(Y)&&R.length>0&&(Vs.last(R).divider="-",R.push({skip:!0,to:"next"}));break;case"_":H||(F(Y),R.push({skip:!0,to:"slur"}));break;case"*":H||(F(Y),R.push({skip:!0,to:"next"}));break;case"|":H||(F(Y),R.push({skip:!0,to:"bar"}));break;case"~":H||(U=!0);break}H=D[Y]==="\\"}N.forEach(function($){if(R.length!==0){if(R[0].skip){switch(R[0].to){case"next":$.el_type==="note"&&$.pitches!==null&&R.shift();break;case"slur":$.el_type==="note"&&$.pitches!==null&&R.shift();break;case"bar":$.el_type==="bar"&&R.shift();break}$.el_type!=="bar"&&($.lyric===void 0?$.lyric=[{syllable:"",divider:" "}]:$.lyric.push({syllable:"",divider:" "}))}else if($.el_type==="note"&&$.rest===void 0){var G=R.shift();G.syllable&&(G.syllable=G.syllable.replace(/ +/g,"")),$.lyric===void 0?$.lyric=[G]:$.lyric.push(G)}}})},x=function(N,D){if(D.indexOf("")>=0){s+=D;return}if(D=s+D,s="",!N){p("Can't add symbols before the first line of music",N,0);return}D=Vs.strip(D),D[D.length-1]!=="-"&&(D=D+" ");for(var R=[],P=0,U=!1,F=function(Y){var $=Vs.strip(D.substring(P,Y));if(P=Y+1,$.length>0){U&&($=$.replace(/~/g," "));var G=D[Y];return G!=="_"&&G!=="-"&&(G=" "),R.push({syllable:n.translateString($),divider:G}),U=!1,!0}return!1},H=0;H<D.length;H++)switch(D[H]){case" ":case"":F(H);break;case"-":!F(H)&&R.length>0&&(Vs.last(R).divider="-",R.push({skip:!0,to:"next"}));break;case"_":F(H),R.push({skip:!0,to:"slur"});break;case"*":F(H),R.push({skip:!0,to:"next"});break;case"|":F(H),R.push({skip:!0,to:"bar"});break;case"~":U=!0;break}N.forEach(function(Y){if(R.length!==0){if(R[0].skip)switch(R[0].to){case"next":Y.el_type==="note"&&Y.pitches!==null&&R.shift();break;case"slur":Y.el_type==="note"&&Y.pitches!==null&&R.shift();break;case"bar":Y.el_type==="bar"&&R.shift();break}else if(Y.el_type==="note"&&Y.rest===void 0){var $=R.shift();Y.lyric===void 0?Y.lyric=[$]:Y.lyric.push($)}}})},E=function(N){if(Vs.startsWith(N,"%%")){var D=yx.addDirective(N.substring(2));D&&p(D,N,2);return}var R=N.indexOf("%");if(R>=0&&(N=N.substring(0,R)),N=N.replace(/\s+$/,""),N.length!==0){if(i){S(t.getCurrentVoice(),N.substring(2));return}if(s){x(t.getCurrentVoice(),N.substring(2));return}if(N.length<2||N[1]!==":"||y.lineContinuation){y.parseMusic(N);return}var P=g.parseHeader(N);P.regular&&y.parseMusic(N),P.newline&&y.startNewLine(),P.words&&S(t.getCurrentVoice(),N.substring(2)),P.symbols&&x(t.getCurrentVoice(),N.substring(2))}};function _(N,D){N.push({el_type:"hint"});for(var R=0;R<D.length;R++){var P=D[R],U=Object.assign({},P);if(N.push(U),P.el_type==="bar")return}}function T(N,D){for(var R=0;R<N.length;R++){var P=N[R],U=D[R];if(U)for(var F=0;F<U.voices.length;F++){var H=U.voices[F],Y=P.voices[F];Y&&_(Y,H)}}}function O(){for(var N=0;N<e.lines.length;N++){var D=e.lines[N].staff;if(D){for(var R=N+1;R<e.lines.length&&e.lines[R].staff===void 0;)R++;if(R<e.lines.length){var P=e.lines[R].staff;T(D,P)}}}}this.parse=function(N,D,R){D||(D={}),R||(R=0),e.reset(),N=N.replace(/\r\n?/g,`
`)+`
`;var P=N.split(`
\\`);if(P.length>1){for(var U=1;U<P.length;U++)for(;P[U].length>0&&P[U][0]!==`
`;)P[U]=P[U].substr(1),P[U-1]+=" ";N=P.join("  ")}N=N.replace(/\\([ \t]*)(%.*)*\n/g,function(Se,ee,I){var j=I?Array(I.length+1).join(" "):"";return ee+""+j+`
`});var F=N.split(`
`);Vs.last(F).length===0&&F.pop(),n=new oV(F,u),g=new iV(n,p,u,e,t),y=new sV(n,p,u,e,t,g),D.print&&(e.media="print"),u.reset(),u.iChar=R,D.visualTranspose?(u.globalTranspose=parseInt(D.visualTranspose),u.globalTranspose===0?u.globalTranspose=void 0:t.setVisualTranspose(D.visualTranspose)):u.globalTranspose=void 0,D.lineBreaks&&(u.lineBreaks=D.lineBreaks),g.reset(n,p,u,e);try{D.format&&yx.globalFormatting(D.format);for(var H=n.nextLine();H;){if(D.header_only&&u.is_in_header===!1||D.stop_on_warning&&u.warnings)throw"normal_abort";var Y=u.is_in_header;E(H),Y&&!u.is_in_header&&(t.setRunningFont("annotationfont",u.annotationfont),t.setRunningFont("gchordfont",u.gchordfont),t.setRunningFont("tripletfont",u.tripletfont),t.setRunningFont("vocalfont",u.vocalfont)),H=n.nextLine()}i&&S(t.getCurrentVoice(),""),s&&x(t.getCurrentVoice(),""),u.openSlurs=t.cleanUp(u.barsperstaff,u.staffnonote,u.openSlurs)}catch(Se){if(Se!=="normal_abort")throw Se}var $=11*72,G=8.5*72;switch(u.papersize){case"legal":$=14*72,G=8.5*72;break;case"A4":$=11.7*72,G=8.3*72;break}if(u.landscape){var ce=$;$=G,G=ce}if(e.formatting.pagewidth||(e.formatting.pagewidth=G),e.formatting.pageheight||(e.formatting.pageheight=$),D.hint_measures&&O(),cV.wrapLines(e,u.lineBreaks,u.barNumbers),D.chordGrid)try{e.chordGrid=lV(e)}catch(Se){switch(Se.message){case"notCommonTime":p("Chord grid only works for 2/2 and 4/4 time.",0,0);break;case"noChords":p("No chords are found in the tune.",0,0);break;default:p(Se.message,0,0)}}}},kT=dV,K0=Ni,hV=function(e){var t="",n=e.match(/(\s*)/);e=K0.strip(e);for(var i=e.split(`
X:`),s=1;s<i.length;s++)i[s]="X:"+i[s];var o=n?n[0].length:0,c=[];if(i.forEach(function(m){c.push({abc:m,startPos:o}),o+=m.length+1}),c.length>1&&!K0.startsWith(c[0].abc,"X:")){var u=c.shift(),d=u.abc.split(`
`);d.forEach(function(m){K0.startsWith(m,"%%")&&(t+=m+`
`)})}var h=t;return c.forEach(function(m){var p=m.abc.indexOf(`

`);p>0&&(m.abc=m.abc.substring(0,p)),m.pure=m.abc,m.abc=t+m.abc,m.title="";var g=m.pure.split("T:");g.length>1&&(g=g[1].split(`
`),m.title=K0.strip(g[0]));var y=m.pure.substring(2,m.pure.indexOf(`
`));m.id=K0.strip(y)}),{header:h,tunes:c}},pV=hV;function h3(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;var n=3;this.bar={pitch:n,pitch2:t*e,height:5}}h3.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)};h3.prototype.setRelative=function(e,t,n){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var i=this.bar.pitch2/2;if(e.name=="dots.dot")return n?(t.pitch=i,!1):(t.pitch=i+this.lineSpace,!0);break}return n};var vV=h3,Js=function(t,n){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=n,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};Js.prototype.addChild=function(e){if(e.type==="bar"){for(var t=!0,n=0;t&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&this.children[n].type!=="tempo"&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)};Js.prototype.setLimit=function(e,t){var n=t.specialY;n||(n=t),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])};Js.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))};Js.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};Js.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)};Js.prototype.addBeam=function(e){this.beams.push(e)};Js.prototype.setWidth=function(e){this.w=e};var DT=Js,mV=function(e,t,n,i){if(e)for(var s=0;s<e.length;s++){var o=e[s],c=o.getAttribute("highlight");c||(c="fill"),o.setAttribute(c,i);var u=o.getAttribute("class");u||(u=""),u=u.replace(n,""),u=u.replace(t,""),t.length>0&&(u.length>0&&u[u.length-1]!==" "&&(u+=" "),u+=t),o.setAttribute("class",u)}},p3=mV,gV=p3,yV=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#ff0000"),gV(this.elemset,e,"",t)},AT=yV,bV=p3,SV=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#000000"),bV(this.elemset,"",e,t)},OT=SV,wV=AT,xV=OT,nr=function(t,n,i,s,o,c){c||(c={}),this.tuneNumber=o,this.abcelem=t,this.duration=n,this.durationClass=c.durationClassOveride?c.durationClassOveride:this.duration,this.minspacing=i||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=s,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};nr.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};nr.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)};nr.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)};nr.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),e.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),e.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)};nr.prototype.addFixed=function(e){this._addChild(e)};nr.prototype.addFixedX=function(e){this._addChild(e)};nr.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)};nr.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])};nr.prototype._addChild=function(e){var t=!0;this.abcelem.el_type=="clef"&&e.type=="barNumber"&&(t=!1),e.parent=this,this.children[this.children.length]=e,t&&this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};nr.prototype.pushTop=function(e){e!==void 0&&(this.top===void 0?this.top=e:this.top=Math.max(e,this.top))};nr.prototype.pushBottom=function(e){e!==void 0&&(this.bottom===void 0?this.bottom=e:this.bottom=Math.min(e,this.bottom))};nr.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)};nr.prototype.center=function(e,t){var n=(t.x-e.x)/2+e.x;this.x=n-this.w/2;for(var i=0;i<this.children.length;i++)this.children[i].setX(this.x)};nr.prototype.setHint=function(){this.hint=!0};nr.prototype.highlight=function(e,t){wV.bind(this)(e,t)};nr.prototype.unhighlight=function(e,t){xV.bind(this)(e,t)};var jl=nr,zl=function(t,n,i,s,o){switch(o=o||{},this.x=0,this.c=t,this.dx=n,this.w=i,this.pitch=s,this.scalex=o.scalex||1,this.scaley=o.scaley||1,this.type=o.type||"symbol",this.pitch2=o.pitch2,this.linewidth=o.linewidth,this.klass=o.klass,this.anchor=o.anchor?o.anchor:"middle",this.top=s,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=s,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),o.thickness&&(this.top+=o.thickness/2,this.bottom-=o.thickness/2),o.stemHeight&&(o.stemHeight>0?this.top+=o.stemHeight:this.bottom+=o.stemHeight),o.dim&&(this.dim=o.dim),o.position&&(this.position=o.position),this.height=o.height?o.height:4,o.top&&(this.top=o.top),o.bottom&&(this.bottom=o.bottom),o.name?this.name=o.name:this.c?this.name=this.c:this.name=this.type,o.realWidth?this.realWidth=o.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":o.position&&o.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?o.position&&o.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};zl.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,t=this.type==="chord"?this.realWidth/2:0,n=this.x-t-e,i=n+this.realWidth+e;return{left:n,right:i}};zl.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1};zl.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};zl.prototype.getLane=function(){return this.lane===void 0?0:this.lane};zl.prototype.setX=function(e){this.x=e+this.dx};var _i=zl,RT=jl,v3=_i;function EV(e){return e!=null&&e.constructor===Object}function Db(e,t){for(var n in t)t.hasOwnProperty(n)&&(Array.isArray(t[n])||EV(t[n])||(e[n]=t[n]))}function MT(e){var t=new RT("",0,0,"",0);return Db(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},Db(t.abcelem,e.abcelem),t.abcelem.el_type==="note"&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function CV(e,t){var n=MT(e);if(t)for(var i=e.children,s=!0,o=0;o<i.length;o++){var c=i[o],u=new v3("",0,0,0,"");Db(u,c),s=t.tablature.setRelative(c,u,s),n.children.push(u)}return n}function TV(e,t,n){var i="tab.tiny",s=7.5;e.isTabBig&&(i="tab.big",s=10);var o={el_type:"tab",icon:i,Ypos:s};if(s+=e.tabSymbolOffset,!e.hideTabSymbol){var c=new RT(o,0,0,"symbol",0);c.x=t;var u=new v3(i,0,0,7.5,"tab");u.x=n,c.children.push(u),c.abcelem.el_type=="tab"&&(u.pitch=s)}return c}function NV(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var n=e.extra[t];if(n.type=="lyric")return{bottom:n.bottom,height:n.height}}return null}function IT(){this.accidentals=null}function _V(e){for(var t=0,n=0;n<e.length;n++)e[n].tabNameInfos||t++;return t}function Ab(e,t,n,i,s){var o=i.num;i.note.quarter!=null&&(o=o.toString(),o+=i.note.quarter);var c=e.semantics.stringToPitch(i.str);n.notes.push({num:o,str:i.str,pitch:i.note.emit()});var u={type:"tabNumber"},d=new v3(o,0,0,c+.3,u);return d.x=t,d.isGrace=s,d.isAltered=i.note.isAltered,d}function LT(e,t){var n=0;if(e.extra){for(var i=0;i<e.extra.length;i++)if(e.extra[i].c.indexOf("noteheads")>=0){if(n===t)return e.extra[i].x+e.extra[i].w/2;n++}}return-1}function kV(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function bx(e,t,n){var i=e.semantics.notesToNumber(t,n);if(i.error)return e.setError(i.error),i;if(i.graces&&i.notes){var s=i.notes.length-1;i.notes[s].graces=i.graces}return i}function DV(e,t,n,i,s){for(var o=0;o<i.length;o++){var c={el_type:"note",startChar:n.abcelem.startChar,endChar:n.abcelem.endChar,notes:[],grace:!0},u=LT(n,o),d=i[o],h=Ab(e,u,c,d,!0);t.children.push(h),s.push(c)}}IT.prototype.build=function(e,t,n,i,s,o,c){_V(t);var u=t[s+i],d=t[c],h=null,m=null;u.children[0].abcelem.el_type!="clef"&&o!="none"&&u.children.splice(0,0,o);for(var p=0;p<u.children.length;p++){var g=u.children[p],y=g.x,S=y;switch(g.isClef&&(d.children.push(TV(e,y,S)),g.abcelem.type.indexOf("-8")>=0&&(e.semantics.clefTranspose=-12),g.abcelem.type.indexOf("+8")>=0&&(e.semantics.clefTranspose=12)),g.type){case"staff-extra key-signature":this.accidentals=g.abcelem.accidentals,e.semantics.accidentals=this.accidentals;break;case"bar":e.semantics.measureAccidentals={};var x=!1;p===u.children.length-1&&(x=!0);var E=CV(g,e);if(E.abcelem.barNumber){delete E.abcelem.barNumber;for(var _=0;_<E.children.length;_++)if(E.children[_].type==="barNumber"){E.children.splice(_,1);break}}E.abcelem.lastBar=x,d.children.push(E),n.push({el_type:g.abcelem.el_type,type:g.abcelem.type,endChar:g.abcelem.endChar,startChar:g.abcelem.startChar,abselem:E});break;case"rest":var T=kV(g);if(T){if(h=bx(e,null,T),h.error)return;H={el_type:"note",startChar:g.abcelem.startChar,endChar:g.abcelem.endChar,notes:[],grace:!0},DV(e,O,g,h.graces,n)}break;case"note":var O=MT(g);O.x=g.heads[0].x+g.heads[0].w/2,O.lyricDim=NV(g);var N=g.abcelem.pitches,D=g.abcelem.gracenotes;if(O.type="tabNumber",h=bx(e,N,D),h.error)return;if(h.graces){var R=h.notes.length-1;h.notes[R].graces=h.graces}m={el_type:"note",startChar:g.abcelem.startChar,endChar:g.abcelem.endChar,notes:[]};for(var P=0;P<h.notes.length;P++){var U=h.notes[P];if(U.graces)for(var F=0;F<U.graces.length;F++){var H={el_type:"note",startChar:g.abcelem.startChar,endChar:g.abcelem.endChar,notes:[],grace:!0},Y=LT(g,F),$=U.graces[F],G=Ab(e,Y,H,$,!0);O.children.push(G),n.push(H)}var ce=Ab(e,O.x+g.heads[P].dx,m,U,!1);O.children.push(ce)}m.notes.length>0&&(m.abselem=O,n.push(m),d.children.push(O));break}}};var AV=IT,OV=DT,RV=AV,MV=zr;function IV(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function LV(e){for(var t=0,n=0;n<e.children.length;n++){var i=e.children[n];i.specialY&&i.specialY.lyricHeightBelow>t&&(t=i.specialY.lyricHeightBelow)}return t}function UV(e,t,n){var i=e.semantics,s=t.controller.getTextSize,o=i.tabInfos(e),c=i.suppress(e),u=!0;if(c&&(u=!1),u){var d=s.calc(o,"tablabelfont","text instrumentname");return n.tabNameInfos={textSize:{height:d.height,width:d.width},name:o},d.height}return 0}function PV(e,t){return t[e].isTabStaff?e===t.length-1?!0:!t[e+1].isTabStaff:!1}function BV(e){for(var t=0,n=0;n<e.length;n++)e[n].isTabStaff||t++;return t}function FV(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return n;return-1}function jV(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var n=FV(e,t);e[t].hasStaff=e[n],e[n].hasTab||(e[n].hasTab=[]),e[n].hasTab.push(e[t])}}function zV(e,t){return BV(e)===1&&t.voices.length>1}function VV(e,t){for(var n=0,i=0,s=!0,o=0;s;){if(!t[n])return-1;if(t[n].isTabStaff||(o=t[n].voices.length),t[n].isTabStaff){if(i++,PV(n,t)&&i<o)return n+1}else if(i=0,n>=e&&(n+1==t.length||!t[n+1].isTabStaff))return n+1;if(n++,n>t.length)return-1}}function HV(e,t){for(var n=t;n>=0;n--)if(!e[n].isTabStaff)return e[n];return null}function $V(e,t){var n=e[t],i=n.children[0].abcelem;return i.el_type==="clef"?null:t==0?"none":e[t-1].children[0]}function GV(e,t,n,i){var s=new RV,o={clef:{type:"TAB"}},c=e.linePitch*e.nbLines,u=n.staff;if(u){var d=u[0];if(d&&d.clef&&d.clef.stafflines==0){e.setError("No tablatures when stafflines=0");return}u.splice(u.length,0,o)}var h=n.staffGroup,m=h.voices,p=m[0],g=LV(p),y=3,S=i,x=h.staffs[S],E=c+y-x.bottom-g;x.isTabStaff&&(E=x.top);var _={bottom:-1,isTabStaff:!0,specialY:IV(),lines:e.nbLines,linePitch:e.linePitch,dy:.15,top:E},T=VV(i,h.staffs);if(T!==-1){_.parentIndex=T-1,h.staffs.splice(T,0,_),h.height+=c+y;var O=HV(h.staffs,T),N=1;zV(h.staffs,O)&&(N=O.voices.length),o.voices=[];for(var D=0;D<N;D++){var R=new OV(0,0);D>0&&(R.duplicate=!0);var P=UV(e,t,R)/MV.STEP;P=Math.max(P,1),h.staffs[i].top+=1,h.height+=P,R.staff=_;var U=m.length;m.splice(m.length,0,R);var F=$V(m,D+i);o.voices[D]=[],s.build(e,m,o.voices[D],D,i,F,U)}jV(h.staffs)}}var KV=GV,YV={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},Ob=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function qV(e){var t=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(t&&t.length===5){var n=YV[t[1]],i=Ob.indexOf(t[2]),s=t[4].length-t[3].length;return 48+i+n+s*12}return 0}function WV(e){e=parseInt(e,10);var t=Math.floor(e/12),n=e%12,i=Ob[n];if(i==="-"&&(i="^"+Ob[n-1]),t>4)for(i=i.toLowerCase(),t-=5;t>0;)i+="'",t--;else for(;t<4;)i+=",",t++;return i}var UT={noteToMidi:qV,midiToNote:WV},{noteToMidi:XV,midiToNote:m3}=UT;function ba(e,t){var n=XV(e);t&&(n+=t);var i=m3(n),s=!1,o=!1,c=!1,u=null,d=null,h=!1,m=0;e.startsWith("_")?(s=!0,m=-1,e[1]=="/"?(s=!1,d="v",m=0):e[1]=="_"&&(h=!0,m-=1)):e.startsWith("^")?(o=!0,m=1,e[1]=="/"?(o=!1,d="^",m=0):e[1]=="^"&&(h=!0,m+=1)):e.startsWith("=")&&(u=!0,m=0),c=s||o||d!=null,(c||u)&&(d!=null||h?i=e.slice(2):i=e.slice(1));var p=(i.match(/,/g)||[]).length,g=(i.match(/'/g)||[]).length;this.pitch=n,this.pitchAltered=0,this.name=i,this.acc=m,this.isSharp=o,this.isKeySharp=!1,this.isDouble=h,this.isAltered=c,this.isFlat=s,this.isKeyFlat=!1,this.natural=u,this.quarter=d,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=p,this.isQuoted=g}function QV(e){var t=e.name,n=new ba(t);return n.pitch=e.pitch,n.hasComma=e.hasComma,n.isLower=e.isLower,n.isQuoted=e.isQuoted,n.isSharp=e.isSharp,n.isKeySharp=e.isKeySharp,n.isFlat=e.isFlat,n.isKeyFlat=e.isKeyFlat,n}ba.prototype.sameNoteAs=function(e){return e.pitch===this.pitch};ba.prototype.isLowerThan=function(e){return e.pitch>this.pitch};ba.prototype.checkKeyAccidentals=function(e,t){if(!(this.isAltered||this.natural)){if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(e)for(var n=this.name,i=0;i<e.length;i++){var s=e[i];n==s.note.toUpperCase()&&(s.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),s.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};ba.prototype.getAccidentalEquiv=function(){var e=QV(this);return e.isSharp||e.isKeySharp?(e=e.nextNote(),e.isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&(e=e.prevNote(),e.isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e};ba.prototype.nextNote=function(){var e=m3(this.pitch+1+this.pitchAltered);return new ba(e)};ba.prototype.prevNote=function(){var e=m3(this.pitch-1+this.pitchAltered);return new ba(e)};ba.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var n=0;n<this.hasComma;n++)e+=",";return e};ba.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(this.quarter=="^"?e="^/"+e:e="_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var n=1;n<=this.isQuoted;n++)e+="'"}return e};var PT=ba,Sx=PT,wx=["A","B","C","D","E","F","G"];function JV(e,t){var n=new Sx(e),i=new Sx(t);if(i.isLowerThan(n)){var s=n.emit(),o=i.emit();return{error:"Invalid string Instrument tuning : "+o+" string lower than "+s+" string"}}var c=[],u=wx.indexOf(n.name),d=wx.indexOf(i.name);if(u==-1||d==-1)return c;for(var h=!1;!h;)c.push(n.emit()),n=n.nextNote(),n.sameNoteAs(i)&&(h=!0);return c}var ZV=JV;const{noteToMidi:eH}=UT;var $p=PT,tH=ZV;function nH(e){var t=null,n=e.tuning;if(e.capo>0){t=[];for(var i=0;i<n.length;i++){for(var s=new $p(n[i]),o=0;o<e.capo;o++)s=s.nextNote();t[i]=s.emit()}}return t}function rH(e){var t=[],n=e.tuning;e.capo>0&&(n=e.capoTuning);for(var i=n.length-1,s=0;s<n.length;s++){var o=e.highestNote;s!=n.length-1&&(o=n[s+1]);var c=tH(n[s],o);if(c.error)return c;t[i--]=c}return t}function aH(e){var t=[];t[0]=[];for(var n=e.strings,i=1;i<n.length;i++)t[i]=n[i-1];return t}function iH(e,t){for(var n=0;n<t.length-1;n++){var i=t[n],s=t[n+1];if(i.str==s.str){if(i.str==e.strings.length-1){i.num="?",s.num="?";return}s.num<i.num?(s.str++,s=xx(e,s.note,s.str,e.secondPos,e.strings[s.str].length)):(i.str++,i=xx(e,i.note,i.str,e.secondPos,e.strings[i.str].length)),t[n]=i,t[n+1]=s}}return null}function sH(e,t){for(var n=[],i=0;i<t.length;i++)if(!t[i].endTie){var s=new $p(t[i].name,e.clefTranspose);s.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var o=Rb(e,s);n.push(o)}return iH(e,n),n}function xx(e,t,n,i,s){var o=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),i&&(o=i);var c=t.emitNoAccidentals(),u=o[n].indexOf(c),d=t.acc;if(u!=-1){if(i&&(u+=s),(t.isFlat||t.acc==-1)&&u==0){var h=t.getAccidentalEquiv();n++,u=o[n].indexOf(h.emit()),d=0}return{num:u+d,str:n,note:t}}return null}function Rb(e,t){if(t.isAltered||t.natural){var n;t.isFlat?t.isDouble?n="__":n="_":t.isSharp?t.isDouble?n="^^":n="^":t.natural&&(n="="),e.measureAccidentals[t.name.toUpperCase()]=n}for(var i=e.stringPitches.length-1;i>=0;i--)if(t.pitch+t.pitchAltered>=e.stringPitches[i]){var s=t.pitch+t.pitchAltered-e.stringPitches[i];return t.quarter==="^"?s-=.5:t.quarter==="v"&&(s+=.5),{num:Math.round(s),str:e.stringPitches.length-1-i,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}Vl.prototype.stringToPitch=function(e){var t=5.3,n=this.strings.length-1;return t+(n-e)*this.linePitch};function Ex(e,t){var n={num:"?",str:0,note:t};e.push(n),e.error=t.emit()+": unexpected note for instrument"}Vl.prototype.notesToNumber=function(e,t){var n,i,s=null,o=null;if(e&&(o=[],e.length>1?(o=sH(this,e),o.error&&(s=o.error)):e[0].endTie||(n=new $p(e[0].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),i=Rb(this,n),i?o.push(i):(Ex(o,n),s=o.error))),s)return o;var c=null;if(t){c=[];for(var u=0;u<t.length;u++)n=new $p(t[u].name,this.clefTranspose),n.checkKeyAccidentals(this.accidentals,this.measureAccidentals),i=Rb(this,n),i?c.push(i):(Ex(c,n),s=o.error)}return{notes:o,graces:c,error:s}};Vl.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var n=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();n[0]==="_"?n=n[1]+"b ":n[0]==="^"&&(n=n[1]+"# "),e.push(n)}return e.join("")};Vl.prototype.tabInfos=function(e){var t=e.params.label;if(t){var n=t.indexOf("%T"),i="";return n!=-1&&(i=this.toString(),e.capo>0&&(i+=" capo:"+e.capo),t=t.replace("%T",i)),t}return""};Vl.prototype.suppress=function(e){var t=e.params.suppress;return!!t};function Vl(e){var t=e.tuning,n=e.capo,i=e.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",i&&(this.highestNote=i),this.measureAccidentals={},this.capo=0,n&&(this.capo=parseInt(n,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var s=0;s<this.tuning.length;s++){var o=eH(this.tuning[s])+this.capo;this.stringPitches.push(o)}if(this.capo>0&&(this.capoTuning=nH(this)),this.strings=rH(this),this.strings.error){e.setError(this.strings.error),e.inError=!0;return}this.secondPos=aH(this)}var oH=Vl,cH=vV,lH=KV,uH=oH;lv.prototype.init=function(e,t,n,i){this.tune=e,this.params=n,this.tuneNumber=t,this.inError=!1,this.abcTune=e,this.linePitch=3,this.nbLines=i.defaultTuning.length,this.isTabBig=i.isTabBig,this.tabSymbolOffset=i.tabSymbolOffset,this.capo=n.capo,this.transpose=n.visualTranspose,this.hideTabSymbol=n.hideTabSymbol,this.tablature=new cH(this.nbLines,this.linePitch);var s=n.tuning;s||(s=i.defaultTuning),this.tuning=s,this.semantics=new uH(this)};lv.prototype.setError=function(e){e&&(this.error=e,this.inError=!0,this.tune.warnings?this.tune.warnings.push(e):this.tune.warnings=[e])};lv.prototype.render=function(e,t,n){this.inError||this.tablature.bypass(t)||lH(this,e,t,n)};function lv(){}var fH=function(){return{name:"StringTab",tablature:lv}},dH=fH,hH=dH,pH={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},vH={inited:!1,plugins:{},register:function(e){var t=e.name,n=e.tablature;this.plugins[t]=n},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,n){this.inited||(this.register(new hH),this.inited=!0);var i=null;if(n.tablature){var s=n.tablature;i=[];for(var o=0;o<s.length;o++){var c=s[o],u=c.instrument;if(u==null)return this.setError(e,"tablature 'instrument' is missing"),i;var d=pH[u],h=null;if(d&&(h=this.plugins[d.name]),h){n.visualTranspose!=0&&(c.visualTranspose=n.visualTranspose),c.abcSrc=n.tablature.abcSrc;var m={classz:h,tuneNumber:t,params:c,instance:null,tabType:d};i.push(m)}else if(u==="")i.push(null);else return this.setError(e,"Undefined tablature plugin: "+u),i}}return i},layoutTablatures:function(t,n){var i=n.tablatures,s=0;if(i&&i.length>0)for(var o=i.length,c=0;c<o;++c)i[c]&&i[c].params.firstStaffOnly&&(i[c].params.suppress=!1);for(var u=0;u<n.lines.length;u++){var d=n.lines[u];if(d.staff&&s++,s>1&&i&&i.length>0)for(var o=i.length,c=0;c<o;++c)i[c].params.firstStaffOnly&&(i[c].params.suppress=!0);var h=d.staff;if(h){for(var m=h.length,p=0;p<h.length;p++)if(i[p]&&p<m){var g=i[p];g.instance==null&&(g.instance=new g.classz,g.instance.init(n,g.tuneNumber,g.params,g.tabType)),g.instance.render(t,d,p)}}}}},BT=vH,mH=kT,gH=pV,yH=BT,ts={};(function(){ts.numberOfTunes=function(t){var n=t.split(`
X:`),i=n.length;return i===0&&(i=1),i};var e=ts.TuneBook=function(t){var n=gH(t);this.header=n.header,this.tunes=n.tunes};e.prototype.getTuneById=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].id===""+t)return this.tunes[n];return null},e.prototype.getTuneByTitle=function(t){for(var n=0;n<this.tunes.length;n++)if(this.tunes[n].title===t)return this.tunes[n];return null},ts.parseOnly=function(t,n){for(var i=ts.numberOfTunes(t),s=[],o=0;o<i;o++)s.push(1);function c(){}return ts.renderEngine(c,s,t,n)},ts.renderEngine=function(t,n,i,s){var o=[],c=function(x){return x&&!x.propertyIsEnumerable("length")&&typeof x=="object"&&typeof x.length=="number"};if(!(n===void 0||i===void 0)){c(n)||(n=[n]),s===void 0&&(s={});for(var u=s.startingTune?parseInt(s.startingTune,10):0,d=new e(i),h=new mH,m=0;m<n.length;m++){var p=n[m];if(p==="*"||typeof p=="string"&&(p=document.getElementById(p)),p)if(u>=0&&u<d.tunes.length){h.parse(d.tunes[u].abc,s,d.tunes[u].startPos-d.header.length);var g=h.getTune();s.tablature&&(g.tablatures=yH.preparePlugins(g,u,s));var y=h.getWarnings();y&&(g.warnings=y);var S=t(p,g,m,d.tunes[u].abc);o.push(S||g)}else p.innerHTML&&(p.innerHTML="");u++}return o}},ts.extractMeasures=function(t){for(var n=[],i=new e(t),s=0;s<i.tunes.length;s++){for(var o=i.tunes[s],c=o.abc.split("K:"),u=c[1].split(`
`),d=c[0]+"K:"+u[0]+`
`,h=null,m=null,p=null,g=[],y=!1,S=ts.parseOnly(o.abc)[0],x=S.getPickupLength()>0,E=0;E<S.lines.length;E++){var _=S.lines[E];if(_.staff)for(var T=0;T<1;T++)for(var O=_.staff[T],N=0;N<1;N++)for(var D=O.voices[N],R=0;R<D.length;R++){var P=D[R];if(p===null&&P.startChar>=0&&(p=P.startChar,P.chord===void 0?m=h:m=null),P.chord&&(h=P),P.el_type==="bar"){if(y){var U=o.abc.substring(p,P.endChar),F={abc:U};h=m&&m.chord&&m.chord.length>0?m.chord[0].name:null,h&&(F.lastChord=h),P.startEnding&&(F.startEnding=P.startEnding),P.endEnding&&(F.endEnding=P.endEnding),g.push(F),p=null,y=!1}}else P.el_type==="note"&&(y=!0)}}n.push({header:d,measures:g,hasPickup:x})}return n}})();var uv=ts,Cx=mT,{relativeMajor:Tx,transposeKey:Vy,relativeMode:Nx,isLegalMode:bH}=vT,_x=pT,FT;(function(){FT=function(_,T,O){if(T==="TEST")return{keyAccidentals:Cx,relativeMajor:Tx,transposeKey:Vy,relativeMode:Nx,transposeChordName:_x};O=parseInt(O,10);var N=[],D;for(D=0;D<T.length;D++)N=N.concat(e(_,T[D],O));N=N.sort(function(U,F){return F.start-U.start});var R=_.split("");for(D=0;D<N.length;D++){var P=N[D];R.splice(P.start,P.end-P.start,P.note)}return R.join("")};function e(_,T,O){var N=[],D=T.getKeySignature();if(D.root==="Hp"||D.root==="HP")return N;N=N.concat(t(_,O));for(var R=0;R<T.lines.length;R++){var P=T.lines[R].staff;if(P)for(var U=0;U<P.length;U++){var F=P[U];F.clef.type!=="perc"&&(N=N.concat(n(_,F.voices,F.key,O)))}}return N}function t(_,T){for(var O=[],N=_.split("K:"),D=N[0].length,R=1;R<N.length;R++){var P=N[R],U=P.match(/^( *)([A-G])([#b]?)( ?)(\w*)/);if(U){var F=D+2+U[1].length,H=bH(U[5])?U[5]:"",Y=U[2]+U[3]+U[4]+H,$=d({root:U[2],acc:U[3],mode:H},T),G=$.root+$.acc+U[4]+$.mode;O.push({start:F,end:F+Y.length,note:G})}D+=P.length+2}return O}function n(_,T,O,N){for(var D=[],R=d(O,N),P=0;P<T.length;P++)D=D.concat(o(_,T[P],O.root,i(O),R,N));return D}function i(_){for(var T={},O=0;O<_.accidentals.length;O++){var N=_.accidentals[O];N.acc==="flat"?T[N.note.toUpperCase()]="_":N.acc==="sharp"&&(T[N.note.toUpperCase()]="^")}return T}function s(_,T,O){var N=c.indexOf(_.root)-c.indexOf(T);return T==="none"&&(N=c.indexOf(_.root)),N===0?O>2?N+=7:O===-12&&(N-=7):O>0&&N<0?N+=7:O<0&&N>0&&(N-=7),O>12?N+=7:O<-12&&(N-=7),N}function o(_,T,O,N,D,R){for(var P=[],U=s(D,O,R),F={},H={},Y=0;Y<T.length;Y++){var $=T[Y];if($.chord)for(var G=0;G<$.chord.length;G++){var ce=$.chord[G];if(ce.position==="default"){var Se=D.accidentals.length&&D.accidentals[0].acc==="flat",ee=_x(ce.name,R,Se,!0);ee=ee.replace(//g,"b").replace(//g,"#"),ee!==ce.name&&P.push(x(_,$.startChar,$.endChar,ee))}}if($.el_type==="note"&&$.pitches){for(var I=y(_,$.startChar,$.endChar),j=0;j<I.length;j++){var X=g(I[j].note,O,N,F);X.acc&&(F[X.name.toUpperCase()]=X.acc);var K=h(X,D,U,H);K.acc&&(H[K.upper]=K.acc),P.push({note:K.acc+K.name,start:I[j].index,end:I[j].index+I[j].note.length})}if($.gracenotes)for(var ge=0;ge<$.gracenotes.length;ge++){var Te=g($.gracenotes[ge].name,O,N,F);Te.acc&&(F[Te.name.toUpperCase()]=Te.acc);var Me=h(Te,D,U,F);Me.acc&&(H[Me.upper]=Me.acc),P.push(S(_,$.startChar,$.endChar,Me.acc+Me.name,ge))}}else $.el_type==="bar"?(F={},H={}):$.el_type==="keySignature"&&(O=$.root,N=i($),D=d($,R),U=s(D,O,R))}return P}var c="CDEFGAB",u=[",,,,",",,,",",,",",","","'","''","'''","''''"];function d(_,T){if(_.root==="none")return{root:Vy("C",T),mode:"",acc:"",accidentals:[]};var O=Tx(_.root+_.acc+_.mode),N=Vy(O,T),D=Nx(N,_.mode),R=Cx(N);return{root:D[0],mode:_.mode,acc:D.length>1?D[1]:"",accidentals:R}}function h(_,T,O,N){for(var D=_.pitch,R=c.indexOf(_.name),P=c.indexOf(T.root),U=(P+D)%7,F=R+O,H=_.oct;F>6;)H++,F-=7;for(;F<0;)H--,F+=7;for(var Y=c[U],$="",G=_.adj,ce="=",Se=0;Se<T.accidentals.length;Se++)if(T.accidentals[Se].note.toLowerCase()===Y.toLowerCase()){G=G+(T.accidentals[Se].acc==="flat"?-1:1),ce=T.accidentals[Se].acc==="flat"?"_":"^";break}var ee;switch(G){case-2:$="__";break;case-1:$="_";break;case 0:$="=";break;case 1:$="^";break;case 2:$="^^";break;case-3:return ee={},ee.pitch=_.pitch-1,ee.oct=_.oct,ee.name=c[c.indexOf(_.name)-1],ee.name||(ee.name="B",ee.oct--),ee.name==="B"||ee.name==="E"?ee.adj=_.adj+1:ee.adj=_.adj+2,h(ee,T,O+1,N);case 3:return ee={},ee.pitch=_.pitch+1,ee.oct=_.oct,ee.name=c[c.indexOf(_.name)+1],ee.name||(ee.name="C",ee.oct++),ee.name==="C"||ee.name==="F"?ee.adj=_.adj-1:ee.adj=_.adj-2,h(ee,T,O+1,N)}switch((N[Y]===$||!N[Y]&&$===ce)&&!_.courtesy&&($=""),H){case 0:Y=Y+",,,";break;case 1:Y=Y+",,";break;case 2:Y=Y+",";break;case 4:Y=Y.toLowerCase();break;case 5:Y=Y.toLowerCase()+"'";break;case 6:Y=Y.toLowerCase()+"''";break;case 7:Y=Y.toLowerCase()+"'''";break;case 8:Y=Y.toLowerCase()+"''''";break}return H>4&&(Y=Y.toLowerCase()),{acc:$,name:Y,upper:Y.toUpperCase()}}var m=/([_^=]*)([A-Ga-g])([,']*)/,p=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/;function g(_,T,O,N){var D=T==="none"?0:c.indexOf(T),R=_.match(m),P=R[2].toUpperCase(),U=c.indexOf(P)-D;U<0&&(U+=7);var F=u.indexOf(R[3]);P===R[2]&&F--;var H=N[P]||O[P]||"=";return{acc:R[1],name:P,pitch:U,oct:F,adj:E(R[1],O[P],N[P]),courtesy:R[1]===H}}function y(_,T,O){for(var N=_.substring(T,O),D,R=[],P=/("[^"]+")+/g;(D=P.exec(N))!==null;)R.push({start:P.lastIndex-D[0].length,end:P.lastIndex});for(var U=/(![^!]+!)+/g;(D=U.exec(N))!==null;)R.push({start:U.lastIndex-D[0].length,end:U.lastIndex});for(var F=[],H=/([_^=]*)([A-Ga-g])([,']*)/g;(D=H.exec(N))!==null;){for(var Y=!1,$=0;$<R.length;$++)H.lastIndex>=R[$].start&&H.lastIndex<=R[$].end&&(Y=!0);Y||F.push({note:D[0],index:T+H.lastIndex-D[0].length})}return F}function S(_,T,O,N,D){var R=_.substring(T,O),P=/\{/,U=/\}/,F=/([^\{]*)/,H=/(\/*)/,Y=R.match(new RegExp(F.source+P.source+H.source+p.source+H.source+p.source+H.source+p.source+H.source+p.source+H.source+p.source+H.source+p.source+H.source+p.source+H.source+p.source+U.source));if(Y){for(var $=1+Y[1].length,G=0;G<D;G++)Y[G*3+2]&&($+=Y[G*3+2].length),Y[G*3+3]&&($+=Y[G*3+3].length),Y[G*3+4]&&($+=Y[G*3+4].length),Y[G*3+5]&&($+=Y[G*3+5].length);Y[D*3+2]&&($+=Y[G*3+2].length),T+=$;var ce=Y[D*3+3]?Y[D*3+3].length:0;ce+=Y[D*3+4]?Y[D*3+4].length:0,ce+=Y[D*3+5]?Y[D*3+5].length:0,O=T+ce}return{start:T,end:O,note:N}}function x(_,T,O,N){var D=_.substring(T,O).match(/([^"]+)?(".+")+/);return D[1]&&(T+=D[1].length),O=T+D[2].length,{start:T+1,end:O-1,note:N}}function E(_,T,O){if(!_&&O&&(_=O),!_)return 0;switch(T){case void 0:switch(_){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(_){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(_){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var SH=FT,ac=function(t,n,i,s){this.type="BeamElem",this.isflat=!!i,this.isgrace=!!(n&&n==="grace"),this.forceup=!!(this.isgrace||n&&n==="up"),this.forcedown=!!(n&&n==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=t,this.beams=[],s&&s.duration?(this.duration=s.duration,s.startTriplet&&(this.duration*=s.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};ac.prototype.setHint=function(){this.hint=!0};ac.prototype.runningDirection=function(e){var t=e.averagepitch;t!==void 0&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)};ac.prototype.add=function(e){var t=e.abcelem.averagepitch;t!==void 0&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(this.min===void 0||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(this.max===void 0||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))};ac.prototype.addBeam=function(e){this.beams.push(e)};ac.prototype.setStemDirection=function(){if(this.average=jT(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}delete this.count,this.total=0};ac.prototype.calcDir=function(){if(this.average=jT(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}for(var t=this.stemsUp?"up":"down",n=0;n<this.elems.length;n++)for(var i=0;i<this.elems[n].heads.length;i++)this.elems[n].heads[i].stemDir=t};function jT(e,t){return t?e/t:0}var wH=ac,Df=function(t,n){this.startVoice=t,this.type=n};Df.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};Df.prototype.continuing=function(e){this.lastContinuedVoice=e};Df.prototype.getWidth=function(){return 10};Df.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)};var xH=Df,EH=zr,ea={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};ea["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};ea["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};ea["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};ea["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var kx=function(e){for(var t=[],n=0,i=e.length;n<i;n++){t[n]=[];for(var s=0,o=e[n].length;s<o;s++)t[n][s]=e[n][s]}return t},CH=function(e,t,n){for(var i=0,s=e.length;i<s;i++){var o=e[i],c,u;for(c=1,u=o.length;c<u;c++)o[c]*=c%2?t:n}},TH={printSymbol:function(e,t,n,i,s){if(!ea[n])return null;var o=kx(ea[n].d);o[0][1]+=e,o[0][2]+=t;for(var c="",u=0;u<o.length;u++)c+=o[u].join(" ");return s.path=c,i.path(s)},getPathForSymbol:function(e,t,n,i,s){if(i=i||1,s=s||1,!ea[n])return null;var o=kx(ea[n].d);return(i!==1||s!==1)&&CH(o,i,s),o[0][1]+=e,o[0][2]+=t,o},getSymbolWidth:function(e){return ea[e]?ea[e].w:0},symbolHeightInPitches:function(e){var t=ea[e]?ea[e].h:0;return t/EH.STEP},getSymbolAlign:function(e){return e.substring(0,7)==="scripts"&&e!=="scripts.roll"?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(e,t){ea[e]=t}},Zs=TH,NH=jl,Y0=Zs,Hy=_i,_H=function(e,t){var n,i=0;e.el_type="clef";var s=new NH(e,0,10,"staff-extra clef",t);switch(s.isClef=!0,e.type){case"treble":n="clefs.G";break;case"tenor":n="clefs.C";break;case"alto":n="clefs.C";break;case"bass":n="clefs.F";break;case"treble+8":n="clefs.G",i=1;break;case"tenor+8":n="clefs.C",i=1;break;case"bass+8":n="clefs.F",i=1;break;case"alto+8":n="clefs.C",i=1;break;case"treble-8":n="clefs.G",i=-1;break;case"tenor-8":n="clefs.C",i=-1;break;case"bass-8":n="clefs.F",i=-1;break;case"alto-8":n="clefs.C",i=-1;break;case"none":return null;case"perc":n="clefs.perc";break;default:s.addFixed(new Hy("clef="+e.type,0,0,void 0,{type:"debug"}))}var o=5;if(n){var c=Y0.symbolHeightInPitches(n),u=kH(n);if(s.addRight(new Hy(n,o,Y0.getSymbolWidth(n),e.clefPos,{top:c+e.clefPos+u,bottom:e.clefPos+u})),i!==0){var d=.6666666666666666,h=(Y0.getSymbolWidth(n)-Y0.getSymbolWidth("8")*d)/2,m=i>0?s.top+3:s.bottom-1,p=i>0?s.top+3:s.bottom-3,g=p-2;e.type==="bass-8"&&(m=3,h=0),s.addRight(new Hy("8",o+h,Y0.getSymbolWidth("8")*d,m,{scalex:d,scaley:d,top:p,bottom:g}))}}return s};function kH(e){switch(e){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var DH=_H,AH=jl,lp=Zs,OH=_i,RH=function(e,t){if(e.el_type="keySignature",!e.accidentals||e.accidentals.length===0)return null;var n=new AH(e,0,10,"staff-extra key-signature",t);n.isKeySig=!0;var i=0;return e.accidentals.forEach(function(s){var o,c=0;switch(s.acc){case"sharp":o="accidentals.sharp",c=-3;break;case"natural":o="accidentals.nat";break;case"flat":o="accidentals.flat",c=-1.2;break;case"quartersharp":o="accidentals.halfsharp",c=-2.5;break;case"quarterflat":o="accidentals.halfflat",c=-1.2;break;default:o="accidentals.flat"}n.addRight(new OH(o,i,lp.getSymbolWidth(o),s.verticalPos,{thickness:lp.symbolHeightInPitches(o),top:s.verticalPos+lp.symbolHeightInPitches(o)+c,bottom:s.verticalPos+c})),i+=lp.getSymbolWidth(o)+2},this),n},MH=RH,Ga=Zs,hl=_i,IH=function(e,t,n,i){i||(i={});var s=i.dir!==void 0?i.dir:null,o=i.headx!==void 0?i.headx:0,c=i.extrax!==void 0?i.extrax:0,u=i.flag!==void 0?i.flag:null,d=i.dot!==void 0?i.dot:0,h=i.dotshiftx!==void 0?i.dotshiftx:0,m=i.scale!==void 0?i.scale:1,p=i.accidentalSlot!==void 0?i.accidentalSlot:[],g=i.shouldExtendStem!==void 0?i.shouldExtendStem:!1,y=i.printAccidentals!==void 0?i.printAccidentals:!0,S=n.verticalPos,x,E=0,_=0,T=0;if(t===void 0)e.addFixed(new hl("pitch is undefined",0,0,0,{type:"debug"}));else if(t==="")x=new hl(null,0,0,S);else{var O=o;if(n.printer_shift){var N=n.printer_shift==="same"?1:0;O=s==="down"?-Ga.getSymbolWidth(t)*m+N:Ga.getSymbolWidth(t)*m-N}var D={scalex:m,scaley:m,thickness:Ga.symbolHeightInPitches(t)*m,name:n.name};if(x=new hl(t,O,Ga.getSymbolWidth(t)*m,S,D),x.stemDir=s,u){var R=S+(s==="down"?-7:7)*m;g&&(s==="down"&&R>6&&(R=6),s==="up"&&R<6&&(R=6));var P=s==="down"?o:o+x.w-.6;e.addRight(new hl(u,P,Ga.getSymbolWidth(u)*m,R,{scalex:m,scaley:m}))}for(_=x.w+h-2+5*d;d>0;d--){var U=1-Math.abs(S)%2;e.addRight(new hl("dots.dot",x.w+h-2+5*d,Ga.getSymbolWidth("dots.dot"),S+U))}}if(x&&(x.highestVert=n.highestVert),y&&n.accidental){var F;switch(n.accidental){case"quartersharp":F="accidentals.halfsharp";break;case"dblsharp":F="accidentals.dblsharp";break;case"sharp":F="accidentals.sharp";break;case"quarterflat":F="accidentals.halfflat";break;case"flat":F="accidentals.flat";break;case"dblflat":F="accidentals.dblflat";break;case"natural":F="accidentals.nat"}for(var H=!1,Y=c,$=0;$<p.length;$++)if(S-p[$][0]>=6){p[$][0]=S,Y=p[$][1],H=!0;break}H===!1&&(Y-=Ga.getSymbolWidth(F)*m+2,p.push([S,Y]),E=Ga.getSymbolWidth(F)*m+2);var G=Ga.symbolHeightInPitches(F);e.addExtra(new hl(F,Y,Ga.getSymbolWidth(F),S,{scalex:m,scaley:m,top:S+G/2,bottom:S-G/2})),T=Ga.getSymbolWidth(F)/2}return{notehead:x,accidentalshiftx:E,dotshiftx:_,extraLeft:T}},LH=IH,UH=jl,vn=Zs,xi=_i,PH=function(e,t){e.el_type="timeSignature";var n=new UH(e,0,10,"staff-extra time-signature",t);if(e.type==="specified")for(var i=0,s=0;s<e.value.length;s++)if(s!==0&&(n.addRight(new xi("+",i+1,vn.getSymbolWidth("+"),6,{thickness:vn.symbolHeightInPitches("+")})),i+=vn.getSymbolWidth("+")+2),e.value[s].den){for(var o=0,c=0;c<e.value[s].num.length;c++)o+=vn.getSymbolWidth(e.value[s].num[c]);var u=0;for(c=0;c<e.value[s].num.length;c++)u+=vn.getSymbolWidth(e.value[s].den[c]);var d=Math.max(o,u);n.addRight(new xi(e.value[s].num,i+(d-o)/2,o,8,{thickness:vn.symbolHeightInPitches(e.value[s].num[0])})),n.addRight(new xi(e.value[s].den,i+(d-u)/2,u,4,{thickness:vn.symbolHeightInPitches(e.value[s].den[0])})),i+=d}else{for(var h=0,m=0;m<e.value[s].num.length;m++)h+=vn.getSymbolWidth(e.value[s].num[m]);n.addRight(new xi(e.value[s].num,i,h,6,{thickness:vn.symbolHeightInPitches(e.value[s].num[0])})),i+=h}else e.type==="common_time"?n.addRight(new xi("timesig.common",0,vn.getSymbolWidth("timesig.common"),6,{thickness:vn.symbolHeightInPitches("timesig.common")})):e.type==="cut_time"?n.addRight(new xi("timesig.cut",0,vn.getSymbolWidth("timesig.cut"),6,{thickness:vn.symbolHeightInPitches("timesig.cut")})):e.type==="tempus_imperfectum"?n.addRight(new xi("timesig.imperfectum",0,vn.getSymbolWidth("timesig.imperfectum"),6,{thickness:vn.symbolHeightInPitches("timesig.imperfectum")})):e.type==="tempus_imperfectum_prolatio"?n.addRight(new xi("timesig.imperfectum2",0,vn.getSymbolWidth("timesig.imperfectum2"),6,{thickness:vn.symbolHeightInPitches("timesig.imperfectum2")})):e.type==="tempus_perfectum"?n.addRight(new xi("timesig.perfectum",0,vn.getSymbolWidth("timesig.perfectum"),6,{thickness:vn.symbolHeightInPitches("timesig.perfectum")})):e.type==="tempus_perfectum_prolatio"?n.addRight(new xi("timesig.perfectum2",0,vn.getSymbolWidth("timesig.perfectum2"),6,{thickness:vn.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return n},BH=PH,FH=function(t,n,i){this.type="DynamicDecoration",this.anchor=t,this.dec=n,i==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},jH=FH,zH=function(t,n,i,s){this.type="CrescendoElem",this.anchor1=t,this.anchor2=n,this.dir=i,s==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},VH=zH,HH=function(t,n){this.type="GlissandoElem",this.anchor1=t,this.anchor2=n},$H=HH,aa=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),t.voiceNumber!==void 0&&(this.voiceNumber=t.voiceNumber),t.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};aa.prototype.addInternalNote=function(e){this.internalNotes.push(e)};aa.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};aa.prototype.setStartX=function(e){this.startLimitX=e};aa.prototype.setEndX=function(e){this.endLimitX=e};aa.prototype.setHint=function(){this.hint=!0};aa.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}};aa.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){var n=this.internalNotes[t];n.stemDir==="down"&&(e=!0)}this.above=e}};aa.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t};aa.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};aa.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var n=!!this.anchor1.parent.beam,i=!!this.anchor2.parent.beam;if(n){var s=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];s||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(i){var o=this.anchor2.parent===this.anchor2.parent.beam.elems[0];o||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};aa.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}};aa.prototype.getYBounds=function(){var e=10,t=1e3;this.isTie?(this.calcTieDirection(),this.calcX(e,t),this.calcTieY()):(this.calcSlurDirection(),this.calcX(e,t),this.calcSlurY());var n,i;return this.above?(i=Math.min(this.startY,this.endY),n=i+3):(n=Math.min(this.startY,this.endY),i=n-3),[n,i]};var zT=aa,GH=jH,Dx=VH,KH=$H,Qa=Zs,ec=_i,YH=zT,g3=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},qH=function(e,t,n,i,s,o,c,u,d){for(var h,m=0;m<t.length;m++){if(t[m]==="staccato"||t[m]==="tenuto"||t[m]==="accent"&&!d){var p="scripts."+t[m];if(t[m]==="accent"&&(p="scripts.sforzato"),h===void 0?h=c==="down"?n+2:u-2:h=c==="down"?h+2:h-2,t[m]==="accent")c==="up"?h--:h++;else switch(h){case 2:case 4:case 6:case 8:case 10:c==="up"?h--:h++;break}n>9&&h++;var g=i/2;Qa.getSymbolAlign(p)!=="center"&&(g-=Qa.getSymbolWidth(p)/2),s.addFixedX(new ec(p,g,Qa.getSymbolWidth(p),h))}if(t[m]==="slide"&&s.heads[0]){var y=s.heads[0].pitch;y-=2;var S=new ec("",-o-15,0,y-1),x=new ec("",-o-5,0,y+1);s.addFixedX(S),s.addFixedX(x),e.addOther(new YH({anchor1:S,anchor2:x,fixedY:!0}))}}return h===void 0&&(h=n),{above:h,below:s.bottom}},WH=function(e,t,n,i){for(var s=0;s<t.length;s++)switch(t[s]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var o=new GH(n,t[s],i);e.addOther(o)}},XH=function(e,t,n,i,s){function o(){if(i.heads.length===0)return 10;for(var h=i.heads[0].pitch,m=1;m<i.heads.length;m++)h=Math.max(h,i.heads[m].pitch);return h}function c(){if(i.heads.length===0)return 2;for(var h=i.heads[0].pitch,m=1;m<i.heads.length;m++)h=Math.min(h,i.heads[m].pitch);return h}function u(h,m){var p=s==="down"?c()+1:o()+9;s!=="down"&&m===1&&p--;var g=n/2;g+=s==="down"?-5:3;for(var y=0;y<m;y++)p-=1,i.addFixedX(new ec(h,g,Qa.getSymbolWidth(h),p))}for(var d=0;d<e.length;d++)switch(e[d]){case"/":u("flags.ugrace",1);break;case"//":u("flags.ugrace",2);break;case"///":u("flags.ugrace",3);break;case"////":u("flags.ugrace",4);break}},QH=function(e,t,n,i,s,o,c,u){function d(x,E){x==="above"?i.above+=E:i.below-=E}function h(x){var E;return x==="above"?(E=i.above,E<o&&(E=o)):(E=i.below,E>c&&(E=c)),E}function m(x,E,_){var T=h(E),O=2,N=5;n.addFixedX(new ec(x,t/2,0,T+O,{type:"decoration",klass:"ornament",thickness:3,anchor:_})),d(E,N)}function p(x,E){var _=t/2;Qa.getSymbolAlign(x)!=="center"&&(_-=Qa.getSymbolWidth(x)/2);var T=Qa.symbolHeightInPitches(x)+1,O=h(E);O=E==="above"?O+T/2:O-T/2,n.addFixedX(new ec(x,_,Qa.getSymbolWidth(x),O,{klass:"ornament",thickness:Qa.symbolHeightInPitches(x),position:E})),d(E,T)}for(var g={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",trillh:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},y=!1,S=0;S<e.length;S++)switch(e[S]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":m(e[S],s,"middle"),y=!0;break;case"D.C.alcoda":m("D.C. al coda",s,"end"),y=!0;break;case"D.C.alfine":m("D.C. al fine",s,"end"),y=!0;break;case"D.S.alcoda":m("D.S. al coda",s,"end"),y=!0;break;case"D.S.alfine":m("D.S. al fine",s,"end"),y=!0;break;case"fine":m("FINE",s,"middle"),y=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"trillh":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":p(g[e[S]],s),y=!0;break;case"invertedfermata":p(g[e[S]],"below"),y=!0;break;case"mark":n.klass="mark";break;case"accent":u&&(p("scripts.sforzato",s),y=!0);break}return y};function JH(e,t,n){for(var i=0;i<e.length;i++)switch(e[i]){case"arpeggio":for(var s=t.abcelem.minpitch-1;s<=t.abcelem.maxpitch;s+=2)t.addExtra(new ec("scripts.arpeggio",-Qa.getSymbolWidth("scripts.arpeggio")*2-n,0,s+2,{klass:"ornament",thickness:Qa.symbolHeightInPitches("scripts.arpeggio")}));break}}g3.prototype.dynamicDecoration=function(e,t,n,i){for(var s,o,c,u=0;u<t.length;u++)switch(t[u]){case"diminuendo(":this.startDiminuendoX=n,s=void 0;break;case"diminuendo)":s={start:this.startDiminuendoX,stop:n},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=n,o=void 0;break;case"crescendo)":o={start:this.startCrescendoX,stop:n},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=n,c=void 0;break;case"~)":case"glissando)":c={start:this.startGlissandoX,stop:n},this.startGlissandoX=void 0;break}s&&e.addOther(new Dx(s.start,s.stop,">",i)),o&&e.addOther(new Dx(o.start,o.stop,"<",i)),c&&e.addOther(new KH(c.start,c.stop))};g3.prototype.createDecoration=function(e,t,n,i,s,o,c,u,d,h,m){d||(d={ornamentPosition:"above",volumePosition:h?"above":"below",dynamicPosition:h?"above":"below"}),WH(e,t,s,d.volumePosition),this.dynamicDecoration(e,t,s,d.dynamicPosition),XH(t,n,i,s,c);var p=qH(e,t,n,i,s,o,c,u,m);p.above=Math.max(p.above,this.minTop),p.below=Math.min(p.below,u),QH(t,i,s,p,d.ornamentPosition,this.minTop,u,m),JH(t,s,o)};var ZH=g3,e$=function(t,n,i){this.type="EndingElem",this.text=t,this.anchor1=n,this.anchor2=i,this.endingHeightAbove=5,this.pitch=void 0},t$=e$,n$=function(e){for(var t=0,n=0;n<e.voices.length;n++){var i=e.voices[n].staff;e.voices[n].duplicate||(t+=i.top,t+=-i.bottom)}return t},r$=n$,a$=r$,Hl=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};Hl.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])};Hl.prototype.addVoice=function(e,t,n){var i=this.voices.length;this.voices[i]=e,this.staffs[t]?this.staffs[t].voices.push(i):this.staffs[this.staffs.length]={top:10,bottom:2,lines:n,voices:[i],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]};Hl.prototype.setHeight=function(){this.height=a$(this)};Hl.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)};Hl.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};var i$=Hl,s$=jl,o$=_i,y3=function(t,n,i){this.type="TempoElement",this.tempo=t,this.tempo.type="tempo",this.tuneNumber=n,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(i,t,n))};y3.prototype.setX=function(e){this.x=e};y3.prototype.createNote=function(e,t,n){var i=.75,s=t.duration[0],o=new s$(t,s,1,"tempo",n),c,u,d;s<=1/32?(d="noteheads.quarter",u="flags.u32nd",c=0):s<=1/16?(d="noteheads.quarter",u="flags.u16th",c=0):s<=3/32?(d="noteheads.quarter",u="flags.u16nd",c=1):s<=1/8?(d="noteheads.quarter",u="flags.u8th",c=0):s<=3/16?(d="noteheads.quarter",u="flags.u8th",c=1):s<=1/4?(d="noteheads.quarter",c=0):s<=3/8?(d="noteheads.quarter",c=1):s<=1/2?(d="noteheads.half",c=0):s<=3/4?(d="noteheads.half",c=1):s<=1?(d="noteheads.whole",c=0):s<=1.5?(d="noteheads.whole",c=1):s<=2?(d="noteheads.dbl",c=0):(d="noteheads.dbl",c=1);var h=e(o,d,{verticalPos:0},{dir:"up",flag:u,dot:c,scale:i}),m=h.notehead;o.addHead(m);var p;if(d!=="noteheads.whole"&&d!=="noteheads.dbl"){var g=.3333333333333333*i,y=5*i,S=m.dx+m.w,x=-.6;p=new o$(null,S,0,g,{type:"stem",pitch2:y,linewidth:x}),o.addRight(p)}return o};var c$=y3,fv=function(t,n,i){this.type="TripletElem",this.anchor1=n,this.number=t,this.durationClass=("d"+Math.round(n.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=i.flatBeams};fv.prototype.isClosed=function(){return!!this.anchor2};fv.prototype.middleNote=function(e){this.middleElems.push(e)};fv.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var l$=fv;function Ax(e){switch(e){case"B#":return"H#";case"B":return"H";case"B":return"H";case"Bb":return"B";case"B":return"B"}return e}function u$(e,t,n){var i=e.split(`
`);for(let s=0;s<i.length;s++){let c=i[s].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!c)continue;let u=c[1]||"",d=c[2]||"",h=c[4]||"";n&&(u=Ax(u),h=Ax(h));const m=t?"":"",p=h?"/"+h:"";i[s]=[u,d,p].join(m)}return i.join(`
`)}var f$=u$,pl=_i,$y=zr;const d$=f$;var h$=function(e,t,n,i,s,o,c,u){for(var d=0;d<n.chord.length;d++){var h=n.chord[d].position,m=n.chord[d].rel_position,p=h==="left"||h==="right"||h==="below"||h==="above"||!!m,g,y;p?(g="annotationfont",y="abcjs-annotation"):(g="gchordfont",y="abcjs-chord");var S=e.attr(g,y),x=n.chord[d].name,E;if(typeof x=="string")E=Ox(x,h,m,p,g,y,S,e,t,n,i,s,o,c,u),i=E.roomTaken,s=E.roomTakenRight;else for(var _=0;_<x.length;_++)E=Ox(x[_].text,h,m,p,g,y,S,e,t,n,i,s,o,c,u),i=E.roomTaken,s=E.roomTakenRight}return{roomTaken:i,roomTakenRight:s}};function Ox(e,t,n,i,s,o,c,u,d,h,m,p,g,y,S){for(var x=e.split(`
`),E=x.length-1;E>=0;E--){var _=x[E],T=0,O;i||(_=d$(_,y,S));var N=u.calc(_,s,o),D=N.width,R=N.height/$y.STEP;switch(t){case"left":m+=D+7,T=-m,O=h.averagepitch,d.addExtra(new pl(_,T,D+4,O,{type:"text",height:R,dim:c,position:"left"}));break;case"right":p+=4,T=p,O=h.averagepitch,d.addRight(new pl(_,T,D+4,O,{type:"text",height:R,dim:c,position:"right"}));break;case"below":d.addRight(new pl(_,0,0,void 0,{type:"text",position:"below",height:R,dim:c,realWidth:D}));break;case"above":d.addRight(new pl(_,0,0,void 0,{type:"text",position:"above",height:R,dim:c,realWidth:D}));break;default:if(n){var P=n.y+3*$y.STEP;d.addRight(new pl(_,T+n.x,0,h.minpitch+P/$y.STEP,{position:"relative",type:"text",height:R,dim:c}))}else{var U="above";h.positioning&&h.positioning.chordPosition&&(U=h.positioning.chordPosition),U!=="hidden"&&d.addCentered(new pl(_,g/2,D,void 0,{type:"chord",position:U,height:R,dim:c,realWidth:D}))}}}return{roomTaken:m,roomTakenRight:p}}var p$=h$,kl=jl,VT=wH,Rx=xH,HT=DH,$T=MH,Af=LH,GT=BH,v$=ZH,KT=t$,lf=Zs,mn=_i,Of=zr,m$=i$,YT=c$,Dl=zT,g$=l$,y$=DT,qT=p$,b$=CT,Ys=Ni,Mb=function(e){var t=0;return e.duration&&(t=e.duration),t},Ja=!1,Xa={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},gn=function(e,t,n){this.decoration=new v$,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=n.bagpipes,this.flatBeams=n.flatbeams,this.graceSlurs=n.graceSlurs,this.percmap=n.percmap,this.initialClef=n.initialClef,this.jazzchords=!!n.jazzchords,this.accentAbove=!!n.accentAbove,this.germanAlphabet=!!n.germanAlphabet,this.reset()};gn.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};gn.prototype.setStemHeight=function(e){this.stemHeight=Math.round(e*10/Of.STEP)/10};gn.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t};gn.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)};gn.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]};gn.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].voices.length;n++)for(var i=0;i<e[t].voices[n].length;i++){var s=e[t].voices[n][i];if(s.lyric){(!s.positioning||s.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};gn.prototype.createABCLine=function(e,t,n){this.minY=2,this.containsLyrics(e);var i=new m$(this.getTextSize);this.tempoSet=!1;for(var s=0;s<e.length;s++)Ja&&this.restoreState(),Ja=!1,this.createABCStaff(i,e[s],t,s,n);return i};gn.prototype.createABCStaff=function(e,t,n,i,s){e.getTextSize.updateFonts(t);for(var o=0;o<t.voices.length;o++){var c=new y$(o,t.voices.length);o===0?(c.barfrom=t.connectBarLines==="start"||t.connectBarLines==="continue",c.barto=t.connectBarLines==="continue"||t.connectBarLines==="end"):c.duplicate=!0,t.title&&t.title[o]&&(c.header=t.title[o].replace(/\\n/g,`
`),c.headerPosition=6+e.getTextSize.baselineToCenter(c.header,"voicefont","staff-extra voice-name",o,t.voices.length)/Of.STEP),t.clef&&t.clef.type==="perc"&&(c.isPercussion=!0);var u=(!this.initialClef||s===0)&&HT(t.clef,this.tuneNumber);u&&(o===0&&t.barNumber&&this.addMeasureNumber(t.barNumber,u),c.addChild(u),this.startlimitelem=u);var d=$T(t.key,this.tuneNumber);if(d&&(c.addChild(d),this.startlimitelem=d),t.meter){t.meter.type==="specified"?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var h=GT(t.meter,this.tuneNumber);c.addChild(h),this.startlimitelem=h}c.duplicate&&(c.children=[]);var m=t.clef.stafflines||t.clef.stafflines===0?t.clef.stafflines:5;e.addVoice(c,i,m);var p=m===1;this.createABCVoice(t.voices[o],n,i,o,p,c),e.setStaffLimits(c),o===0&&(t.brace==="start"||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new Rx(c,"brace"))):t.brace==="end"&&e.brace?e.brace[e.brace.length-1].setBottomStaff(c):t.brace==="continue"&&e.brace&&e.brace[e.brace.length-1].continuing(c),t.bracket==="start"||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new Rx(c,"bracket"))):t.bracket==="end"&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(c):t.bracket==="continue"&&e.bracket&&e.bracket[e.bracket.length-1].continuing(c))}};function S$(e,t){var n=e[t];if(n.el_type!=="note"||!n.startBeam||n.endBeam)return{count:1,elem:n};for(var i=[];t<e.length&&e[t].el_type==="note"&&(i.push(e[t]),!e[t].endBeam);)t++;return{count:i.length,elem:i}}gn.prototype.createABCVoice=function(e,t,n,i,s,o){this.popCrossLineElems(n,i),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new KT("",null,null),o.addOther(this.partstartelem));var c=o.voicetotal<2?-1:o.voicenumber;for(var u in this.slurs)this.slurs.hasOwnProperty(u)&&(this.slurs[u]=new Dl({force:this.slurs[u].force,voiceNumber:c,stemDir:this.slurs[u].stemDir,style:this.slurs[u].dotted}),Ja&&this.slurs[u].setHint(),o.addOther(this.slurs[u]));for(var d=0;d<this.ties.length;d++)this.ties[d]=new Dl({force:this.ties[d].force,stemDir:this.ties[d].stemDir,voiceNumber:c,style:this.ties[d].dotted}),Ja&&this.ties[d].setHint(),o.addOther(this.ties[d]);for(var h=0;h<this.abcline.length;h++)w$(this.abcline[h]),this.minY=Math.min(this.abcline[h].minpitch,this.minY);for(var m=n===0,p=0;p<this.abcline.length;){var g=S$(this.abcline,p),y=this.createABCElement(m,s,o,g.elem);if(y)for(d=0;d<y.length;d++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var S=new kl(t,0,0,"tempo",this.tuneNumber,{});S.addFixedX(new YT(t,this.tuneNumber,Af)),o.addChild(S)}o.addChild(y[d])}p+=g.count}this.pushCrossLineElems(n,i)};gn.prototype.saveState=function(){this.tiesSave=Ys.cloneArray(this.ties),this.slursSave=Ys.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=Ys.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=Ys.cloneHashOfArrayOfHash(this.tiesbyvoice)};gn.prototype.restoreState=function(){this.ties=Ys.cloneArray(this.tiesSave),this.slurs=Ys.cloneHashOfHash(this.slursSave),this.slursbyvoice=Ys.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=Ys.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};gn.prototype.createABCElement=function(e,t,n,i){var s=[];switch(i.el_type){case void 0:s=this.createBeam(t,n,i);break;case"note":s[0]=this.createNote(i,!1,t,n),this.triplet&&this.triplet.isClosed()&&(n.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":s[0]=this.createBarLine(n,i,e),n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"meter":s[0]=GT(i,this.tuneNumber),this.startlimitelem=s[0],n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"clef":if(s[0]=HT(i,this.tuneNumber),!s[0])return null;n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"key":var o=$T(i,this.tuneNumber);o&&(s[0]=o,this.startlimitelem=s[0]),n.duplicate&&s.length>0&&(s[0].invisible=!0);break;case"stem":this.stemdir=i.direction==="auto"?void 0:i.direction;break;case"part":var c=new kl(i,0,0,"part",this.tuneNumber),u=this.getTextSize.calc(i.title,"partsfont","part");c.addFixedX(new mn(i.title,0,0,void 0,{type:"part",height:u.height/Of.STEP})),s[0]=c;break;case"tempo":var d=new kl(i,0,0,"tempo",this.tuneNumber);i.suppress||d.addFixedX(new YT(i,this.tuneNumber,Af)),s[0]=d;break;case"style":i.head==="normal"?delete this.style:this.style=i.head;break;case"hint":Ja=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=i.size;break;case"color":this.voiceColor=i.color,n.color=this.voiceColor;break;default:var h=new kl(i,0,0,"unsupported",this.tuneNumber);h.addFixed(new mn("element type "+i.el_type,0,0,void 0,{type:"debug"})),s[0]=h}return s};function w$(e){if(e.pitches){x$(e);for(var t=0,n=0;n<e.pitches.length;n++)t+=e.pitches[n].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}gn.prototype.createBeam=function(e,t,n){var i=[],s=new VT(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,n[0]);Ja&&s.setHint();for(var o=0;o<n.length;o++)s.runningDirection(n[o]);s.setStemDirection();var c=this.stemdir;for(this.stemdir=s.stemsUp?"up":"down",o=0;o<n.length;o++){var u=n[o],d=this.createNote(u,!0,e,t);i.push(d),s.add(d),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return s.calcDir(),t.addBeam(s),this.stemdir=c,i};var x$=function(e){var t;do{t=!0;for(var n=0;n<e.pitches.length-1;n++)if(e.pitches[n].pitch>e.pitches[n+1].pitch){t=!1;var i=e.pitches[n];e.pitches[n]=e.pitches[n+1],e.pitches[n+1]=i}}while(!t)},WT=function(e,t,n,i,s,o,c,u,d){for(var h=n;h>11;h--)h%2===0&&!i&&e.addFixed(new mn(null,u,(s+4)*d,h,{type:"ledger"}));for(h=t;h<1;h++)h%2===0&&!i&&e.addFixed(new mn(null,u,(s+4)*d,h,{type:"ledger"}));for(h=0;h<o.length;h++){var m=s;c==="down"&&(m=-m),e.addFixed(new mn(null,m+u,(s+4)*d,o[h],{type:"ledger"}))}};gn.prototype.addGraceNotes=function(e,t,n,i,s,o,c){var u=.6,d=3.5/5;s=Math.round(s*d);var h=null,m;e.gracenotes.length>1&&(h=new VT(s,"grace",o),Ja&&h.setHint(),h.mainNote=n);var p,g=[];for(p=e.gracenotes.length-1;p>=0;p--)c+=10,g[p]=c,e.gracenotes[p].accidental&&(c+=7);for(p=0;p<e.gracenotes.length;p++){var y=e.gracenotes[p].verticalPos;m=h?null:Xa.uflags[o?5:3];var S=[],x=Af(n,"noteheads.quarter",e.gracenotes[p],{dir:"up",headx:-g[p],extrax:-g[p],flag:m,scale:u*this.voiceScale,accidentalSlot:S});x.notehead.highestVert=x.notehead.pitch+s;var E=x.notehead;if(this.addSlursAndTies(n,e.gracenotes[p],E,t,"up",!0),n.addExtra(E),e.gracenotes[p].acciaccatura){var _=e.gracenotes[p].verticalPos+7*u,T=h?5:6;n.addRight(new mn("flags.ugrace",-g[p]+T,0,_,{scalex:u,scaley:u}))}if(h){var O=e.gracenotes[p].duration/2;o&&(O/=2);var N={heads:[E],abcelem:{averagepitch:y,minpitch:y,maxpitch:y,duration:O}};h.add(N)}else{var D=y+.3333333333333333*u,R=y+7*u,P=E.dx+E.w,U=-.6;n.addExtra(new mn(null,P,0,D,{type:"stem",pitch2:R,linewidth:U}))}WT(n,y,y,!1,lf.getSymbolWidth("noteheads.quarter"),[],!0,E.dx-1,.6);var F=e.rest&&(e.rest.type==="spacer"||e.rest.type==="invisible");p===0&&!o&&this.graceSlurs&&!F&&t.addOther(new Dl({anchor1:E,anchor2:i,isGrace:!0}))}return h&&(h.calcDir(),t.addBeam(h)),c};function E$(e,t,n,i,s,o,c,u,d){var h,m=7,p,g,y;switch(s&&(o==="down"&&(m=3),o==="up"&&(m=11)),c&&(n<.5||n<1?m=7:m=5),t.rest.type){case"whole":h=Xa.rest[0],t.averagepitch=m,t.minpitch=m,t.maxpitch=m,i=0;break;case"rest":t.style==="rhythm"?h=Xa.rhythm[-u]:h=Xa.rest[-u],t.averagepitch=m,t.minpitch=m,t.maxpitch=m;break;case"invisible":case"invisible-multimeasure":case"spacer":h="",t.averagepitch=m,t.minpitch=m,t.maxpitch=m;break;case"multimeasure":h=Xa.rest.multi,t.averagepitch=m,t.minpitch=m,t.maxpitch=m,i=0;var S=lf.getSymbolWidth(h);e.addHead(new mn(h,S,S*2,7));var x=new mn(""+t.rest.text,S,S,16,{type:"multimeasure-text"});e.addExtra(x)}if(t.rest.type.indexOf("multimeasure")<0&&t.rest.type!=="invisible"){var E=Af(e,h,{verticalPos:m},{dot:i,scale:d});p=E.notehead,p&&(e.addHead(p),g=E.accidentalshiftx,y=E.dotshiftx)}return{noteHead:p,roomTaken:g,roomTakenRight:y}}function Mx(e,t){for(var n=0;n<e.length;n++)if(JSON.stringify(e[n])===JSON.stringify(t))return;e.push(t)}gn.prototype.addNoteToAbcElement=function(e,t,n,i,s,o,c,u,d){var h=0,m,p=0,g=0,y,S,x=[],E=[],_=0,T=t.averagepitch>=6?"down":"up";i&&(T=i),s=t.style?t.style:s,(!s||s==="normal")&&(s="note");var O;o?O=Xa[s].nostem:O=Xa[s][-c],O||console.log("noteSymbol:",s,c,o);var N;for(N=T==="down"?t.pitches.length-2:1;T==="down"?N>=0:N<t.pitches.length;N=T==="down"?N-1:N+1){var D=t.pitches[T==="down"?N+1:N-1],R=t.pitches[N],P=T==="down"?D.pitch-R.pitch:R.pitch-D.pitch;P<=1&&!D.printer_shift&&(R.printer_shift=P?"different":"same",(R.verticalPos>11||R.verticalPos<1)&&x.push(R.verticalPos-R.verticalPos%2),T==="down"?p=lf.getSymbolWidth(O)+2:h=lf.getSymbolWidth(O)+2)}var U=t.pitches.length;for(N=0;N<t.pitches.length;N++){if(!u){var F;T==="down"&&N!==0||T==="up"&&N!==U-1?F=null:F=Xa[T==="down"?"dflags":"uflags"][-c]}var H;if(t.pitches[N].style)H=Xa[t.pitches[N].style][-c];else if(d.isPercussion&&this.percmap){H=O;var Y=this.percmap[b$(t.pitches[N])];Y&&Y.noteHead&&Xa[Y.noteHead]&&(H=Xa[Y.noteHead][-c])}else H=O;t.pitches[N].highestVert=t.pitches[N].verticalPos;var $=(i==="up"||T==="up")&&N===0,G=(i==="down"||T==="down")&&N===U-1;if($||G){if((t.startSlur||U===1)&&(t.pitches[N].highestVert=t.pitches[U-1].verticalPos,Mb(t)<1&&(i==="up"||T==="up")&&(t.pitches[N].highestVert+=6)),t.startSlur)for(t.pitches[N].startSlur||(t.pitches[N].startSlur=[]),S=0;S<t.startSlur.length;S++)Mx(t.pitches[N].startSlur,t.startSlur[S]);if(t.endSlur)for(t.pitches[N].highestVert=t.pitches[U-1].verticalPos,Mb(t)<1&&(i==="up"||T==="up")&&(t.pitches[N].highestVert+=6),t.pitches[N].endSlur||(t.pitches[N].endSlur=[]),S=0;S<t.endSlur.length;S++)Mx(t.pitches[N].endSlur,t.endSlur[S])}var ce=!u&&c<=-1,Se=Af(e,H,t.pitches[N],{dir:T,extrax:-p,flag:F,dot:n,dotshiftx:h,scale:this.voiceScale,accidentalSlot:E,shouldExtendStem:!i,printAccidentals:!d.isPercussion});_=Math.max(lf.getSymbolWidth(H),_),e.extraw-=Se.extraLeft,m=Se.notehead,m&&(this.addSlursAndTies(e,t.pitches[N],m,d,ce?T:null,!1),t.gracenotes&&t.gracenotes.length>0&&(m.bottom=m.bottom-1),e.addHead(m)),p+=Se.accidentalshiftx,g=Math.max(g,Se.dotshiftx)}if(ce){var ee=Math.round(70*this.voiceScale)/10,I=T==="down"?t.minpitch-ee:t.minpitch+1/3;I>6&&!i&&(I=6);var j=T==="down"?t.maxpitch-1/3:t.maxpitch+ee;j<6&&!i&&(j=6);var X=T==="down"||e.heads.length===0?0:e.heads[0].w,K=T==="down"?1:-1;m&&m.c==="noteheads.slash.quarter"&&(T==="down"?j-=1:I+=1),m&&m.c==="noteheads.triangle.quarter"&&(T==="down"?j-=.7:I-=1.2),e.addRight(new mn(null,X,0,I,{type:"stem",pitch2:j,linewidth:K,bottom:I-1})),y=Math.min(I,j)}return{noteHead:m,roomTaken:p,roomTakenRight:g,min:y,additionalLedgers:x,dir:T,symbolWidth:_}};gn.prototype.addLyric=function(e,t){var n="";t.lyric.forEach(function(o){var c=o.divider===" "?"":o.divider;n+=o.syllable+c+`
`});var i=this.getTextSize.calc(n,"vocalfont","lyric"),s=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new mn(n,0,i.width,void 0,{type:"lyric",position:s,height:i.height/Of.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};gn.prototype.createNote=function(e,t,n,i){var s=null,o=0,c=0,u=0,d=[],h,m=Mb(e),p=!1;m===0&&(p=!0,m=.25,t=!0);for(var g=Math.floor(Math.log(m)/Math.log(2)),y=0,S=Math.pow(2,g),x=S/2;S<m;y++,S+=x,x/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var E=m*this.tripletmultiplier;e.rest&&e.rest.type==="multimeasure"&&(E=1),e.rest&&e.rest.type==="invisible-multimeasure"&&(E=this.measureLength*e.rest.text);var _=e.rest?"rest":"note",T=new kl(e,E,1,_,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(Ja&&T.setHint(),e.rest){this.measureLength===m&&e.rest.type!=="invisible"&&e.rest.type!=="spacer"&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var O=E$(T,e,m,y,i.voicetotal>1,this.stemdir,n,g,this.voiceScale);s=O.noteHead,o=O.roomTaken,c=O.roomTakenRight}else{var N=this.addNoteToAbcElement(T,e,y,this.stemdir,this.style,p,g,t,i);N.min!==void 0&&(this.minY=Math.min(N.min,this.minY)),s=N.noteHead,o=N.roomTaken,c=N.roomTakenRight,d=N.additionalLedgers,h=N.dir,u=N.symbolWidth}if(e.lyric!==void 0&&this.addLyric(T,e),e.gracenotes!==void 0&&(o+=this.addGraceNotes(e,i,T,s,this.stemHeight*this.voiceScale,this.isBagpipes,o)),e.decoration){var D=t&&h!=="up"?Math.min(-3,T.bottom-6):T.bottom;this.decoration.createDecoration(i,e.decoration,T.top,s?s.w:0,T,o,h,D,e.positioning,this.hasVocals,this.accentAbove)}if(e.barNumber&&T.addFixed(new mn(e.barNumber,-10,0,0,{type:"barNumber"})),WT(T,e.minpitch,e.maxpitch,e.rest,u,d,h,-2,1),e.chord!==void 0){var R=qT(this.getTextSize,T,e,o,c,u,this.jazzchords,this.germanAlphabet);o=R.roomTaken,c=R.roomTakenRight}return e.startTriplet&&(this.triplet=new g$(e.startTriplet,s,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(s),this.triplet&&!e.startTriplet&&!e.endTriplet&&!(e.rest&&e.rest.type==="spacer")&&this.triplet.middleNote(s),T};gn.prototype.addSlursAndTies=function(e,t,n,i,s,o){if(t.endTie&&this.ties.length>0){for(var c=!1,u=0;u<this.ties.length;u++)if(this.ties[u].anchor1&&this.ties[u].anchor1.pitch===n.pitch){this.ties[u].setEndAnchor(n),i.setRange(this.ties[u]),this.ties.splice(u,1),c=!0;break}c||(this.ties[0].setEndAnchor(n),i.setRange(this.ties[0]),this.ties.splice(0,1))}var d=i.voicetotal<2?-1:i.voicenumber;if(t.startTie){var h=new Dl({anchor1:n,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:o,voiceNumber:d,style:t.startTie.style});Ja&&h.setHint(),this.ties[this.ties.length]=h,i.addOther(h),e.startTie=!0}var m,p;if(t.endSlur)for(var g=0;g<t.endSlur.length;g++)p=t.endSlur[g],this.slurs[p]?(m=this.slurs[p],m.setEndAnchor(n),i.setRange(m),delete this.slurs[p]):(m=new Dl({anchor2:n,stemDir:this.stemdir,voiceNumber:d}),Ja&&m.setHint(),i.addOther(m)),this.startlimitelem&&m.setStartX(this.startlimitelem);else if(!o)for(var y in this.slurs)this.slurs.hasOwnProperty(y)&&this.slurs[y].addInternalNote(n);if(t.startSlur)for(g=0;g<t.startSlur.length;g++)p=t.startSlur[g].label,m=new Dl({anchor1:n,stemDir:this.stemdir,voiceNumber:d,style:t.startSlur[g].style}),Ja&&m.setHint(),this.slurs[p]=m,i.addOther(m)};gn.prototype.addMeasureNumber=function(e,t){var n=this.getTextSize.calc(e,"measurefont","bar-number"),i=0;t.isClef&&(i+=n.width/2);var s=n.width>10&&t.abcelem.type==="treble"?13.5:11;t.addFixed(new mn(e,i,n.width,s+n.height/Of.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};gn.prototype.createBarLine=function(e,t,n){var i=new kl(t,0,10,"bar",this.tuneNumber),s=null,o=0;t.barNumber&&this.addMeasureNumber(t.barNumber,i);var c=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat",u=t.type!=="bar_left_repeat"&&t.type!=="bar_thick_thin"&&t.type!=="bar_invisible",d=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat"||t.type==="bar_left_repeat"||t.type==="bar_thin_thick"||t.type==="bar_thick_thin",h=t.type==="bar_left_repeat"||t.type==="bar_thick_thin"||t.type==="bar_thin_thin"||t.type==="bar_dbl_repeat",m=t.type==="bar_left_repeat"||t.type==="bar_dbl_repeat";if(c||m){for(var p in this.slurs)this.slurs.hasOwnProperty(p)&&this.slurs[p].setEndX(i);this.startlimitelem=i}if(c&&(i.addRight(new mn("dots.dot",o,1,7)),i.addRight(new mn("dots.dot",o,1,5)),o+=6),u&&(s=new mn(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(s)),t.type==="bar_invisible"&&(s=new mn(null,o,1,2,{type:"none",pitch2:10,linewidth:.6}),i.addRight(s)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,d?3:1,i,0,"down",2,t.positioning,this.hasVocals,this.accentAbove),d&&(o+=4,s=new mn(null,o,4,2,{type:"bar",pitch2:10,linewidth:4}),i.addRight(s),o+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=s,this.partstartelem=null),h&&(o+=3,s=new mn(null,o,1,2,{type:"bar",pitch2:10,linewidth:.6}),i.addRight(s)),m&&(o+=3,i.addRight(new mn("dots.dot",o,1,7)),i.addRight(new mn("dots.dot",o,1,5))),t.startEnding&&n&&e.voicenumber===0){var g=this.getTextSize.calc(t.startEnding,"repeatfont","").width;i.minspacing+=g+10,this.partstartelem=new KT(t.startEnding,s,null),e.addOther(this.partstartelem)}return i.extraw-=5,t.chord!==void 0&&qT(this.getTextSize,i,t,0,0,0,!1,this.germanAlphabet),i};var C$=gn,Br="http://www.w3.org/2000/svg";function Zt(e){this.svg=b3(),this.currentGroup=[],e.appendChild(this.svg)}Zt.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=b3(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}};Zt.prototype.setTitle=function(e){var t=document.createElement("title"),n=document.createTextNode(e);t.appendChild(n),this.svg.insertBefore(t,this.svg.firstChild)};Zt.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var n=this.svg.parentNode.getAttribute("class");n?n.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",n+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var i=t/e*100;this.svg.parentNode.style["padding-bottom"]=i+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};Zt.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)};Zt.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)};Zt.prototype.setScale=function(e){e!==1?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};Zt.prototype.insertStyles=function(e){var t=document.createElementNS(Br,"style");t.textContent=e,this.svg.insertBefore(t,this.svg.firstChild)};Zt.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);if(this.dummySvg){var n=document.querySelector("body");n.removeChild(this.dummySvg),this.dummySvg=null}};function Ix(e,t,n){var i=n-e;return"M "+e+" "+t+" l "+i+" 0 l 0 1  l "+-i+" 0  z "}function Lx(e,t,n){var i=n-t;return"M "+e+" "+t+" l 0 "+i+" l 1 0  l 0 "+-i+"  z "}Zt.prototype.rect=function(e){var t=[],n=e.x,i=e.y,s=e.x+e.width,o=e.y+e.height;return t.push(Ix(n,i,s)),t.push(Ix(n,o,s)),t.push(Lx(s,i,o)),t.push(Lx(n,o,i)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})};Zt.prototype.dottedLine=function(e){var t=document.createElementNS(Br,"line");t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),t.setAttribute("stroke",e.stroke),t.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(t,this.svg.firstChild)};Zt.prototype.rectBeneath=function(e){var t=document.createElementNS(Br,"rect");t.setAttribute("x",e.x),t.setAttribute("width",e.width),t.setAttribute("y",e.y),t.setAttribute("height",e.height),e.stroke&&t.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&t.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&t.setAttribute("fill",e.fill),e["fill-opacity"]&&t.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(t,this.svg.firstChild)};Zt.prototype.text=function(e,t,n,i){var s=document.createElementNS(Br,"text");s.setAttribute("stroke","none");for(var o in t)t.hasOwnProperty(o)&&s.setAttribute(o,t[o]);for(var c=t["data-name"]=="free-text",u=(""+e).split(`
`),d=0;d<u.length;d++)if(!(c&&u[d]=="")){var h=document.createElementNS(Br,"tspan");if(i)for(var m in i)i.hasOwnProperty(m)&&h.setAttribute(m,i[m]);if(h.setAttribute("x",t.x?t.x:0),d!==0&&h.setAttribute("dy","1.2em"),u[d].indexOf("")!==-1){var p=u[d].split("");if(h.textContent=p[0],p[1]){var g=document.createElementNS(Br,"tspan");g.setAttribute("dy","-0.3em"),g.setAttribute("style","font-size:0.7em"),g.textContent=p[1],h.appendChild(g)}if(p[2]){var y=p[1]?"0.4em":"0.1em",S=document.createElementNS(Br,"tspan");S.setAttribute("dy",y),S.setAttribute("style","font-size:0.7em"),S.textContent=p[2],h.appendChild(S)}}else c&&u[d].trim()==""?h.innerHTML="&nbsp;":h.textContent=u[d];s.appendChild(h)}return n?n.appendChild(s):this.append(s),s};Zt.prototype.richTextLine=function(e,t,n,i,s,o){var c=document.createElementNS(Br,"text");c.setAttribute("stroke","none"),c.setAttribute("class",i),c.setAttribute("x",t),c.setAttribute("y",n),c.setAttribute("text-anchor",s),c.setAttribute("dominant-baseline","middle");for(var u=0;u<e.length;u++){for(var d=e[u],h=document.createElementNS(Br,"tspan"),m=Object.keys(d.attrs),p=0;p<m.length;p++){var g=d.attrs[m[p]];g!==""&&h.setAttribute(m[p],g)}h.textContent=d.content,c.appendChild(h)}return o?o.appendChild(c):this.append(c),c};Zt.prototype.guessWidth=function(e,t){var n=this.createDummySvg(),i=this.text(e,t,n),s;try{s=i.getBBox(),isNaN(s.height)||!s.height?s={width:t["font-size"]/2,height:t["font-size"]+2}:s={width:s.width,height:s.height}}catch{s={width:t["font-size"]/2,height:t["font-size"]+2}}return n.removeChild(i),s};Zt.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=b3();var e=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",e.join(""));var t=document.querySelector("body");t.appendChild(this.dummySvg)}return this.dummySvg};var Gy={};Zt.prototype.getTextSize=function(e,t,n){if(typeof e=="number"&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var i;if(e.length<20&&(i=e+JSON.stringify(t),Gy[i]))return Gy[i];var s=!n;n||(n=this.text(e,t));var o;try{o=n.getBBox(),isNaN(o.height)||!o.height?o=this.guessWidth(e,t):o={width:o.width,height:o.height}}catch{o=this.guessWidth(e,t)}return s&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(n):this.svg.removeChild(n)),i&&(Gy[i]=o),o};Zt.prototype.openGroup=function(e){e=e||{};var t=document.createElementNS(Br,"g");return e.klass&&t.setAttribute("class",e.klass),e.fill&&t.setAttribute("fill",e.fill),e.stroke&&t.setAttribute("stroke",e.stroke),e["data-name"]&&t.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(t):this.append(t),this.currentGroup.unshift(t),t};Zt.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&e.children.length===0?(e.parentElement.removeChild(e),null):e};Zt.prototype.path=function(e){var t=document.createElementNS(Br,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):e[n]!==void 0&&t.setAttributeNS(null,n,e[n]));return this.append(t),t};Zt.prototype.pathToBack=function(e){var t=document.createElementNS(Br,"path");for(var n in e)e.hasOwnProperty(n)&&(n==="path"?t.setAttributeNS(null,"d",e.path):n==="klass"?t.setAttributeNS(null,"class",e[n]):t.setAttributeNS(null,n,e[n]));return this.prepend(t),t};Zt.prototype.lineToBack=function(e){for(var t=document.createElementNS(Br,"line"),n=Object.keys(e),i=0;i<n.length;i++)t.setAttribute(n[i],e[n[i]]);return this.prepend(t),t};Zt.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)};Zt.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)};Zt.prototype.setAttributeOnElement=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttributeNS(null,n,t[n])};Zt.prototype.moveElementToChild=function(e,t){e.appendChild(t)};function b3(){var e=document.createElementNS(Br,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}var T$=Zt,S3=zr,N$=T$,ia=function(e){this.paper=new N$(e),this.controller=null,this.space=3*S3.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};ia.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};ia.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint=e.media==="print",this.setPadding(e)};ia.prototype.setLineThickness=function(e){this.lineThickness=e};ia.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}};ia.prototype.setPadding=function(e){function t(n,i,s,o,c){e.formatting[s]!==void 0?n.padding[i]=e.formatting[s]:n.paddingOverride[i]!==void 0?n.padding[i]=n.paddingOverride[i]:n.isPrint?n.padding[i]=o:n.padding[i]=c}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)};ia.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e};ia.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};ia.prototype.setVerticalSpace=function(e){e.staffsep!==void 0&&(this.spacing.staffSeparation=e.staffsep*4/3),e.composerspace!==void 0&&(this.spacing.composer=e.composerspace*4/3),e.partsspace!==void 0&&(this.spacing.parts=e.partsspace*4/3),e.textspace!==void 0&&(this.spacing.text=e.textspace*4/3),e.musicspace!==void 0&&(this.spacing.music=e.musicspace*4/3),e.titlespace!==void 0&&(this.spacing.title=e.titlespace*4/3),e.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=e.sysstaffsep*4/3),e.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=e.stafftopmargin*4/3),e.subtitlespace!==void 0&&(this.spacing.subtitle=e.subtitlespace*4/3),e.topspace!==void 0&&(this.spacing.top=e.topspace*4/3),e.vocalspace!==void 0&&(this.spacing.vocal=e.vocalspace*4/3),e.wordsspace!==void 0&&(this.spacing.words=e.wordsspace*4/3)};ia.prototype.calcY=function(e){return this.y-e*S3.STEP};ia.prototype.yToPitch=function(e){return e/S3.STEP};ia.prototype.moveY=function(e,t){t===void 0&&(t=1),this.y+=e*t};ia.prototype.absolutemoveY=function(e){this.y=e};var _$=ia;function k$(e,t,n,i,s,o){var c=e.text;this.rows=[];var u;t&&this.rows.push({move:t});var d=n.calc("textfont","defined-text");if(c==="")this.rows.push({move:d.attr["font-size"]*2});else if(typeof c=="string"){let E=function(_){return _.replace(/^[ \t]*\n/gm,`X
`)};var x=E;this.rows.push({move:d.attr["font-size"]/2}),this.rows.push({left:i,text:c,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"});var h=E(c);u=o.calc(h,"textfont","defined-text"),this.rows.push({move:u.height})}else if(c){for(var m=0,p=i,g="textfont",y=0;y<c.length;y++)c[y].font?g=c[y].font:g="textfont",this.rows.push({left:p,text:c[y].text,font:g,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),u=o.calc(c[y].text,n.calc(g,"defined-text").font,"defined-text"),p+=u.width+u.height/2,m=Math.max(m,u.height);this.rows.push({move:m})}else if(e.length===1){var S=s/2;this.rows.push({left:S,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),u=o.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:u.height})}}var D$=k$;function A$(e,t,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),n&&this.rows.push({move:n})}var O$=A$;function R$(e,t,n,i,s,o){this.rows=[],e&&this.rows.push({move:e});var c=t.titleleft?"start":"middle",u=t.titleleft?s:i;this.rows.push({left:u,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:c,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var d=o.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:d.height})}var M$=R$;function I$(e,t,n){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var i={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar,"dominant-baseline":t["dominant-baseline"]};t.absElemType&&(i.absElemType=t.absElemType),!t.inGroup&&t.klass&&(i.klass=t.klass),t.name&&(i.name=t.name),e.push(i);var s=n.calc("A",t.font,t.klass),o=t.text.split(`
`).length;if(t.text[t.text.length-1]===`
`&&o--,!t.noMove){var c=s.height*1.1*o;e.push({move:Math.round(c)}),t.marginBottom&&e.push({move:t.marginBottom})}}}var w3=I$;const L$=w3;function U$(e,t,n,i,s,o,c,u){var d=u.calc("i",n,i);if(t==="")e.push({move:d.height});else{if(typeof t=="string"){L$(e,{marginLeft:o,text:t,font:n,klass:i,marginTop:c.marginTop,anchor:c.anchor,absElemType:c.absElemType,info:c.info,name:s},u);return}c.marginTop&&e.push({move:c.marginTop});var h=0,m={left:o,anchor:c.anchor,phrases:[]};i&&(m.klass=i),e.push(m);for(var p=0;p<t.length;p++){var g=t[p],y=g.font?g.font:u.attr(n,i).font,S={content:g.text};y&&(S.attrs={"font-family":u.getFamily(y.face),"font-size":y.size,"font-weight":y.weight,"font-style":y.style,"font-decoration":y.decoration}),m.phrases.push(S);var x=u.calc(g.text,y,i);h=Math.max(h,x.height),g.text[g.text.length-1]===" "&&d.width}e.push({move:h})}}var XT=U$;const up=w3,q0=XT;function P$(e,t,n,i,s,o,c,u,d,h){if(this.rows=[],e.header&&o){var m=h.calc("X","headerfont","abcjs-header abcjs-meta-top").height;up(this.rows,{marginLeft:c,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-m,info:t.header,name:"header"},h),up(this.rows,{marginLeft:c+s/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-m,anchor:"middle",info:t.header,name:"header"},h),up(this.rows,{marginLeft:c+s,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-m,anchor:"end",info:t.header,name:"header"},h)}o&&this.rows.push({move:u.top});var p=n.titleleft?"start":"middle",g=n.titleleft?c:c+s/2;if(e.title){var y=d?"abcjs-title":"";q0(this.rows,e.title,"titlefont",y,"title",g,{marginTop:u.title,anchor:p,absElemType:"title",info:t.title},h)}if(i.length)for(var S=0;S<i.length&&i[S].subtitle;){var y=d?"abcjs-text abcjs-subtitle":"";q0(this.rows,i[S].subtitle.text,"subtitlefont",y,"subtitle",g,{marginTop:u.subtitle,anchor:p,absElemType:"subtitle",info:i[S].subtitle},h),S++}if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:u.composer}),e.rhythm&&e.rhythm.length>0){var x=!!(e.composer||e.origin),y=d?"abcjs-rhythm":"";up(this.rows,{marginLeft:c,text:e.rhythm,font:"infofont",klass:y,absElemType:"rhythm",noMove:x,info:t.rhythm,name:"rhythm"},h)}e.composer&&e.composer,e.origin&&e.origin;var E=e.composer?e.composer:"";if(e.origin&&(typeof E=="string"&&typeof e.origin=="string"?E+=" ("+e.origin+")":typeof E=="string"&&typeof e.origin!="string"?(E=[{text:E}],E.push({text:" ("}),E=E.concat(e.origin),E.push({text:")"})):(E.push({text:" ("}),E=E.concat(e.origin),E.push({text:")"}))),E){var y=d?"abcjs-composer":"";q0(this.rows,E,"composerfont",y,"composer",c+s,{anchor:"end",absElemType:"composer",info:t.composer},h)}}if(e.author&&e.author.length>0){var y=d?"abcjs-author":"";q0(this.rows,e.author,"composerfont",y,"author",c+s,{anchor:"end",absElemType:"author",info:t.author},h)}if(e.partOrder&&e.partOrder.length>0){var y=d?"abcjs-part-order":"";q0(this.rows,e.partOrder,"partsfont",y,"part-order",c,{absElemType:"partOrder",info:t.partOrder,anchor:"start"},h)}}var B$=P$;const uf=w3,QT=XT;function dv(e,t,n,i,s,o,c){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,i,s,o,c),this.extraText(e,i,s,o,c),e.footer&&n&&this.footer(e.footer,t,i,c)}dv.prototype.unalignedWords=function(e,t,n,i,s){var o=i?"abcjs-unaligned-words":"",c="wordsfont",u=s.calc("i",c,o);this.rows.push({move:n.words}),Ib(this.rows,"",e,t,c,"unalignedWords","unalignedWords",o,"unalignedWords",n,i,s),this.rows.push({move:u.height})};function Ko(e,t,n,i,s,o,c){n&&(t&&(typeof n=="string"?n=t+n:n=[{text:t}].concat(n)),s=o?"abcjs-extra-text "+s:"",QT(e,n,"historyfont",s,"description",i,{absElemType:"extraText",anchor:"start"},c))}function Ib(e,t,n,i,s,o,c,u,d,h,m,p){if(n){u=m?"abcjs-extra-text "+u:"";var g=p.calc("A",s,u);if(typeof n=="string")t&&(n=t+`
`+n),uf(e,{marginLeft:i,text:n,font:s,absElemType:"extraText",name:d,"dominant-baseline":"middle",klass:u},p);else{e.push({startGroup:c,klass:u,name:d}),e.push({move:h.info}),t&&(uf(e,{marginLeft:i,text:t,font:s,absElemType:"extraText",name:d,"dominant-baseline":"middle"},p),e.push({move:g.height*3/4}));for(var y=0;y<n.length;y++)QT(e,n[y],s,"",d,i,{anchor:"start"},p),y<n.length-1&&typeof n[y]=="string"&&typeof n[y+1]!="string"&&e.push({move:g.height*3/4});e.push({endGroup:c,absElemType:o,startChar:-1,endChar:-1,name:d}),e.push({move:g.height})}}}dv.prototype.extraText=function(e,t,n,i,s){Ko(this.rows,"Book: ",e.book,t,"abcjs-book",i,s),Ko(this.rows,"Source: ",e.source,t,"abcjs-source",i,s),Ko(this.rows,"Discography: ",e.discography,t,"abcjs-discography",i,s),Ib(this.rows,"Notes:",e.notes,t,"historyfont","extraText","notes","abcjs-notes","description",n,i,s),Ko(this.rows,"Transcription: ",e.transcription,t,"abcjs-transcription",i,s),Ib(this.rows,"History:",e.history,t,"historyfont","extraText","history","abcjs-history","description",n,i,s),Ko(this.rows,"Copyright: ",e["abc-copyright"],t,"abcjs-copyright",i,s),Ko(this.rows,"Creator: ",e["abc-creator"],t,"abcjs-creator",i,s),Ko(this.rows,"Edited By: ",e["abc-edited-by"],t,"abcjs-edited-by",i,s)};dv.prototype.footer=function(e,t,n,i){var s="header meta-bottom",o="footerfont";this.rows.push({startGroup:"footer",klass:s}),uf(this.rows,{marginLeft:n,text:e.left,font:o,klass:s,name:"footer"},i),uf(this.rows,{marginLeft:n+t/2,text:e.center,font:o,klass:s,anchor:"middle",name:"footer"},i),uf(this.rows,{marginLeft:n+t,text:e.right,font:o,klass:s,anchor:"end",name:"footer"},i)};var F$=dv;function Ky(e,t,n,i){if(e.indexOf(t)===0){var s=e.replace(t,""),o=parseInt(s,10);""+o===s&&(n[i]=o)}}function j$(e,t){var n=[];if(e.absEl.elemset){for(var i={},s=0;s<e.absEl.elemset.length;s++){var o=e.absEl.elemset[s];if(o)for(var c=o.getAttribute("class").split(" "),u=0;u<c.length;u++)i[c[u]]=!0}for(var d=0;d<Object.keys(i).length;d++)n.push(Object.keys(i)[d])}for(var h={},m=0;m<n.length;m++)Ky(n[m],"abcjs-v",h,"voice"),Ky(n[m],"abcjs-l",h,"line"),Ky(n[m],"abcjs-m",h,"measure");e.staffPos&&(h.staffPos=e.staffPos);for(var p=t.target;p&&p.dataset&&!p.dataset.name&&p.tagName.toLowerCase()!=="svg";)p=p.parentNode;for(var g=t.target;g&&g.dataset&&!g.dataset.index&&g.tagName.toLowerCase()!=="svg";)g=g.parentNode;return g&&g.dataset&&(h.name=g.dataset.name,h.clickedName=p.dataset.name,h.parentClasses=g.classList),p&&p.classList&&(h.clickedClasses=p.classList),h.selectableElement=e.svgEl,{classes:n,analysis:h}}var JT=j$,Gp=zr,z$=JT;function V$(e,t){if(e.rangeHighlight=J$,e.dragging)for(var n=0;n<e.selectables.length;n++){var i=e.selectables[n];i.svgEl.getAttribute("selectable")==="true"&&(i.svgEl.setAttribute("tabindex",0),i.svgEl.setAttribute("data-index",n),i.svgEl.addEventListener("keydown",G$.bind(e)),i.svgEl.addEventListener("keyup",K$.bind(e)),i.svgEl.addEventListener("focus",$$.bind(e)))}for(var s=0;s<t.length;s++)t[s].addEventListener("touchstart",Ux.bind(e),{passive:!0}),t[s].addEventListener("touchmove",Px.bind(e),{passive:!0}),t[s].addEventListener("touchend",wf.bind(e),{passive:!0}),t[s].addEventListener("mousedown",Ux.bind(e)),t[s].addEventListener("mousemove",Px.bind(e)),t[s].addEventListener("mouseup",wf.bind(e))}function H$(e){var t=1,n=1,i=e.target.closest("svg"),s=0;i&&i.viewBox&&i.viewBox.baseVal&&(i.viewBox.baseVal.width!==0&&(t=i.viewBox.baseVal.width/i.clientWidth),i.viewBox.baseVal.height!==0&&(n=i.viewBox.baseVal.height/i.clientHeight),s=i.viewBox.baseVal.y);var o=e.target&&e.target.tagName==="svg",c,u;return o?(c=e.offsetX,u=e.offsetY):(c=e.layerX,u=e.layerY),c=c*t,u=u*n,[c,u+s]}function $$(e){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&e9.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function G$(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function K$(e){var t=!1,n=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",wf.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*Gp.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[n],this.dragIndex=n,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*Gp.STEP+")"));break;case 9:this.dragYStep!==0&&wf.bind(this)(e);break}t&&e.preventDefault()}function Y$(e,t){if(!t)return-1;var n=t.dataset;if(!n)return-1;for(var i=n.index,s=0;s<e.length;s++){var o=e[s].svgEl.dataset;if(o&&i===o.index)return s}return-1}function q$(e,t,n){for(var i=9999999,s=-1,o=0;o<e.selectables.length&&i>0;o++){var c=e.selectables[o];if(e.getDim(c),c.dim.left<t&&c.dim.right>t&&c.dim.top<n&&c.dim.bottom>n)s=o,i=0;else if(c.dim.top<n&&c.dim.bottom>n){var u=Math.min(Math.abs(c.dim.left-t),Math.abs(c.dim.right-t));u<i&&(i=u,s=o)}else if(c.dim.left<t&&c.dim.right>t){var d=Math.min(Math.abs(c.dim.top-n),Math.abs(c.dim.bottom-n));d<i&&(i=d,s=o)}else{var h=Math.abs(t-c.dim.left)>Math.abs(t-c.dim.right)?Math.abs(t-c.dim.right):Math.abs(t-c.dim.left),m=Math.abs(n-c.dim.top)>Math.abs(n-c.dim.bottom)?Math.abs(n-c.dim.bottom):Math.abs(n-c.dim.top),p=Math.sqrt(h*h+m*m);p<i&&(i=p,s=o)}}return s>=0&&i<=12?s:-1}function W$(e,t,n){if(e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY)return[t.offsetX,t.offsetY];var i=Math.abs(t.layerY/n-t.offsetY);return i<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}function X$(e){if(!e)return null;if(e.tagName==="svg")return e;if(!e.getAttribute)return null;for(var t=e.getAttribute("selectable");!t;)e.parentElement?(e=e.parentElement,e.tagName==="svg"?t=!0:t=e.getAttribute("selectable")):t=!0;return e}function ZT(e,t){var n,i,s,o=Y$(e.selectables,X$(t.target));return o>=0?(s=W$(e.selectables[o].svgEl.getBBox(),t,e.scale),n=s[0],i=s[1]):(s=H$(t),n=s[0],i=s[1],o=q$(e,n,i)),{x:n,y:i,clickedOn:o}}function x3(e){if(!(!e||!e.target||!e.touches||e.touches.length<1)){var t=e.target.getBoundingClientRect(),n=e.touches[0].pageX-t.left,i=e.touches[0].pageY-t.top;e.touches[0].offsetX=n,e.touches[0].offsetY=i,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function Ux(e){var t=e;e.type==="touchstart"&&(x3(e),e.touches.length>0&&(t=e.touches[0]));var n=ZT(this,t);n.clickedOn>=0&&(e.type==="touchstart"||e.button===0)&&this.selectables[n.clickedOn]&&(this.dragTarget=this.selectables[n.clickedOn],this.dragIndex=n.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:n.x,y:n.y},this.dragging&&this.dragTarget.isDraggable&&(Z$(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function Px(e){var t=e;if(e.type==="touchmove"&&(x3(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var n=ZT(this,t),i=Math.round((n.y-this.dragMouseStart.y)/Gp.STEP);i!==this.dragYStep&&(this.dragYStep=i,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+i*Gp.STEP+")"))}}function wf(e){var t=e;e.type==="touchend"&&this.lastTouchMove&&(x3(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(t9.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),e9.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),eG(this.renderer.svg,"abcjs-dragging-in-progress"))}function Q$(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",wf.bind(this)({target:this.dragTarget.svgEl}))}function e9(e,t,n,i,s){for(var o=z$(e,s),c=o.classes,u=o.analysis,d=0;d<this.listeners.length;d++)this.listeners[d](e.absEl.abcelem,e.absEl.tuneNumber,c.join(" "),u,{step:t,max:n,index:i,setSelection:Q$.bind(this)},s)}function t9(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function J$(e,t){t9.bind(this)();for(var n=0;n<this.staffgroups.length;n++)for(var i=this.staffgroups[n].voices,s=0;s<i.length;s++)for(var o=i[s].children,c=0;c<o.length;c++){var u=o[c].abcelem.startChar,d=o[c].abcelem.endChar;(t>u&&e<d||t===e&&t===d)&&(this.selected[this.selected.length]=o[c],o[c].highlight(void 0,this.selectionColor))}}function n9(e){var t=e.getAttribute("class");t||(t="");for(var n=t.split(" "),i={},s=0;s<n.length;s++)i[n[s]]=!0;return i}function r9(e,t){var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i);e.setAttribute("class",n.join(" "))}function Z$(e,t){if(e){var n=n9(e.svg);n[t]=!0,r9(e.svg,n)}}function eG(e,t){if(e){var n=n9(e.svg);delete n[t],r9(e.svg,n)}}var tG=V$;function nG(e,t,n,i,s){return t+(i-t)/(n-e)*(s-e)}var E3=nG,rG=_i,Lb=zr,Ub=E3,aG=function(e){if(!(e.elems.length===0||e.allrests)){var t=sG(e.stemsUp,e.isgrace),n=e.elems[0],i=e.elems[e.elems.length-1],s=0,o=e.stemsUp?n.abcelem.maxpitch:n.abcelem.minpitch;s=Fx(n,e.stemsUp,o,s),s=Fx(i,e.stemsUp,o,s),s=Math.max(e.stemHeight,s+3);var c=oG(e.average,e.elems.length,s,e.stemsUp,n.abcelem.averagepitch,i.abcelem.averagepitch,e.isflat,e.min,e.max,e.isgrace),u=a9(e.stemsUp,n,i);e.addBeam({startX:u[0],endX:u[1],startY:c[0],endY:c[1],dy:t});for(var d=lG(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),h=0;h<d.length;h++)e.addBeam(d[h]);cG(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}},Bx=function(e){return e===void 0?0:Math.floor(Math.log(e)/Math.log(2))};function Fx(e,t,n,i){if(!e.children)return i;for(var s=0;s<e.children.length;s++){var o=e.children[s];t&&o.top!==void 0&&o.c==="flags.ugrace"?i=Math.max(i,o.top-n):!t&&o.bottom!==void 0&&o.c==="flags.ugrace"&&(i=Math.max(i,n-o.bottom+7))}return i}function iG(e,t,n,i){if(i)return 0;var s=e-t,o=n/2;return s>o&&(s=o),s<-o&&(s=-o),s}function sG(e,t){var n=e?Lb.STEP:-Lb.STEP;return t&&(n=n*.4),n}function a9(e,t,n){var i=t.heads[e?0:t.heads.length-1],s=n.heads[e?0:n.heads.length-1],o=i.x;e&&(o+=i.w-.6);var c=s.x;return c+=e?s.w:.6,[o,c]}function oG(e,t,n,i,s,o,c,u,d,h){var m=n-2,p=n-2,g=Math.round(i?Math.max(e+m,d+p):Math.min(e-m,u-p)),y=iG(s,o,t,c),S=g+Math.floor(y/2),x=g+Math.floor(-y/2);return h||(i&&g<6||!i&&g>6)&&(S=6,x=6),[S,x]}function cG(e,t,n,i,s){for(var o=0;o<e.length;o++){var c=e[o];if(!c.abcelem.rest){var u=!c.addExtra,d=u?s:c,h=c.heads[t?0:c.heads.length-1],m=1/5,p=h.pitch+(t?m:-m),g=t?h.w:0;u||(g+=h.dx);var y=h.x+g,S=Ub(n.startX,n.startY,n.endX,n.endY,y),x=t?-.6:.6;t||(S-=i/2/Lb.STEP),u&&(g+=c.heads[0].dx),h.c==="noteheads.slash.quarter"&&(t?p+=1:p-=1);var E=new rG(null,g,0,p,{type:"stem",pitch2:S,linewidth:x});E.setX(d.x),d.addRight(E)}}}function lG(e,t,n,i,s){for(var o=[],c=[],u=0;u<e.length;u++){var d=e[u];if(!d.abcelem.rest){var h=d.heads[t?0:d.heads.length-1],m=h.x+(t?h.w:0),p=Ub(n.startX,n.startY,n.endX,n.endY,m),g=t?-1.5:1.5;i&&(g=g*2/3);var y=d.abcelem.duration;y===0&&(y=.25);for(var S=Bx(y);S<-3;S++){var x=-4-S;if(c[x]?c[x].single=!1:c[x]={x:m+(t?-.6:0),y:p+g*(x+1),durlog:S,single:!0},u>0&&d.abcelem.beambr&&d.abcelem.beambr<=x+1){c[x].split||(c[x].split=[c[x].x]);var E=a9(t,e[u-1],d);c[x].split[c[x].split.length-1]>=E[0]&&(E[0]+=d.w),c[x].split.push(E[0]),c[x].split.push(E[1])}}for(var _=c.length-1;_>=0;_--)if(u===e.length-1||Bx(e[u+1].abcelem.duration)>-_-4){var T=m,O=p+g*(_+1);c[_].single&&(u===0?T=m+5:u===e.length-1?T=m-5:e[u-1].duration===e[u+1].duration?T=u%2===0?m+5:m-5:T=e[u-1].duration>e[u+1].duration?m+5:m-5,O=Ub(n.startX,n.startY,n.endX,n.endY,T)+g*(_+1));var N={startX:c[_].x,endX:T,startY:c[_].y,endY:O,dy:s};if(c[_].split!==void 0){var D=c[_].split;N.endX<=D[D.length-1]&&(D[D.length-1]-=d.w),D.push(N.endX),N.split=c[_].split}o.push(N),c=c.slice(0,_)}}}return o}var uG=aG,fG=E3;function dG(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(e.hasBeam&&(t.elems[0]!==e.anchor1.parent||t.elems[t.elems.length-1]!==e.anchor2.parent)&&(e.hasBeam=!1),e.hasBeam){var n=Yy(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=hG(n,e.anchor2.x,t),e.yTextPos+=Yy(t)?3:-2,e.xTextPos=pG(n,e.anchor2.x),e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,Yy(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,e.anchor1.parent.type==="rest"&&e.anchor2.parent.type!=="rest"?e.startNote=e.endNote:e.anchor2.parent.type==="rest"&&e.anchor1.parent.type!=="rest"&&(e.endNote=e.startNote);for(var i=0,s=0;s<e.middleElems.length;s++)i=Math.max(i,e.middleElems[s].top);i+=4,(i>e.startNote||i>e.endNote)&&(e.startNote=i,e.endNote=i),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}delete e.middleElems,delete e.flatBeams}function Yy(e){return e.stemsUp}function hG(e,t,n){if(n.beams.length===0)return 0;n=n.beams[0];var i=e+(t-e)/2;return fG(n.startX,n.startY,n.endX,n.endY,i)}function pG(e,t){return e+(t-e)/2}var vG=dG,mG=uG,gG=E3,yG=vG,bG=function(e){for(var t=0;t<e.beams.length;t++)if(e.beams[t].type==="BeamElem"){mG(e.beams[t]),SG(e.beams[t]);for(var n=0;n<e.beams[t].elems.length;n++)e.adjustRange(e.beams[t].elems[n])}for(e.staff.specialY.chordLines=wG(e.children),t=0;t<e.otherchildren.length;t++){var i=e.otherchildren[t];i.type==="TripletElem"&&(yG(i),e.adjustRange(i))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)};function SG(e){for(var t=1.5,n=0;n<e.elems.length;n++){var i=e.elems[n];if(i.top)for(var s=CG(i,e),o=0;o<i.children.length;o++){var c=i.children[o];if(c.klass==="ornament"&&c.position!=="below"&&c.bottom-t<s){var u=s-c.bottom+t;c.bottom+=u,c.top+=u,c.pitch+=u,s=i.top=c.top}}}}function jx(e,t){var n=t.getChordDim();if(n){for(var i=0;i<e.length;i++){var s=e[i]<n.left;if(s){i>0&&t.putChordInLane(i),e[i]=n.right;return}}e.push(n.right),t.putChordInLane(e.length-1)}}function wG(e){var t=[0],n=[0],i,s,o;for(i=0;i<e.length;i++){for(s=0;s<e[i].children.length;s++)o=e[i].children[s],o.chordHeightAbove&&jx(t,o);for(s=e[i].children.length-1;s>=0;s--)o=e[i].children[s],o.chordHeightBelow&&jx(n,o)}return(t.length>1||n.length>1)&&EG(e,t.length,n.length),{above:t.length,below:n.length}}function xG(e){for(var t=0,n=0;n<e.children.length;n++){var i=e.children[n];i.chordHeightBelow&&t++}return t}function EG(e,t,n){for(var i=0;i<e.length;i++){xG(e[i]);for(var s=0;s<e[i].children.length;s++){var o=e[i].children[s];o.chordHeightAbove&&o.invertLane(t)}}}function CG(e,t){return t=t.beams[0],gG(t.startX,t.startY,t.endX,t.endY,e.x)}var TG=bG,Al=zr,NG=function(e,t){for(var n,i=0;i<t.staffs.length;i++){var s=t.staffs[i],o={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(s.originalTop=s.top,s.originalBottom=s.bottom),vl(s,o,"lyricHeightAbove"),vl(s,o,"chordHeightAbove",s.specialY.chordLines.above),s.specialY.endingHeightAbove&&(s.specialY.chordHeightAbove?s.top+=2:s.top+=s.specialY.endingHeightAbove+$s,o.endingHeightAbove=s.top),s.specialY.dynamicHeightAbove&&s.specialY.volumeHeightAbove?(s.top+=Math.max(s.specialY.dynamicHeightAbove,s.specialY.volumeHeightAbove)+$s,o.dynamicHeightAbove=s.top,o.volumeHeightAbove=s.top):(vl(s,o,"dynamicHeightAbove"),vl(s,o,"volumeHeightAbove")),vl(s,o,"partHeightAbove"),vl(s,o,"tempoHeightAbove"),s.specialY.lyricHeightBelow&&(s.specialY.lyricHeightBelow+=e.spacing.vocal/Al.STEP,o.lyricHeightBelow=s.bottom,s.bottom-=s.specialY.lyricHeightBelow+$s),s.specialY.chordHeightBelow){o.chordHeightBelow=s.bottom;var c=s.specialY.chordHeightBelow;s.specialY.chordLines.below&&(c*=s.specialY.chordLines.below),s.bottom-=c+$s}s.specialY.volumeHeightBelow&&s.specialY.dynamicHeightBelow?(o.volumeHeightBelow=s.bottom,o.dynamicHeightBelow=s.bottom,s.bottom-=Math.max(s.specialY.volumeHeightBelow,s.specialY.dynamicHeightBelow)+$s):s.specialY.volumeHeightBelow?(o.volumeHeightBelow=s.bottom,s.bottom-=s.specialY.volumeHeightBelow+$s):s.specialY.dynamicHeightBelow&&(o.dynamicHeightBelow=s.bottom,s.bottom-=s.specialY.dynamicHeightBelow+$s),e.showDebug&&e.showDebug.indexOf("box")>=0&&(s.positionY=o);for(var u=0;u<s.voices.length;u++){var d=t.voices[s.voices[u]];_G(o,d,e.spacing)}if(n!==void 0){var h=s.top-10,m=n+h,p=e.spacing.systemStaffSeparation/Al.STEP,g=p-m;g>0&&(s.top+=g)}s.top+=e.spacing.staffTopMargin/Al.STEP,n=2-s.bottom}},$s=1;function vl(e,t,n,i){if(e.specialY[n]){var s=e.specialY[n];i&&(s*=i),e.top+=s+$s,t[n]=e.top}}function _G(e,t,n){var i,s;for(i=0;i<t.children.length;i++)s=t.children[i],kG(e,s,n);for(i=0;i<t.otherchildren.length;i++)switch(s=t.otherchildren[i],s.type){case"CrescendoElem":DG(e,s);break;case"DynamicDecoration":AG(e,s);break;case"EndingElem":OG(e,s);break;case"TieElem":var o=s.getYBounds();t.staff.top=Math.max(t.staff.top,o[0]),t.staff.top=Math.max(t.staff.top,o[1]),t.staff.bottom=Math.min(t.staff.bottom,o[0]),t.staff.bottom=Math.min(t.staff.bottom,o[1]);break}}function kG(e,t,n){for(var i=0;i<t.children.length;i++){var s=t.children[i];for(var o in t.specialY)t.specialY.hasOwnProperty(o)&&s[o]&&(s.pitch=e[o],s.top===void 0&&(s.type==="TempoElement"?RG(e,s):MG(e,s,n),t.pushTop(s.top),t.pushBottom(s.bottom)))}}function DG(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function AG(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function OG(e,t){t.pitch=e.endingHeightAbove-2}function RG(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var n=t.pitch-t.totalHeightInPitches+1;t.note.top=n,t.note.bottom=n;for(var i=0;i<t.note.children.length;i++){var s=t.note.children[i];s.top+=n,s.bottom+=n,s.pitch+=n,s.pitch2!==void 0&&(s.pitch2+=n)}}}function MG(e,t,n){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+n.vocal/Al.STEP,t.bottom=e.lyricHeightBelow+n.vocal/Al.STEP,t.pitch-=n.vocal/Al.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove;break}(t.pitch===void 0||t.top===void 0)&&console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}var IG=NG,ls=function(){};ls.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0};ls.layoutEnded=function(e){return e.i>=e.children.length};ls.getNextX=function(e){return Math.max(e.minx,e.nextx)};ls.getSpacingUnits=function(e){return Math.sqrt(e.spacingduration*8)};ls.layoutOneItem=function(e,t,n,i,s){var o=n.children[n.i];if(!o)return 0;var c=e-n.minx,u=n.durationindex+o.duration>0?i:0;if(o.abcelem.el_type==="note"&&!o.abcelem.rest&&n.voicenumber!==0&&s){var d=s.children[s.i],h=d&&(o.abcelem.maxpitch<=d.abcelem.maxpitch+1&&o.abcelem.maxpitch>=d.abcelem.minpitch-1||o.abcelem.minpitch<=d.abcelem.maxpitch+1&&o.abcelem.minpitch>=d.abcelem.minpitch-1);if(h&&o.abcelem.minpitch===d.abcelem.minpitch&&o.abcelem.maxpitch===d.abcelem.maxpitch&&d.heads&&d.heads.length>0&&o.heads&&o.heads.length>0&&d.heads[0].c===o.heads[0].c&&(h=!1),h){var m=d.heads&&d.heads.length>0?d.heads[0].realWidth:d.fixed.w;o.adjustedWidth||(o.adjustedWidth=m+o.w),o.w=o.adjustedWidth;for(var p=0;p<o.children.length;p++){var g=o.children[p];g.name.indexOf("accidental")<0&&(g.adjustedWidth||(g.adjustedWidth=g.dx+m),g.dx=g.adjustedWidth)}}}var y=LG(o,u);return c<y&&(n.i===0||o.type!=="bar"||n.children[n.i-1].type!=="part"&&n.children[n.i-1].type!=="tempo")&&(e+=y-c),o.setX(e),n.spacingduration=o.duration,n.minx=e+UG(o),n.i!==n.children.length-1&&(n.minx+=o.minspacing),this.updateNextX(e,t,n),e};ls.shiftRight=function(e,t){var n=t.children[t.i];n&&(n.setX(n.x+e),t.minx+=e,t.nextx+=e)};ls.updateNextX=function(e,t,n){n.nextx=e+t*this.getSpacingUnits(n)};ls.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,e.children[e.i].type==="bar"&&(e.durationindex=Math.round(e.durationindex*64)/64),e.i++)};function LG(e,t){var n=0;return(e.type==="note"||e.type==="bar")&&(n=t),-e.extraw+n}function UG(e){return e.w}var PG=ls,Jr=PG;function BG(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];if(i.children.length>0){var s=i.children.length-1,o=i.children[s];if(o.abcelem.el_type==="bar"){var c=o.children[0].x;c>t?t=c:o.children[0].x=t}}}}var FG=function(e,t,n,i,s){var o=1e-7,c=0,u=1e3,d=s;i.startx=d;var h,m=0;for(n&&console.log("init layout",e),h=0;h<i.voices.length;h++)Jr.beginLayout(d,i.voices[h]);for(var p=0;!jG(i.voices);){for(m=null,h=0;h<i.voices.length;h++)!Jr.layoutEnded(i.voices[h])&&(!m||qy(i.voices[h])<m)&&(m=qy(i.voices[h]));var g=[],y=[];for(h=0;h<i.voices.length;h++){var S=qy(i.voices[h]);S-m>o?y.push(i.voices[h]):g.push(i.voices[h])}p=0;var x=0;for(h=0;h<g.length;h++)Jr.getNextX(g[h])>d&&(d=Jr.getNextX(g[h]),p=Jr.getSpacingUnits(g[h]),x=g[h].spacingduration);c+=p,u=Math.min(u,p),n&&console.log("currentduration: ",m,c,u);var E=void 0;for(h=0;h<g.length;h++){var _=g[h];_.voicenumber===0&&(E=h);var T=E!==void 0&&g[E].voicenumber!==_.voicenumber?g[E]:void 0;zG(_,T)||(T=void 0);var O=Jr.layoutOneItem(d,e,_,t,T),N=O-d;if(N>0){d=O;for(var D=0;D<h;D++)Jr.shiftRight(N,g[D])}}for(h=0;h<y.length;h++)y[h].spacingduration-=x,Jr.updateNextX(d,e,y[h]);for(h=0;h<g.length;h++){var R=g[h];Jr.updateIndices(R)}}for(h=0;h<i.voices.length;h++)Jr.getNextX(i.voices[h])>d&&(d=Jr.getNextX(i.voices[h]),p=Jr.getSpacingUnits(i.voices[h]));return BG(i.voices),c+=p,i.setWidth(d),{spacingUnits:c,minSpace:u}};function jG(e){for(var t=0;t<e.length;t++)if(!Jr.layoutEnded(e[t]))return!1;return!0}function qy(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}function zG(e,t){return!e||!e.staff||!e.staff.voices||e.staff.voices.length===0||!t||!t.staff||!t.staff.voices||t.staff.voices.length===0?!1:e.staff.voices[0]===t.staff.voices[0]}var VG=FG;function HG(e,t,n,i,s){var o=e.padding.left,c=0,u,d;for(u=0;u<n.length;u++)n[u].header&&(d=t.calc(n[u].header,"voicefont",""),c=Math.max(c,d.width));if(c=zx(c,i,t),c=zx(c,s,t),c){var h=t.calc("A","voicefont","");c+=h.width}o+=c;var m=0;return m=Vx(i,o,m),m=Vx(s,o,m),o+m}function zx(e,t,n){if(t){for(var i=0;i<t.length;i++)if(t[i].header){var s=n.calc(t[i].header,"voicefont","");e=Math.max(e,s.width)}}return e}function Vx(e,t,n){if(e)for(var i=0;i<e.length;i++)$G(t,e[i]),n=Math.max(n,e[i].getWidth());return n}function $G(e,t){t.x=e}var i9=HG,GG=i9;function KG(e,t,n){var i=GG(e,t.getTextSize,t.voices,t.brace,t.bracket),s=YG(t,n.minPadding),o=s.totalDuration,c=s.minSpacing,u=c*o;n.minWidth&&(u=Math.max(u,n.minWidth));var d=n.minPadding?n.minPadding/2:2;t.startx=i,t.w=u+i;for(var h=0;h<t.voices.length;h++){var m=t.voices[h];m.startx=i,m.w=u+i;for(var p=i,g=!1,y=0,S=0;S<m.children.length;S++){var x=m.children[S];g||(x.duration!==0?(g=!0,y=(u+i-p)/o,t.gridStart=p):(x.x=p,p+=x.w+x.minspacing)),g&&(n.align==="center"?x.x=p+x.duration*y/2-x.w/2:x.duration===0?x.x=p+1-x.w:x.x=p+d-x.extraw,p+=x.duration*y);for(var E=0;E<x.children.length;E++){var _=x.children[E],T=_.dx?_.dx:0;_.x=x.x+T}}t.gridEnd=p}return u}function YG(e,t){for(var n=0,i=0,s=0;s<e.voices.length;s++){for(var o=0,c=e.voices[s],u=0;u<c.children.length;u++){var d=c.children[u];if(o+=d.duration,d.duration){var h=(d.w+t)/d.duration;n=Math.max(n,h)}}i=Math.max(i,o)}return{totalDuration:i,minSpacing:n}}var qG=KG,WG=TG,XG=IG,QG=VG,JG=i9,ZG=qG,eK=function(e,t,n,i,s,o){var c,u,d=n;for(c=0;c<t.lines.length;c++)if(u=t.lines[c],u.staff){var h;o!==void 0?h=ZG(e,u.staffGroup,o):h=tK(e,d,i,u.staffGroup,t.formatting,c===t.lines.length-1,!1),Math.round(h)>Math.round(d)&&(d=h,s&&(c=-1))}for(c=0;c<t.lines.length;c++)if(u=t.lines[c],u.staffGroup&&u.staffGroup.voices){for(var m=0;m<u.staffGroup.voices.length;m++)WG(u.staffGroup.voices[m]);XG(e,u.staffGroup)}for(c=0;c<t.lines.length;c++)u=t.lines[c],u.staffGroup&&u.staffGroup.setHeight();return d},tK=function(e,t,n,i,s,o,c){for(var u=JG(e,i.getTextSize,i.voices,i.brace,i.bracket),d=n,h=0;h<8;h++){var m=QG(d,e.minPadding,c,i,u);if(d=nK(o,s.stretchlast,t+e.padding.left,i.w,d,m.spacingUnits,m.minSpace,e.padding.left+e.padding.right),d===null)break}return rK(i.voices),i.w-u};function nK(e,t,n,i,s,o,c,u){if(e)if(t===void 0){if(i/n<.66)return null}else{var d=1-(i+u)/n,h=d<t;if(!h)return null}if(Math.abs(n-i)<2)return null;var m=o*s,p=i-m;return o>0?(s=(n-p)/o,s*c>50&&(s=50/c),s):null}function rK(e){for(var t=0;t<e.length;t++)for(var n=e[t],i=1;i<n.children.length-1;i++){var s=n.children[i];if(s.abcelem.rest&&(s.abcelem.rest.type==="whole"||s.abcelem.rest.type==="multimeasure")){var o=n.children[i-1],c=n.children[i+1];s.center(o,c)}}}var aK=eK,Ea=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};Ea.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};Ea.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};Ea.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};Ea.prototype.isInMeasure=function(){return this.measureNumber!==null};Ea.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};Ea.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};Ea.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};Ea.prototype.incrNote=function(){this.noteNumber++};Ea.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e};Ea.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};Ea.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),e==="abcjs-tab-number")return t.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&t.push("l"+this.lineNumber),this.measureNumber!==null&&t.push("m"+this.measureNumber),this.measureNumber!==null&&t.push("mm"+this.measureTotal()),this.voiceNumber!==null&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&t.push("n"+this.noteNumber),t.length>0){t=t.join(" "),t=t.split(" ");for(var n=0;n<t.length;n++)t[n].indexOf("abcjs-")!==0&&t[n].length>0&&(t[n]="abcjs-"+t[n])}return t.join(" ")};var iK=Ea,hv=function(t,n){this.formatting=t,this.classes=n};hv.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)};hv.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};hv.prototype.calc=function(e,t){var n;typeof e=="string"?(n=this.formatting[e],n?n={face:n.face,size:Math.round(n.size*4/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:n={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):n={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var i=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;n.padding=n.size*i;var s={"font-size":n.size,"font-style":n.style,"font-family":this.getFamily(n.face),"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(t)};return{font:n,attr:s}};var sK=hv,$l=function(t,n){this.getFontAndAttr=t,this.svg=n};$l.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)};$l.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)};$l.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};$l.prototype.calc=function(e,t,n,i){var s;typeof t=="string"?s=this.attr(t,n):s={font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":this.getFamily(t.face),"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(n)}};var o=this.svg.getTextSize(e,s.attr,i);return s.font.box?{height:o.height+s.font.padding*4,width:o.width+s.font.padding*4}:o};$l.prototype.baselineToCenter=function(e,t,n,i,s){var o=this.calc(e,t,n).height,c=this.attr(t,n).font.size;return o*.5+(s-i-2)*c};var oK=$l,cK=function(){for(var e=0,t,n=arguments[e++],i=[],s,o,c,u;n;){if(s=/^[^\x25]+/.exec(n))i.push(s[0]);else if(s=/^\x25{2}/.exec(n))i.push("%");else if(s=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)){if((t=arguments[s[1]||e++])==null||t==null)throw"Too few arguments.";if(/[^s]/.test(s[7])&&typeof t!="number")throw"Expecting number but found "+typeof t;switch(s[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=s[6]?t.toExponential(s[6]):t.toExponential();break;case"f":t=s[6]?parseFloat(t).toFixed(s[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&s[6]?t.substring(0,s[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(s[7])&&s[2]&&t>0?"+"+t:t,c=s[3]?s[3]=="0"?"0":s[3][1]:" ",u=s[5]-String(t).length,o=s[5]?str_repeat(c,u):"",i.push(s[4]?t+o:o+t)}else throw"Huh ?!";n=n.substring(s[0].length)}return i.join("")},ic=cK;function lK(e){return parseFloat(e.toFixed(2))}var ki=lK,Hx=ki;function uK(e,t,n){var i=t.y;if(t.phrases){var u=e.paper.richTextLine(t.phrases,t.x,t.y,t.klass,t.anchor);return u}if(t.lane){var s=t.dim.font.size*.25;i+=(t.dim.font.size+s)*t.lane}var o;t.dim?(o=t.dim,o.attr.class=t.klass):o=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(o.attr["text-anchor"]=t.anchor),t["dominant-baseline"]&&(o.attr["dominant-baseline"]=t["dominant-baseline"]),o.attr.x=t.x,o.attr.y=i,t.centerVertically||(o.attr.y+=o.font.size),t.type==="debugfont"&&(console.log("Debug msg: "+t.text),o.attr.stroke="#ff0000"),t.cursor&&(o.attr.cursor=t.cursor);var c;t.name==="free-text"?c=t.text.replace(/^[ \t]*\n/gm,` 
`):c=t.text.replace(/\n\n/g,`
 
`),c=c.replace(/^\n/,`
`),o.font.box&&(n||e.paper.openGroup({klass:o.attr.class,fill:e.foregroundColor,"data-name":t.name}),o.attr["text-anchor"]==="end"?o.attr.x-=o.font.padding:o.attr["text-anchor"]==="start"&&(o.attr.x+=o.font.padding),o.attr.y+=o.font.padding,delete o.attr.class),t.noClass&&delete o.attr.class,o.attr.x=Hx(o.attr.x),o.attr.y=Hx(o.attr.y),t.name&&(o.attr["data-name"]=t.name);var u=e.paper.text(c,o.attr);if(o.font.box){var d=u.getBBox(),h=0;o.attr["text-anchor"]==="middle"?h=d.width/2+o.font.padding:o.attr["text-anchor"]==="end"&&(h=d.width+o.font.padding*2);var m=0;t.centerVertically&&(m=d.height-o.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-h),y:Math.round(i-m),width:Math.round(d.width+o.font.padding*2),height:Math.round(d.height+o.font.padding*2)}),n||(u=e.paper.closeGroup())}return u}var eo=uK,Rp=ic,qa=zr,fK=eo;function dK(e,t,n){var i=t.startVoice.staff.absoluteY-qa.STEP*10;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-qa.STEP*2:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-qa.STEP*2:t.endY=t.startVoice.staff.absoluteY-qa.STEP*2,vK(e,t.x,i,t.endY,t.type,t.header,n)}function hK(e,t,n,i,s){t+=qa.STEP;var o=qa.STEP*.75,c=qa.STEP*.75,u=i-n,d=Rp("M %f %f l %f %f l %f %f l %f %f z",t,n-c,0,u+c*2,o,0,0,-(u+c*2)),h=qa.STEP*2,m=qa.STEP;return d+=Rp("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,n-c,h*.6,m*.2,h,-m,-h*.1,m*.3,-h,m+qa.STEP),d+=Rp("M %f %f q %f %f %f %f q %f %f %f %f z",t+o,n+c+u,h*.6,-m*.2,h,m,-h*.1,-m*.3,-h,-m-qa.STEP),e.paper.path({path:d,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(s),"data-name":s})}function pK(e,t,n,i,s){var o=i-n,c=$x(t,n,[7.5,-8,21,0,18.5,-10.5,7.5],[0,o/5.5,o/3.14,o/2,o/2.93,o/4.88,0]);return c+=$x(t,n,[0,17.5,-7.5,6.6,-5,20,0],[o/2,o/1.46,o/1.22,o,o/1.19,o/1.42,o/2]),e.paper.path({path:c,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(s),"data-name":s})}function $x(e,t,n,i){return Rp("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+n[0],t+i[0],e+n[1],t+i[1],e+n[2],t+i[2],e+n[3],t+i[3],e+n[4],t+i[4],e+n[5],t+i[5],e+n[6],t+i[6])}var vK=function(e,t,n,i,s,o,c){var u;if(o){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":s});var d=n+(i-n)/2;d=d-e.controller.getTextSize.baselineToCenter(o,"voicefont","staff-extra voice-name",0,1),fK(e,{x:e.padding.left,y:d,text:o,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return s==="brace"?u=pK(e,t,n,i,s):s==="bracket"&&(u=hK(e,t,n,i,s)),o&&(u=e.paper.closeGroup()),c.wrapSvgEl({el_type:s,startChar:-1,endChar:-1},u),u},mK=dK;function gK(e,t,n){var i=e.paper.path(t);return i}var Rf=gK,yK=ic,bK=Rf,SK=ki;function wK(e,t,n){(!t.anchor1||!t.anchor2||!t.anchor1.heads||!t.anchor2.heads||t.anchor1.heads.length===0||t.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var i=4,s=e.calcY(t.anchor1.heads[0].pitch),o=e.calcY(t.anchor2.heads[0].pitch),c=t.anchor1.x+t.anchor1.w/2,u=t.anchor2.x+t.anchor2.w/2,d=xK(c,s,u,o),h=t.anchor1.w/2+i,m=t.anchor2.w/2+i,p=EK(c,s,u,o),g=Pb(s,p,h);Pb(o,p,-m);var y=CK(d-h-m),S=AK(e,c+h,g,y,p);return n.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},S),[S]}function xK(e,t,n,i){var s=n-e,o=i-t;return Math.sqrt(s*s+o*o)}function EK(e,t,n,i){return(i-t)/(n-e)}function Pb(e,t,n){return SK(e+n*t)}function CK(e){var t=5;return Math.max(2,Math.floor((e-t*2)/6))}var TK=[[3.5,-4.8]],NK=[[1.5,-1],[.3,-.3],[-3.5,3.8]],_K=[[-1.5,2]],kK=[[3,4],[3,-4]],DK=[[-3,4],[-3,-4]];function W0(e,t){for(var n="",i=0;i<e.length;i++)n+="l"+e[i][0]+" "+Pb(e[i][1],t,e[i][0]);return n}var AK=function(e,t,n,i,s){var o=yK("M %f %f",t,n);o+=W0(TK,s);var c;for(c=0;c<i;c++)o+=W0(kK,s);for(o+=W0(NK,s),c=0;c<i;c++)o+=W0(DK,s);return o+=W0(_K,s)+"z",bK(e,{path:o,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})},OK=wK,RK=ic,MK=Rf,ml=ki;function IK(e,t,n){t.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var i=e.calcY(t.pitch)+4,s=8,o=t.anchor1?t.anchor1.x:0,c=t.anchor2?t.anchor2.x:800,u;return t.dir==="<"?u=Gx(e,i+s/2,i,i+s/2,i+s,o,c):u=Gx(e,i,i+s/2,i+s,i+s/2,o,c),n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},u),[u]}var Gx=function(e,t,n,i,s,o,c){t=ml(t),n=ml(n),i=ml(i),s=ml(s),o=ml(o),c=ml(c);var u=RK("M %f %f L %f %f M %f %f L %f %f",o,t,c,n,o,i,c,s);return MK(e,{path:u,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},LK=IK,Kx=ki;function Mf(){this.ingroup=!1}Mf.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};Mf.prototype.isInGroup=function(){return this.ingroup};Mf.prototype.addPath=function(e){if(e=e||[],e.length!==0){e[0][0]="m",e[0][1]=Kx(e[0][1]-this.lastM[0]),e[0][2]=Kx(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,n=e.length;t<n;t++)e[t][0]==="m"&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}};Mf.prototype.endGroup=function(e,t){this.ingroup=!1;for(var n="",i=0;i<this.path.length;i++)n+=this.path[i].join(" ");this.path=[];var s=this.paper.closeGroup();return s&&(s.setAttribute("class",this.controller.classes.generate(e)),s.setAttribute("fill",this.controller.renderer.foregroundColor),s.setAttribute("stroke","none"),s.setAttribute("data-name",t)),s};var UK=new Mf,C3=UK,Yx=eo,gl=Zs,qx=C3;function PK(e,t,n,i,s){var o,c;if(!i)return null;if(i.length>1&&i.indexOf(".")<0){var u=qx.isInGroup()?"":s.klass;e.paper.openGroup({"data-name":s.name,klass:u});for(var d=0,h=0;h<i.length;h++){var m=i[h];c=gl.getYCorr(m),o=gl.printSymbol(t+d,e.calcY(n+c),m,e.paper,{stroke:s.stroke,fill:s.fill}),o?h<i.length-1&&(d+=BK(m,i[h+1],gl.getSymbolWidth(m))):Yx(e,{x:t,y:e.y,text:"no symbol:"+i,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var p=e.paper.closeGroup();return p}else return c=gl.getYCorr(i),qx.isInGroup()?o=gl.printSymbol(t,e.calcY(n+c),i,e.paper,{"data-name":s.name}):o=gl.printSymbol(t,e.calcY(n+c),i,e.paper,{klass:s.klass,stroke:s.stroke,fill:s.fill,"data-name":s.name}),o||(Yx(e,{x:t,y:e.y,text:"no symbol:"+i,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function BK(e,t,n){var i=n;return e==="f"&&t==="f"&&(i=i*2/3),e==="p"&&t==="p"&&(i=i*5/6),e==="f"&&t==="z"&&(i=i*5/8),i}var T3=PK,FK=T3;function jK(e,t,n){t.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var i=FK(e,t.anchor.x,t.pitch,t.dec,{klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return n.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},i),[i]}var zK=jK,VK=ic,HK=eo,$K=Rf,fp=ki;function GK(e,t,n){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||KK(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),HK(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var i=e.paper.closeGroup();return n.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},i),i}function dp(e,t,n,i){return VK("M %f %f L %f %f",fp(e),fp(t),fp(n),fp(i))}function KK(e,t,n,i,s){n=e.calcY(n),s=e.calcY(s);var o=5,c="";c+=dp(t,n,t,n+o),c+=dp(i,s,i,s+o);var u=t+(i-t)/2,d=8,h=(s-n)/(i-t),m=u-d,p=n+(m-t)*h;c+=dp(t,n,m,p);var g=u+d,y=n+(g-t)*h;c+=dp(g,y,i,s),$K(e,{path:c,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}var YK=GK,Wy=ic,qK=eo,WK=Rf,Yo=ki;function XK(e,t,n,i,s){t.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var o=Yo(e.calcY(t.pitch)),c=20,u="";t.anchor1&&(n=Yo(t.anchor1.x+t.anchor1.w),u+=Wy("M %f %f L %f %f ",n,o,n,Yo(o+c))),t.anchor2&&(i=Yo(t.anchor2.x),u+=Wy("M %f %f L %f %f ",i,o,i,Yo(o+c))),u+=Wy("M %f %f L %f %f ",n,o,i,o),e.paper.openGroup({klass:e.controller.classes.generate("ending"),fill:e.foregroundColor,"data-name":"ending"}),WK(e,{path:u,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&qK(e,{x:Yo(n+5),y:Yo(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var d=e.paper.closeGroup();return s.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},d),[d]}var QK=XK,Wx=ic,ma=ki;function JK(e,t,n,i,s){ZK(t,n,i);var o="";t.anchor1?o+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:o+="abcjs-start-edge",t.anchor2?o+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:o+=" abcjs-end-edge",t.hint&&(o="abcjs-hint");var c=t.fixedY?1.5:0,u=eY(e,t.startX,t.endX,t.startY+c,t.endY+c,t.above,o,t.isTie,t.dotted),d=-1;t.anchor1&&!t.isTie&&(d=t.anchor1.parent.abcelem.startChar-1);var h=-1;return t.anchor2&&!t.isTie&&(h=t.anchor2.parent.abcelem.endChar+1),s.wrapSvgEl({el_type:"slur",startChar:d,endChar:h},u),[u]}var ZK=function(e,t,n){!e.anchor1||!e.anchor2||e.anchor1.pitch===e.anchor2.pitch&&e.internalNotes.length===0?e.isTie=!0:e.isTie=!1,e.isTie?(e.calcTieDirection(),e.calcX(t,n),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,n),e.calcSlurY()),e.avoidCollisionAbove()},eY=function(e,t,n,i,s,o,c,u,d){var h=u?1.2:1.5;t=ma(t+6),n=ma(n+4),i=i+(o?h:-h),s=s+(o?h:-h);var m=ma(e.calcY(i)),p=ma(e.calcY(s)),g=n-t,y=p-m,S=Math.sqrt(g*g+y*y),x=g/S,E=y/S,_=S/3.5,T=u?10:25,O=(o?-1:1)*Math.min(T,Math.max(4,_)),N=ma(t+_*x-O*E),D=ma(m+_*E+O*x),R=ma(n-_*x-O*E),P=ma(p-_*E+O*x),U=2;c?c+=" slur":c="slur",c+=u?" tie":" legato";var F;if(d){c+=" dotted";var H=Wx("M %f %f C %f %f %f %f %f %f",t,m,N,D,R,P,n,p);F=e.paper.path({path:H,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(c),"data-name":u?"tie":"slur"})}else{var Y=Wx("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,m,N,D,R,P,n,p,ma(R-U*E),ma(P+U*x),ma(N-U*E),ma(D+U*x),t,m);F=e.paper.path({path:Y,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(c),"data-name":u?"tie":"slur"})}return F},tY=JK,nY=Rf,yl=ki;function rY(e,t){if(t.beams.length!==0){for(var n="",i=0;i<t.beams.length;i++){var s=t.beams[i];if(s.split){for(var o=aY(e,s.startX,s.startY,s.endX,s.endY),c=[],u=0;u<s.split.length;u+=2)c.push([s.split[u],s.split[u+1]]);for(u=0;u<c.length;u++){var d=Qx(s.startX,s.startY,o,c[u][0]),h=Qx(s.startX,s.startY,o,c[u][1]);n+=Xx(e,c[u][0],d,c[u][1],h,s.dy)}}else n+=Xx(e,s.startX,s.startY,s.endX,s.endY,s.dy)}var m=("abcjs-d"+t.duration).replace(/\./g,"-"),p=e.controller.classes.generate("beam-elem "+m),g=nY(e,{path:n,stroke:"none",fill:e.foregroundColor,class:p});return[g]}}function Xx(e,t,n,i,s,o){n=yl(e.calcY(n)),s=yl(e.calcY(s)),t=yl(t),i=yl(i);var c=yl(n+o),u=yl(s+o);return"M"+t+" "+n+" L"+i+" "+s+"L"+i+" "+u+" L"+t+" "+c+"z"}function aY(e,t,n,i,s){return(s-n)/(i-t)}function Qx(e,t,n,i){var s=i-e;return t+s*n}var iY=rY,sY=C3,bl=ki;function oY(e,t,n,i,s,o,c){if(n<0||i<s){var u=bl(s);s=bl(i),i=u}else i=bl(i),s=bl(s);t=bl(t);var d=bl(t+n);if(e.firefox112){t+=n/2;var m={x1:t,x2:t,y1:i,y2:s,stroke:e.foregroundColor,"stroke-width":Math.abs(n)};return o&&(m.class=o),c&&(m["data-name"]=c),e.paper.lineToBack(m)}for(var h=[["M",t,i],["L",t,s],["L",d,s],["L",d,i],["z"]],m={path:""},p=0;p<h.length;p++)m.path+=h[p].join(" ");return o&&(m.class=o),c&&(m["data-name"]=c),sY.isInGroup()||(m.stroke="none",m.fill=e.foregroundColor),e.paper.pathToBack(m)}var N3=oY,cY=ic,hp=ki;function lY(e,t,n,i,s,o,c){var u=e.foregroundColor;t=hp(t),n=hp(n);var d=hp(i-c),h=hp(i+c);if(e.firefox112){i+=c/2;var m={x1:t,x2:n,y1:i,y2:i,stroke:e.foregroundColor,"stroke-width":Math.abs(c*2)};return s&&(m.class=s),o&&(m["data-name"]=o),e.paper.lineToBack(m)}var p=cY("M %f %f L %f %f L %f %f L %f %f z",t,d,n,d,n,h,t,h),g={path:p,stroke:"none",fill:u};o&&(g["data-name"]=o),s&&(g.class=s);var y=e.paper.pathToBack(g);return y}var uY=lY,fY=uY;function dY(e,t,n,i,s,o,c){var u=e.calcY(i);return fY(e,t,n,u,s,o,c)}var s9=dY,es=eo,Jx=N3,hY=s9,pY=T3;function vY(e,t,n){t.pitch===void 0&&window.console.error(t.type+" Relative Element y-coordinate not set.");var i=e.calcY(t.pitch);switch(t.type){case"symbol":if(t.c===null)return null;var s="symbol";t.klass&&(s+=" "+t.klass),t.graphelem=pY(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(s),name:t.name});break;case"debug":t.graphelem=es(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var o="middle",c="tabnumberfont",u="abcjs-tab-number";t.isGrace&&(c="tabgracefont",i+=2.5,u="tab-grace"),t.graphelem=es(e,{x:t.x,y:i,text:""+t.c,type:c,klass:e.controller.classes.generate(u),anchor:o,centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=es(e,{x:t.x,y:i,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=es(e,{x:t.x,y:i,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=es(e,{x:t.x,y:i,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=es(e,{x:t.x,y:i+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=es(e,{x:t.x,y:i,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=es(e,{x:t.x+t.w/2,y:i,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=es(e,{x:t.x,y:i,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=Jx(e,t.x,t.linewidth+e.lineThickness,i,n||e.calcY(t.pitch2),null,"bar");break;case"stem":var d=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=Jx(e,t.x,d,i,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=hY(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness);break}return t.scalex!==1&&t.graphelem&&mY(e.paper,t.graphelem,t.scalex,t.scaley,t.x,i),t.graphelem}function mY(e,t,n,i,s,o){e.setAttributeOnElement(t,{style:"transform:scale("+n+","+i+");transform-origin:"+s+"px "+o+"px;"})}var o9=vY,gY=o9,Xy=eo;function yY(e,t){var n=t.x;t.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var i=e.calcY(t.pitch)+2,s,o;if(t.tempo.preString){s=Xy(e,{x:n,y:i,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),o=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",s);var c=o.width,u=c/t.tempo.preString.length;n+=c+u}if(t.note){t.note.setX(n);for(var d=0;d<t.note.children.length;d++)gY(e,t.note.children[d],n);n+=t.note.w+5;var h="= "+t.tempo.bpm;s=Xy(e,{x:n,y:i,text:h,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),o=e.controller.getTextSize.calc(h,"tempofont","tempo",s);var m=o.width,p=m/h.length;n+=m+p}t.tempo.postString&&Xy(e,{x:n,y:i,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var bY=yY,SY=bY,wY=o9,xY=zr,Zx=p3,eE=C3;function EY(e,t,n,i,s){if(!t.invisible){var o=t.children.length>0&&t.children[0].type==="TempoElement";t.elemset=[],eE.beginGroup(e.paper,e.controller);for(var c=0;c<t.children.length;c++){var u=t.children[c];switch(u.type){case"TempoElement":SY(e,u);break;default:var d=wY(e,u,n);u.type==="symbol"&&u.c&&u.c.indexOf("notehead")>=0&&d.setAttribute("class","abcjs-notehead")}}var h=t.type;if((t.type==="note"||t.type==="rest")&&(t.counters=e.controller.classes.getCurrent(),h+=" d"+Math.round(t.durationClass*1e3)/1e3,h=h.replace(/\./g,"-"),t.abcelem.pitches))for(var m=0;m<t.abcelem.pitches.length;m++)h+=" p"+t.abcelem.pitches[m].pitch;var p=eE.endGroup(h,t.type);if(p){if(t.cloned&&(t.cloned.overrideClasses=p.className.baseVal),t.overrideClasses){var g=p.classList&&p.classList.length>0?p.classList[0]+" ":"";p.setAttribute("class",g+t.overrideClasses)}if(o)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,i.add(t,p,!1,s);else{t.elemset.push(p);var y=!1;(t.type==="note"||t.type==="tabNumber")&&(y=!0),i.add(t,p,y,s)}}else t.elemset.length>0&&i.add(t,t.elemset[0],t.type==="note",s);if(t.klass&&Zx(t.elemset,"mark","","#00ff00"),t.hint&&Zx(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var S=0;S<t.heads.length;S++)t.notePositions.push({x:t.heads[S].x+t.heads[S].w/2,y:s.zero-t.heads[S].pitch*xY.STEP})}}}var CY=EY,TY=OK,NY=LK,_Y=zK,kY=YK,DY=QK,AY=tY,OY=iY,RY=eo,tE=CY;function MY(e,t,n,i,s){var o=t.w-1;e.staffbottom=t.staff.bottom;var c=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var u=RY(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);i.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},u)}var d,h,m=!1;for(d=0;d<t.children.length;d++){h=t.children[d],(h.type==="note"||h.type==="rest")&&(m=!0);var p=!1;h.type!=="staff-extra"&&!e.controller.classes.isInMeasure()&&(e.controller.classes.startMeasure(),p=!0),t.staff.isTabStaff&&(h.invisible=!1,h.type=="bar"&&h.abcelem.lastBar&&(n=t.topLine)),tE(e,h,t.barto||d===t.children.length-1?n:0,i,s),(h.type==="note"||IY(h))&&e.controller.classes.incrNote(),h.type==="bar"&&!p&&m&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),d=0;d<t.beams.length;d++){var g=t.beams[d];g==="bar"?e.controller.classes.incrMeasure():OY(e,g)}for(e.controller.classes.startMeasure(),d=0;d<t.otherchildren.length;d++)if(h=t.otherchildren[d],h==="bar")e.controller.classes.incrMeasure();else switch(h.type){case"GlissandoElem":h.elemset=TY(e,h,i);break;case"CrescendoElem":h.elemset=NY(e,h,i);break;case"DynamicDecoration":h.elemset=_Y(e,h,i);break;case"TripletElem":kY(e,h,i);break;case"EndingElem":h.elemset=DY(e,h,t.startx+10,o,i);break;case"TieElem":h.elemset=AY(e,h,t.startx+10,o,i);break;default:console.log(h),tE(e,h,t.startx+10,o,i)}e.foregroundColor=c}function IY(e){return e.type!=="rest"?!1:!!(e.abcelem&&e.abcelem.rest&&e.abcelem.rest.type!=="spacer")}var LY=MY,nE=s9;function UY(e,t,n,i,s,o){var c="abcjs-top-line",u=2;s&&(u=s),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var d=0,h=0;if(i===1)nE(e,t,n,6,c,null,o+e.lineThickness),d=e.calcY(10),h=e.calcY(2);else for(var m=i-1;m>=0;m--){var p=(m+1)*u;h=e.calcY(p),d===0&&(d=h),nE(e,t,n,p,c,null,o+e.lineThickness),c=void 0}return e.paper.closeGroup(),[d,h]}var PY=UY;function BY(e,t,n){var i=e.paper.rectBeneath(t);return n&&e.paper.text(n,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),i}var FY=BY;function jY(e,t){var n="rgba(0,0,0,255)",i="rgba(0,0,0,0)",s=Math.round(e.y),o=e.controller.width,c=(o-t)/2,u=c+t,d="M "+c+" "+s+" L "+u+" "+s+" L "+u+" "+(s+1)+" L "+c+" "+(s+1)+" L "+c+" "+s+" z";e.paper.pathToBack({path:d,stroke:i,fill:n,class:e.controller.classes.generate("defined-text")})}var zY=jY,VY=zY,HY=eo;function $Y(e,t,n){for(var i=0;i<t.rows.length;i++){var s=t.rows[i];if(s.absmove)e.absolutemoveY(s.absmove);else if(s.move)e.moveY(s.move);else if(s.text||s.phrases){var o=s.left?s.left:0,c=HY(e,{x:o,y:e.y,text:s.text,phrases:s.phrases,"dominant-baseline":s["dominant-baseline"],type:s.font,klass:s.klass,name:s.name,anchor:s.anchor});s.absElemType&&n.wrapSvgEl({el_type:s.absElemType,name:s.name,startChar:s.startChar,endChar:s.endChar,text:s.text},c)}else if(s.separator)VY(e,s.separator);else if(s.startGroup)e.paper.openGroup({klass:s.klass,"data-name":s.name});else if(s.endGroup){var u=e.paper.closeGroup();s.absElemType&&n.wrapSvgEl({el_type:s.absElemType,name:s.name,startChar:s.startChar,endChar:s.endChar,text:""},u)}}}var c9=$Y,xl=zr,GY=mK,KY=LY,YY=PY,Kp=FY,qY=N3,WY=c9;function XY(e,t,n,i){for(var s,o=e.y,c=0;c<t.staffs.length;c++){var u=t.staffs[c];e.moveY(xl.STEP,u.top),u.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&u.voices&&QY(e,t.voices,u.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:o,y2:o,stroke:"#0000ff"}),Kp(e,{x:e.padding.left,y:e.calcY(u.originalTop),width:e.controller.width,height:e.calcY(u.originalBottom)-e.calcY(u.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),s=0,N(u,"chordHeightAbove"),N(u,"chordHeightBelow"),N(u,"dynamicHeightAbove"),N(u,"dynamicHeightBelow"),N(u,"endingHeightAbove"),N(u,"lyricHeightAbove"),N(u,"lyricHeightBelow"),N(u,"partHeightAbove"),N(u,"tempoHeightAbove"),N(u,"volumeHeightAbove"),N(u,"volumeHeightBelow"))),e.moveY(xl.STEP,-u.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var d,h,m=2,p=0,g=0;g<t.voices.length;g++){var y=t.voices[g].staff,S=t.voices[g].tabNameInfos;if(e.y=y.absoluteY,e.controller.classes.incrVoice(),!t.voices[g].duplicate){if(d||(d=e.calcY(10)),h=e.calcY(m),y.lines!==0){y.linePitch&&(m=y.linePitch),e.controller.classes.newMeasure();var x=YY(e,t.startx,t.w,y.lines,y.linePitch,.35);h=x[1],y.bottomLine=h,y.topLine=x[0],y.hasTab&&(p=y.topLine),y.hasStaff&&(p=y.hasStaff.topLine,t.voices[g].barto=!0,t.voices[g].topLine=d)}rE(e,y.absoluteY,t.brace,g,n),rE(e,y.absoluteY,t.bracket,g,n)}KY(e,t.voices[g],p,n,{top:o,zero:e.y,height:t.height*xl.STEP});var E=0;if(S){var _={rows:[]};_.rows.push({absmove:h+2});var T=8;_.rows.push({left:t.startx+T,text:S.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),_.rows.push({move:S.textSize.height}),WY(e,_),E=S.textSize.height}e.controller.classes.newMeasure(),t.voices[g].duplicate||(p=e.calcY(2+E))}e.controller.classes.newMeasure();var O=t.staffs.length;O>1&&(d=t.staffs[0].topLine,h=t.staffs[O-1].bottomLine,qY(e,t.startx,.6,d,h,null)),e.y=o;function N(D,R){var P=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(D.positionY&&D.positionY[R]){var U=D.specialY[R]*xl.STEP;R==="chordHeightAbove"&&D.specialY.chordLines&&D.specialY.chordLines.above&&(U*=D.specialY.chordLines.above),R==="chordHeightBelow"&&D.specialY.chordLines&&D.specialY.chordLines.below&&(U*=D.specialY.chordLines.below),Kp(e,{x:e.padding.left,y:e.calcY(D.positionY[R]),width:e.controller.width,height:U,fill:P[s],stroke:P[s],"fill-opacity":.4,"stroke-opacity":.4},R.substr(0,4)),s+=1,s>6&&(s=0)}}}function rE(e,t,n,i,s){if(n)for(var o=0;o<n.length;o++)n[o].isStartVoice(i)&&(n[o].startY=t-xl.STEP*10,n[o].elemset=GY(e,n[o],s))}function QY(e,t,n){for(var i=0;i<n.length;i++)for(var s=t[n[i]].children,o=0;o<s.length;o++){var c=s[o],u=c.getFixedCoords();if(!(c.invisible||u.t===void 0||u.b===void 0)){var d=(u.t-u.b)*xl.STEP;Kp(e,{x:u.x,y:e.calcY(u.t),width:u.w,height:d,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var h=0;h<c.children.length;h++){var m=c.children[h],p=m.getChordDim();if(p){var g=e.calcY(m.pitch);g+=m.dim.font.size*m.getLane(),Kp(e,{x:p.left,y:g,width:p.right-p.left,height:m.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var JY=XY;function ZY(e,t,n,i){var s=(t+e.padding.left+e.padding.right)*n,o=(e.y+e.padding.bottom)*n;if(e.isPrint&&(o=Math.max(o,1056)),e.ariaLabel!==""){var c="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(c+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(c);var u=e.ariaLabel?e.ariaLabel:c;e.paper.setAttribute("aria-label",u)}var d=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+d.join(" ")+"}");var h={overflow:"hidden"};i==="resize"?e.paper.setResponsiveWidth(s,o):(h.width="",h.height=o+"px",n<1?(h.width=s+"px",e.paper.setSize(s/n,o/n)):e.paper.setSize(s,o)),e.paper.setScale(n),e.paper.setParentStyles(h)}var eq=ZY,tq=AT,nq=OT;function If(e,t,n){this.elements=[],this.paper=e,this.tuneNumber=n,this.selectTypes=t}If.prototype.getElements=function(){return this.elements};If.prototype.add=function(e,t,n,i){if(this.canSelect(e)){var s;this.selectTypes===void 0?s={selectable:!1,"data-index":this.elements.length}:s={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,s);var o={absEl:e,svgEl:t,isDraggable:n};i!==void 0&&(o.staffPos=i),this.elements.push(o)}};If.prototype.canSelect=function(e){return this.selectTypes===!1||!e||!e.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?e.abcelem.el_type==="note"||e.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(e.abcelem.el_type)>=0};If.prototype.wrapSvgEl=function(e,t){var n={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:tq,unhighlight:nq};this.add(n,t,!1)};var rq=If;const xf=T3,aq=N3;function iq(e,t,n,i,s){const o=s.gchordfont;s.partsfont;const c=s.annotationfont,u=s.repeatfont,d=s.textfont,h=s.subtitlefont,m=50,p=10,g=14,y=10,S=20,x=16;t.forEach(E=>{switch(E.type){case"text":El(e,E.text,n,e.y,16,d,null,null,!1),e.moveY(x);break;case"subtitle":El(e,E.subtitle,n,e.y+y,20,h,null,"abcjs-subtitle",!1),e.moveY(S);break;case"part":if(E.lines.length>0){El(e,E.name,n,e.y+y,20,h,E.name,"abcjs-part",!1),e.moveY(S);const _=E.lines[0].length,T=i/_;E.lines.forEach((O,N)=>{let D=!1,R=!1;O.forEach(U=>{U.ending&&(D=!0),U.annotations&&U.annotations.length>0&&(R=!0)});const P=R?g:D?p:0;O.forEach((U,F)=>{if(!U.noBorder){e.paper.rect({x:n+F*T,y:e.y,width:T,height:P+m}),e.paper.rect({x:n+F*T+1,y:e.y+1,width:T-1*2,height:P+m-1*2});let Y=0,$=0;const G=e.y,ce=n+T*F;U.hasStartRepeat&&(aE(e,ce,G,G+m+P,!0,P),Y=12),U.hasEndRepeat&&(aE(e,ce+T,G,G+m+P,!1,P),$=12);let Se=0;U.ending&&(Se=El(e,U.ending,n+F*T+4,G+10,12,u,null,null,!1).getBBox().width+4),cq(e,G,n+Y,T,N,F,U.chord,o,Y+$,m,P),U.annotations&&U.annotations.length>0&&oq(e,G,n+F*T+Se,U.annotations,c),P&&e.paper.rectBeneath({x:n+F*T,y:e.y,width:T,height:P,fill:"#e8e8e8",stroke:"none"})}}),e.moveY(P+m)}),e.moveY(S)}break}})}function sq(e,t,n,i){var s=t-10,o=t+10,c=n+10,u=n-10,d=t-10,h=-e.yToPitch(i)+2,m=t+6.5,p=-e.yToPitch(i)-2.3;e.paper.lineToBack({x1:s,x2:o,y1:c,y2:u,"stroke-width":"3px","stroke-linecap":"round"}),xf(e,d,h,"dots.dot",{klass:"",name:"dot"}),xf(e,m,p,"dots.dot",{klass:"",name:"dot"})}function aE(e,t,n,i,s,o){const c=s?t+2:t-4,u=s?t+9:t-11;e.paper.openGroup({klass:"abcjs-repeat"}),aq(e,c,3+e.lineThickness,n,i,null,"bar"),xf(e,u,-e.yToPitch(o)-4,"dots.dot",{klass:"",name:"dot"}),xf(e,u,-e.yToPitch(o)-8,"dots.dot",{klass:"",name:"dot"}),e.paper.closeGroup()}const iE={segno:"scripts.segno",coda:"scripts.coda",fermata:"scripts.ufermata"};function oq(e,t,n,i,s){n+=3;let o;for(let c=0;c<i.length;c++)switch(i[c]){case"segno":case"coda":case"fermata":{n+=12,o=xf(e,n,-3,iE[i[c]],{name:iE[i[c]]});const u=o.getBBox();n+=u.width}break;default:El(e,i[c],n,t+12,12,s,null,null,!1)}}function cq(e,t,n,i,s,o,c,u,d,h,m){const p=n+i*o;!c[1]&&!c[2]&&!c[3]?uq(e,p,t+m,i-d,h,c[0],u,m):!c[1]&&!c[3]?fq(e,p,t,i-d,h,c[0],c[2],u,m):dq(e,p,t,i-d,h,c,u,m)}function Qo(e,t,n,i,s,o,c){const u=El(e,s,t,n,i,o,null,"abcjs-chord",!0);let d=u.getBBox(),h=i;for(;d.width>c&&h>=14;)h-=2,u.setAttribute("font-size",h),d=u.getBBox()}const lq=34,sE=26,pp=20,Jo=-3;function uq(e,t,n,i,s,o,c,u){o==="%"?sq(e,t+i/2,n+s/2,u+s/2):Qo(e,t+i/2,n+s/2+Jo,lq,o,c,i)}function fq(e,t,n,i,s,o,c,u,d){e.paper.lineToBack({x1:t,x2:t+i,y1:n+s+d,y2:n+2}),Qo(e,t+i/4,n+s/4+5+d+Jo,sE,o,u,i/2),Qo(e,t+3*i/4,n+3*s/4+d+Jo,sE,c,u,i/2)}function dq(e,t,n,i,s,o,c,u){e.paper.lineToBack({x1:t+3,x2:t+i-3,y1:n+s/2+u,y2:n+s/2+u}),e.paper.lineToBack({x1:t+i/2,x2:t+i/2,y1:n+3+u,y2:n+s-3+u}),o[0]&&Qo(e,t+i/4,n+s/4+2+u+Jo,pp,vp(o[0]),c,i/2),o[1]&&Qo(e,t+3*i/4,n+s/4+2+u+Jo,pp,vp(o[1]),c,i/2),o[2]&&Qo(e,t+i/4,n+3*s/4+u+Jo,pp,vp(o[2]),c,i/2),o[3]&&Qo(e,t+3*i/4,n+3*s/4+u+Jo,pp,vp(o[3]),c,i/2)}function vp(e){return e==="No Chord"?"N.C.":e}function El(e,t,n,i,s,o,c,u,d){const h={x:n,y:i,stroke:"none","font-size":s,"font-style":o.style,"font-family":o.face,"font-weight":o.weight,"text-decoration":o.decoration};return c&&(h["data-name"]=c),u&&(h.class=u),h["text-anchor"]=d?"middle":"start",e.paper.text(t,h,null,{"alignment-baseline":"middle"})}var hq=iq,pq=JY,vq=eq,Qy=c9,l9=zr,mq=rq,gq=hq;function yq(e,t,n,i,s,o,c,u,d,h,m){var p=new mq(e.paper,u,d),g={};t.shouldAddClasses&&(g.klass="abcjs-meta-top"),e.paper.openGroup(g),e.moveY(e.padding.top),Qy(e,n.topText,p),e.paper.closeGroup(),e.moveY(e.spacing.music);let y=!1;m&&n.chordGrid&&(gq(e,n.chordGrid,e.padding.left,i,n.formatting),m==="noMusic"&&(y=!0));var S=[],x=0;if(!y)for(var E=0;E<n.lines.length;E++){t.incrLine();var _=n.lines[E];if(_.staff){if(x++,n.formatting.maxStaves&&x>n.formatting.maxStaves)break;t.shouldAddClasses&&(g.klass="abcjs-staff-wrapper abcjs-l"+t.lineNumber),e.paper.openGroup(g),_.vskip&&e.moveY(_.vskip),S.length>=1&&Sq(e,e.spacing.staffSeparation,S[S.length-1],_.staffGroup);var T=bq(e,_.staffGroup,p);T.line=h+E,S.push(T),e.paper.closeGroup()}else _.nonMusic&&(t.shouldAddClasses&&(g.klass="abcjs-non-music"),e.paper.openGroup(g),Qy(e,_.nonMusic,p),e.paper.closeGroup())}return t.reset(),y||n.bottomText&&n.bottomText.rows&&n.bottomText.rows.length>0&&(t.shouldAddClasses&&(g.klass="abcjs-meta-bottom"),e.paper.openGroup(g),e.moveY(24),Qy(e,n.bottomText,p),e.paper.closeGroup()),vq(e,s,c,o),{staffgroups:S,selectables:p.getElements()}}function bq(e,t,n,i){pq(e,t,n);var s=t.height*l9.STEP;return e.y+=s,t}function Sq(e,t,n,i){var s=n.staffs[n.staffs.length-1],o=-(s.bottom-2),c=i.staffs[0].top-10,u=c+o,d=u*l9.STEP;d<t&&e.moveY(t-d)}var wq=yq,xq=JT;function Eq(e){for(var t=e;t&&t.attributes&&t.tagName.toLowerCase()!=="svg"&&!t.attributes.selectable;)t=t.parentNode;if(t&&t.attributes&&t.attributes.selectable){var n=t.attributes["data-index"].nodeValue;if(n&&(n=parseInt(n,10),n>=0&&n<this.selectables.length)){var i=this.selectables[n],s=xq(i,e);return s.index=n,s.element=i,s}}return null}var Cq=Eq,Tq=zr,Nq=C$,_q=_$,kq=D$,Dq=O$,Aq=M$,u9=B$,Oq=F$,Rq=tG,f9=aK,Mq=iK,d9=sK,h9=oK,Iq=wq,Lq=BT,Uq=Cq,Di=function(e,t){t=t||{},this.findSelectableElement=Uq,this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*Tq.SPACE,this.initialClef=t.initialClef,this.timeBasedLayout=t.timeBasedLayout,this.expandToWidest=!!t.expandToWidest,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new Mq({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new _q(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.accentAbove&&(this.accentAbove=t.accentAbove),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),t.chordGrid&&(this.chordGrid=t.chordGrid),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",t.ariaLabel!==void 0&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};Di.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};Di.prototype.engraveABC=function(e,t,n){e[0]===void 0&&(e=[e]),this.reset();for(var i=0;i<e.length;i++)t===void 0&&(t=i),this.getFontAndAttr=new d9(e[i].formatting,this.classes),this.getTextSize=new h9(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[i],t,n)};Di.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)};Di.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new d9(e.formatting,this.classes),this.getTextSize=new h9(this.getFontAndAttr,this.renderer.paper);var t=this.jazzchords;this.setupTune(e,0),this.constructTuneElements(e),f9(this.renderer,e,0,this.space,this.timeBasedLayout);for(var n=[],i,s=!0,o=0;o<e.lines.length;o++){var c=e.lines[o];if(c.staff){if(s&&(i={left:0,measureWidths:[],total:0},n.push(i),s=!1),c.staffGroup.voices.length>0)for(var u=c.staffGroup.voices[0],d=!1,h=0,m=0;m<u.children.length;m++){var p=u.children[m];!d&&!p.isClef&&!p.isKeySig&&(d=!0,i.left=p.x,h=p.x),p.type==="bar"&&(i.measureWidths.push(p.x-h),i.total+=p.x-h,h=p.x)}}else s=!0}return this.jazzchords=t,n};Di.prototype.setupTune=function(e,t){this.classes.reset(),e.formatting.jazzchords!==void 0&&(this.jazzchords=e.formatting.jazzchords),e.formatting.accentAbove!==void 0&&(this.accentAbove=e.formatting.accentAbove),this.renderer.newTune(e),this.engraver=new Nq(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:e.formatting.graceSlurs!==!1,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=e.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var n=e.formatting.scale?e.formatting.scale:this.scale;return this.responsive==="resize"&&(n=void 0),n===void 0&&(n=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(n),n};Di.prototype.constructTuneElements=function(e){e.topText=new u9(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var t,n,i=!1,s=!1;for(t=0;t<e.lines.length;t++)if(n=e.lines[t],n.staff)s=!0,n.staffGroup=this.engraver.createABCLine(n.staff,i?null:e.metaText.tempo,t),i=!0;else if(n.subtitle){if(s){var o=this.width/2+this.renderer.padding.left;n.nonMusic=new Aq(this.renderer.spacing.subtitle,e.formatting,n.subtitle,o,this.renderer.padding.left,this.getTextSize)}}else n.text!==void 0?(s=!0,n.nonMusic=new kq(n.text,n.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):n.separator!==void 0&&n.separator.lineLength&&(s=!0,n.nonMusic=new Dq(n.separator.spaceAbove,n.separator.lineLength,n.separator.spaceBelow));e.bottomText=new Oq(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)};Di.prototype.engraveTune=function(e,t,n){var i=this.jazzchords,s=this.setupTune(e,t);this.constructTuneElements(e);var o=f9(this.renderer,e,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&o>this.width+1&&(e.topText=new u9(e.metaText,e.metaTextInfo,e.formatting,e.lines,o,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),e.lines&&e.lines.length>0))for(var c=e.lines.length,u=0;u<c;++u){var d=e.lines[u];if(d.nonMusic&&d.nonMusic.rows&&d.nonMusic.rows.length>0)for(var h=d.nonMusic.rows.length,m=0;m<h;++m){var p=d.nonMusic.rows[m];p.left&&(d.subtitle?p.left=o/2+this.renderer.padding.left:d.text&&d.text.length>0&&d.text[0].center&&(p.left=o/2+this.renderer.padding.left))}}e.tablatures&&Lq.layoutTablatures(this.renderer,e);var g=Iq(this.renderer,this.classes,e,this.width,o,this.responsive,s,this.selectTypes,t,n,this.chordGrid);if(this.staffgroups=g.staffgroups,this.selectables=g.selectables,this.oneSvgPerLine){var y=this.renderer.paper.svg.parentNode;this.svgs=Pq(this.renderer,y,e.metaText.title,this.responsive,s)}else this.svgs=[this.renderer.paper.svg];Rq(this,this.svgs),this.jazzchords=i};function Pq(e,t,n,i,s){n||(n="Untitled");var o=t.querySelector("svg");i==="resize"&&(t.style.paddingBottom="");for(var c=o.querySelector("style"),u=i==="resize"?o.viewBox.baseVal.width:o.getAttribute("width"),d=t.querySelectorAll("svg > g"),h=0,m=[],p=0;p<d.length;p++){var g=d[p],y=g.getBBox(),S=y.y-h,x=y.height+S,E=document.createElement("div"),_="overflow: hidden;";i!=="resize"&&(_+="height:"+x*s+"px;"),E.setAttribute("style",_);var T=Bq(o),O='Sheet Music for "'+n+'" section '+(p+1);T.setAttribute("aria-label",O),i!=="resize"&&T.setAttribute("height",x),i==="resize"&&(T.style.position="");var N=e.firefox112?x+1:x;T.setAttribute("viewBox","0 "+h+" "+u+" "+N),T.appendChild(c.cloneNode(!0));var D=document.createElement("title");D.innerText=O,T.appendChild(D),T.appendChild(g),E.appendChild(T),m.push(T),t.appendChild(E),h=y.y+y.height}return t.removeChild(o),m}function Bq(e){for(var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg"),i=0;i<e.attributes.length;i++){var s=e.attributes[i];s.name!=="height"&&s.name!="aria-label"&&n.setAttribute(s.name,s.value)}return n}Di.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim};Di.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e};var p9=Di,Fq=uv,v9=p9,jq=kT,zq=ST,Mp={};function oE(){var e=window.innerWidth;for(var t in Mp)if(Mp.hasOwnProperty(t)){var n=Mp[t],i=n.offsetLeft;e-=i*2,n.style.width=e+"px"}}try{window.addEventListener("resize",oE),window.addEventListener("orientationChange",oE)}catch{}function m9(e,t,n,i,s){n.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',n.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",Mp[e.id]=e,e=e.children[0]):n.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var o=new v9(e,n);if(o.engraveABC(t,i,s),t.engraver=o,n.viewportVertical||n.viewportHorizontal){var c=e.parentNode;c.style.width=e.style.width}}var Vq=function(e,t,n,i,s){var o={},c;if(n){for(c in n)n.hasOwnProperty(c)&&(o[c]=n[c]);o.warnings_id&&o.tablature&&(o.tablature.warning_id=o.warnings_id)}if(i)for(c in i)i.hasOwnProperty(c)&&(c==="listener"?i[c].highlight&&(o.clickListener=i[c].highlight):o[c]=i[c]);if(s)for(c in s)s.hasOwnProperty(c)&&(o[c]=s[c]);function u(d,h,m,p){var g=!1;return d==="*"&&(g=!0,d=document.createElement("div"),d.setAttribute("style","visibility: hidden;"),document.body.appendChild(d)),!g&&o.wrap&&o.staffwidth?(h=Hq(d,h,m,p,o),h):(o.afterParsing&&o.afterParsing(h,m,p),m9(d,h,o,m,0),g&&d.parentNode.removeChild(d),null)}return Fq.renderEngine(u,e,t,o)};function Hq(e,t,n,i,s){var o=new v9(e,s),c=o.getMeasureWidths(t),u=zq.calcLineWraps(t,c,s);if(u.reParse){var d=new jq;d.parse(i,u.revisedParams),t=d.getTune();var h=d.getWarnings();h&&(t.warnings=h)}return s.afterParsing&&s.afterParsing(t,n,i),m9(e,t,u.revisedParams,n,0),t.explanation=u.explanation,t}var g9=Vq,$q=uv,Gq=p9,Kq=function(e,t){function n(i,s,o,c){i=document.createElement("div"),i.setAttribute("style","visibility: hidden;"),document.body.appendChild(i);var u=new Gq(i,t),d=u.getMeasureWidths(s);return i.parentNode.removeChild(i),{sections:d}}return $q.renderEngine(n,"*",e,t)},Yq=Kq,qq={},_3=qq,Jy=_3,Wq=function(e,t,n,i){Jy[t]||(Jy[t]={});var s=Jy[t];return s[n]||(s[n]=new Promise(function(o,c){var u=new XMLHttpRequest;let d=e+t+"-mp3/"+n+".mp3";u.open("GET",d,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status!==200){c(Error("Can't load sound at "+d+" status="+u.status));return}var h=function(p){o({instrument:t,name:n,status:"loaded",audioBuffer:p})},m=i.decodeAudioData(u.response,h,function(){c(Error("Can't decode sound at "+d))});m&&typeof m.catch=="function"&&m.catch(c)},u.onerror=function(){c(Error("Can't load sound at "+d))},u.send()}).catch(o=>{throw console.error("Didn't load note",t,n,":",o.message),o})),s[n]},Xq=Wq,Qq=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],k3=Qq,Zy=k3,Jq=function(e){for(var t=[],n=0;n<e.tracks.length;n++)t.push([]);var i=Zy[0];return e.tracks.forEach(function(s,o){s.forEach(function(c){switch(c.cmd){case"note":var u=c.instrument!==void 0?Zy[c.instrument]:i;if(c.duration>0){var d=c.gap?c.gap:0,h=c.duration;d=Math.min(d,h*2/3);var m={pitch:c.pitch,instrument:u,start:Math.round(c.start*1e6)/1e6,end:Math.round((c.start+h-d)*1e6)/1e6,volume:c.volume};c.startChar&&(m.startChar=c.startChar),c.endChar&&(m.endChar=c.endChar),c.style&&(m.style=c.style),c.cents&&(m.cents=c.cents),t[o].push(m)}break;case"program":i=Zy[c.instrument];break;case"text":break;default:console.log("Unhandled midi event",c)}})}),t},Zq=Jq;function eW(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(t)window.abcjsAudioContext=new t;else return!1}return window.abcjsAudioContext.state!=="suspended"}var pv=eW,tW=pv;function nW(){return window.abcjsAudioContext||tW(),window.abcjsAudioContext}var Gl=nW,rW=Gl;function aW(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var e=rW();if(e)return e.resume!==void 0}var vv=aW,iW={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},D3=iW,sW=function(e){return window.URL.createObjectURL(oW(e.audioBuffers))};function oW(e){var t=e[0],n=t.numberOfChannels,i=t.length*n*2+44,s=new ArrayBuffer(i),o=new DataView(s),c=[],u,d,h=0,m=0;for(g(1179011410),g(i-8),g(1163280727),g(544501094),g(16),p(1),p(n),g(t.sampleRate),g(t.sampleRate*2*n),p(n*2),p(16),g(1635017060),g(i-m-4),u=0;u<n;u++)c.push(t.getChannelData(u));for(;m<i;){for(u=0;u<c.length;u++)d=Math.max(-1,Math.min(1,c[u][h])),d=(.5+d<0?d*32768:d*32767)|0,o.setInt16(m,d,!0),m+=2;h++}return new Blob([s],{type:"audio/wav"});function p(y){o.setUint16(m,y,!0),m+=2}function g(y){o.setUint32(m,y,!0),m+=4}}var cW=sW;function lW(e){return Math.pow(2,e/1200)}var y9=lW,cE=_3,uW=D3,fW=y9;function dW(e,t,n,i,s,o,c,u,d){var h=window.OfflineAudioContext||window.webkitOfflineAudioContext,m=n.len*n.tempoMultiplier;o&&(m+=o/1e3),m-=u,m<0&&(m=.005);var p=new h(2,Math.floor((m+c)*t),t),g=uW[n.pitch];if(!cE[n.instrument])return d&&d("placeNote skipped (instrument empty): "+n.instrument+":"+g),Promise.resolve();var y=cE[n.instrument][g];return y?y.then(function(S){var x=p.createBufferSource();x.buffer=S.audioBuffer;var E=n.volume/96*s;x.gainNode=p.createGain(),n.pan&&p.createStereoPanner&&(x.panNode=p.createStereoPanner(),x.panNode.pan.setValueAtTime(n.pan,0)),x.gainNode.gain.value=E,x.gainNode.gain.linearRampToValueAtTime(x.gainNode.gain.value,m),x.gainNode.gain.linearRampToValueAtTime(0,m+c),n.cents&&(x.playbackRate.value=fW(n.cents)),x.panNode?(x.panNode.connect(p.destination),x.gainNode.connect(x.panNode)):x.gainNode.connect(p.destination),x.connect(x.gainNode),x.start(0),x.noteOff?x.noteOff(m+c):x.stop(m+c);var _;return p.oncomplete=function(T){if(T.renderedBuffer&&T.renderedBuffer.getChannelData)for(var O=0;O<i.length;O++){var N=i[O]*n.tempoMultiplier;o&&(N-=o/1e3),N<0&&(N=0),N=Math.floor(N*t),hW(e,T.renderedBuffer,N)}d&&d("placeNote: "+n.instrument+":"+g),_()},p.startRendering(),new Promise(function(T){_=T})}).catch(function(S){return d&&d("placeNote catch: "+S.message),Promise.reject(S)}):(d&&d("placeNote skipped: "+n.instrument+":"+g),Promise.resolve())}var hW=function(e,t,n){for(var i=0;i<2;i++)for(var s=t.getChannelData(i),o=e.getChannelData(i),c=0;c<s.length;c++)o[c+n]+=s[c]},pW=dW,vW=Xq,mW=Zq,gW=pv,on=Gl,yW=vv,bW=D3,mp=k3,SW=cW,wW=pW,lE=_3,qo="MIDI is not supported in this browser.",uE="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",fE="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",xW="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function EW(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.options={},e.pickupLength=0,e.init=function(i){i||(i={}),i.options&&(e.options=i.options),gW(i.audioContext);var s=on().currentTime;if(e.debugCallback=i.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:qo});var o=i.options?i.options:{};e.soundFontUrl=o.soundFontUrl?o.soundFontUrl:fE,e.soundFontUrl[e.soundFontUrl.length-1]!=="/"&&(e.soundFontUrl+="/"),o.soundFontVolumeMultiplier||o.soundFontVolumeMultiplier===0?e.soundFontVolumeMultiplier=o.soundFontVolumeMultiplier:e.soundFontUrl===fE||e.soundFontUrl===xW?e.soundFontVolumeMultiplier=3:e.soundFontUrl===uE?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,o.programOffsets?e.programOffsets=o.programOffsets:e.soundFontUrl===uE?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var c=o.fadeLength!==void 0?parseInt(o.fadeLength,10):NaN;if(e.fadeLength=isNaN(c)?200:c,c=o.noteEnd!==void 0?parseInt(o.noteEnd,10):NaN,e.noteEnd=isNaN(c)?0:c,e.pan=o.pan,e.meterSize=1,i.visualObj){e.flattened=i.visualObj.setUpAudio(o);var u=i.visualObj.getMeterFraction();u.den&&(e.meterSize=u.num/u.den),e.pickupLength=i.visualObj.getPickupLength()}else if(i.sequence)e.flattened=i.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.millisecondsPerMeasure=i.millisecondsPerMeasure?i.millisecondsPerMeasure:i.visualObj?i.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=i.visualObj?i.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=o.sequenceCallback,e.callbackContext=o.callbackContext,e.onEnded=o.onEnded,e.meterFraction=i.visualObj?i.visualObj.getMeterFraction():{den:1};var d={},h=[],m=[],p=mp[0];e.flattened.tracks.forEach(function(E){E.forEach(function(_){if(_.cmd==="program"&&mp[_.instrument]&&(p=mp[_.instrument]),_.pitch!==void 0){var T=_.pitch,O=bW[T],N=_.instrument!==void 0?mp[_.instrument]:p;if(O)if(d[N]||(d[N]={}),!lE[N]||!lE[N][O])d[N][O]=!0;else{var D=N+":"+O;h.indexOf(D)<0&&h.push(D)}else{var R=N+":"+O;console.log("Can't find note: ",T,R),m.indexOf(R)<0&&m.push(R)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor((on().currentTime-s)*1e3)+"ms"),s=on().currentTime;var g=[];Object.keys(d).forEach(function(E){Object.keys(d[E]).forEach(function(_){g.push({instrument:E,note:_})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(g));for(var y=[],S=256,x=0;x<g.length;x+=S)y.push(g.slice(x,x+S));return new Promise(function(E,_){var T={cached:h,error:m,loaded:[]},O=0,N=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+O+" len="+y.length),O<y.length?e._loadBatch(y[O],e.soundFontUrl,s).then(function(D){e.debugCallback&&e.debugCallback("loadBatch then"),s=on().currentTime,D&&(D.error&&(T.error=T.error.concat(D.error)),D.loaded&&(T.loaded=T.loaded.concat(D.loaded))),O++,N()},_):(e.debugCallback&&e.debugCallback("resolve init"),E(T))};N()})},e._loadBatch=function(i,s,o,c){var u=[];return i.forEach(function(d){e.debugCallback&&e.debugCallback("getNote "+d.instrument+":"+d.note),u.push(vW(s,d.instrument,d.note,on()))}),Promise.all(u).then(function(d){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor((on().currentTime-o)*1e3)+"ms");for(var h=[],m=[],p=[],g=[],y=0;y<d.length;y++){var S=d[y],x=S.instrument+":"+S.name;S.status==="loaded"?h.push(x):S.status==="pending"?p.push(x):S.status==="cached"?m.push(x):g.push(x+" "+S.message)}if(p.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(p)),c?c=c*2:c=50,c<9e4)return new Promise(function(T,O){setTimeout(function(){var N=[];for(y=0;y<p.length;y++)x=p[y].split(":"),N.push({instrument:x[0],note:x[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(N)),e._loadBatch(N,s,o,c).then(function(D){T(D)}).catch(function(D){O(D)})},c)});for(var E=[],_=0;_<i.length;_++)E.push(i[_].instrument+"/"+i[_].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+E.join(", ")))}else return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:h,cached:m,error:g})}).catch(function(d){e.debugCallback&&e.debugCallback("loadBatch catch "+d.message)})},e.prime=function(){var i=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(s,o){try{let O=function(N){var D=N&&N.audioBuffers&&N.audioBuffers.length>0?N.audioBuffers[0].duration:0;return{status:on().state,duration:D}};var T=O,c=on().currentTime,u=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*u,e.duration<=0)return e.audioBuffers=[],s({status:"empty",seconds:0});e.duration+=i;var d=Math.floor(on().sampleRate*e.duration);e.stop();var h=mW(e.flattened);e.options.swing&&n(h,e.options.swing,e.meterFraction,e.pickupLength),e.sequenceCallback&&e.sequenceCallback(h,e.callbackContext);var m=t(h.length,e.pan),p={};h.forEach(function(N,D){var R=m&&m.length>D?m[D]:0;N.forEach(function(P){var U=P.instrument+":"+P.pitch+":"+P.volume+":"+Math.round((P.end-P.start)*1e3)/1e3+":"+R+":"+u+":"+(P.cents?P.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+U),p[U]||(p[U]=[]),p[U].push(P.start)})});for(var g=[],y=on().createBuffer(2,d,on().sampleRate),S=0;S<Object.keys(p).length;S++){var x=Object.keys(p)[S],E=x.split(":"),_=E[6]!==void 0?parseFloat(E[6]):0;E={instrument:E[0],pitch:parseInt(E[1],10),volume:parseInt(E[2],10),len:parseFloat(E[3]),pan:parseFloat(E[4]),tempoMultiplier:parseFloat(E[5]),cents:_},g.push(wW(y,on().sampleRate,E,p[x],e.soundFontVolumeMultiplier,e.programOffsets[E.instrument],i,e.noteEnd/1e3,e.debugCallback))}e.audioBuffers=[y],e.debugCallback&&(e.debugCallback("sampleRate = "+on().sampleRate),e.debugCallback("totalSamples = "+d),e.debugCallback("creationTime = "+Math.floor((on().currentTime-c)*1e3)+"ms")),Promise.all(g).then(function(){on().state==="suspended"?on().resume().then(function(){s(O(e))}):on().state==="interrupted"?on().suspend().then(function(){on().resume().then(function(){s(O(e))})}):s(O(e))}).catch(function(N){o(N)})}catch(O){o(O)}})):Promise.reject(new Error(qo))};function t(i,s){if(s==null)return null;var o=[];if(s.length){for(var c=0;c<i;c++)if(c<s.length){var u=parseFloat(s[c]);u<-1?u=-1:u>1&&(u=1),o.push(u)}else o.push(0);return o}else{var d=parseFloat(s);if(d*(i-1)>2)return null;for(var h=i%2===0,m=h?0-d/2:0,p=m+d,g=0;g<i;g++)h=g%2===0,h?(o.push(m),m-=d):(o.push(p),p+=d);return o}}e.start=function(){if(!e.audioBufferPossible)throw new Error(qo);e.debugCallback&&e.debugCallback("start called");var i=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(i),e.startTimeSec=on().currentTime-i,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(qo);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(i,s){var o;switch(s){case"seconds":o=i;break;case"beats":o=i*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:o=(e.duration-e.fadeLength/1e3)*i;break}if(!e.audioBufferPossible)throw new Error(qo);e.debugCallback&&e.debugCallback("seek called sec="+o),e.isRunning?(e.stop(),e._kickOffSound(o)):e.pausedTimeSec=o,e.pausedTimeSec=o},e.stop=function(){e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(s){try{s.stop()}catch(o){console.log("direct source didn't stop:",o)}}),e.directSource=[];var i=on().currentTime-e.startTimeSec;return i},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return SW(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e.getIsRunning=function(){return e.isRunning},e._deviceCapable=function(){return yW()?!0:(console.warn(qo),e.debugCallback&&e.debugCallback(qo),!1)},e._kickOffSound=function(i){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(s,o){e.directSource[o]=on().createBufferSource(),e.directSource[o].buffer=s,e.directSource[o].connect(on().destination)}),e.directSource.forEach(function(s){s.start(0,i)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})};function n(i,s,o,c){if(!(o.den!=4&&o.den!=8)&&(s=parseFloat(s),!(isNaN(s)||s<=50))){s>75&&(s=75),s=s/50-1;var u=0,d=.25;o.den===8&&(d=d/2);for(var h=d/2,m=h*s,p=0;p<i.length;p++)for(var g=i[p],y=0;y<g.length;y++){var S=g[y];if((S.start-c)%h==0&&(S.start-c)%d!=0&&(y==0||g[y-1].start<=g[y].start-h)&&(y==g.length-1||g[y+1].start>=g[y].start+h)){var x=S.start;S.start+=m,S.volume*=1+u,y>0&&g[y-1].end==x&&(g[y-1].end=S.start,g[y-1].volume*=1-u)}}}}}var A3=EW,CW=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,n){e.tracks[t].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[t]=n},e.appendNote=function(t,n,i,s,o){var c={cmd:"note",duration:i,gap:0,instrument:e.currentInstrument[t],pitch:n,start:e.starts[t],volume:s};o&&(c.cents=o),e.tracks[t].push(c),e.starts[t]+=i,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}},b9=CW,TW=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,NW=TW,_W=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,kW=_W,DW=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,AW=DW,OW=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,RW=OW,MW=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,IW=MW,LW=vv,S9=pv,ff=Gl,UW=NW,PW=kW,BW=AW,FW=RW,jW=IW;function zW(e,t){var n=this;if(typeof e=="string"){var i=e;if(e=document.querySelector(i),!e)throw new Error('Cannot find element "'+i+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(n.parent=e,n.options={},t&&(n.options=Object.assign({},t)),n.options.ac&&S9(n.options.ac),VW(n.parent,n.options),HW(n),n.disable=function(o){var c=n.parent.querySelector(".abcjs-inline-audio");o?c.classList.add("abcjs-disabled"):c.classList.remove("abcjs-disabled")},n.setWarp=function(o,c){var u=n.parent.querySelector(".abcjs-midi-tempo");u.value=Math.round(c),n.setTempo(o)},n.setTempo=function(o){var c=n.parent.querySelector(".abcjs-midi-current-tempo");c&&(c.innerHTML=Math.round(o))},n.resetAll=function(){for(var o=n.parent.querySelectorAll(".abcjs-pushed"),c=0;c<o.length;c++){var u=o[c];u.classList.remove("abcjs-pushed")}},n.pushPlay=function(o){var c=n.parent.querySelector(".abcjs-midi-start");c&&(o?c.classList.add("abcjs-pushed"):c.classList.remove("abcjs-pushed"))},n.pushLoop=function(o){var c=n.parent.querySelector(".abcjs-midi-loop");c&&(o?c.classList.add("abcjs-pushed"):c.classList.remove("abcjs-pushed"))},n.setProgress=function(o,c){var u=n.parent.querySelector(".abcjs-midi-progress-background"),d=n.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!u||!d)){var h=u.clientWidth,m=h*o;d.style.left=m+"px";var p=n.parent.querySelector(".abcjs-midi-clock");if(p){var g=c*o/1e3,y=Math.floor(g/60),S=Math.floor(g%60),x=S<10?"0"+S:S;p.innerHTML=y+":"+x}}},n.options.afterResume){var s=!1;n.options.ac?s=n.options.ac.state!=="suspended":ff()&&(s=ff().state!=="suspended"),s&&n.options.afterResume()}}function VW(e,t){var n=!!t.loopHandler,i=!!t.restartHandler,s=!!t.playHandler||!!t.playPromiseHandler,o=!!t.progressHandler,c=!!t.warpHandler,u=t.hasClock!==!1,d=`<div class="abcjs-inline-audio">
`;if(n){var h=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.",m=t.repeatAria?t.repeatAria:h;d+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+h+'" aria-label="'+m+'">'+UW+`</button>
`}if(i){var p=t.restartTitle?t.restartTitle:"Click to go to beginning.",g=t.restartAria?t.restartAria:p;d+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+p+'" aria-label="'+g+'">'+jW+`</button>
`}if(s){var y=t.playTitle?t.playTitle:"Click to play/pause.",S=t.playAria?t.playAria:y;d+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+y+'" aria-label="'+S+'">'+PW+BW+FW+`</button>
`}if(o){var x=t.randomTitle?t.randomTitle:"Click to change the playback position.",E=t.randomAria?t.randomAria:x;d+='<button type="button" class="abcjs-midi-progress-background" title="'+x+'" aria-label="'+E+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(u&&(d+=`<span class="abcjs-midi-clock"></span>
`),c){var _=t.warpTitle?t.warpTitle:"Change the playback speed.",T=t.warpAria?t.warpAria:_,O=t.bpm?t.bpm:"BPM";d+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+_+'" aria-label="'+T+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+O+`)</span></span>
`}d+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',d+=`</div>
`,e.innerHTML=d}function X0(e,t,n,i,s){var o=!0;if(ff()?o=ff().state==="suspended":S9(),!LW())throw{status:"NotSupported",message:"This browser does not support audio."};(o||s)&&n&&n.classList.add("abcjs-loading"),o?ff().resume().then(function(){i?i().then(function(c){eb(e,t,n,s)}):eb(e,t,n,s)}):eb(e,t,n,s)}function eb(e,t,n,i){i?e(t).then(function(){n&&n.classList.remove("abcjs-loading")}):(e(t),n&&n.classList.remove("abcjs-loading"))}function HW(e){var t=!!e.options.loopHandler,n=!!e.options.restartHandler,i=!!e.options.playHandler||!!e.options.playPromiseHandler,s=!!e.options.progressHandler,o=!!e.options.warpHandler,c=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(u){X0(e.options.loopHandler,u,c,e.options.afterResume)}),n&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(u){X0(e.options.restartHandler,u,c,e.options.afterResume)}),i&&c.addEventListener("click",function(u){X0(e.options.playPromiseHandler||e.options.playHandler,u,c,e.options.afterResume,!!e.options.playPromiseHandler)}),s&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(u){X0(e.options.progressHandler,u,c,e.options.afterResume)}),o&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(u){X0(e.options.warpHandler,u,c,e.options.afterResume)})}var w9=zW,$W=b9,GW=A3,KW=Gl;function YW(e,t,n,i,s){for(var o=new $W,c=0;c<e.length;c++){var u=e[c],d=o.addTrack();if(o.setInstrument(d,u.instrument),c===0&&t)for(var h=0;h<t.length;h++){var m=t[h];o.appendNote(d,m.pitch,1/64,m.volume,m.cents)}o.appendNote(d,u.pitch,u.duration,u.volume,u.cents)}var p=KW();return p.state==="suspended"?p.resume().then(function(){return dE(o,n,i,s)}):dE(o,n,i,s)}function dE(e,t,n,i){var s=new GW;return s.init({sequence:e,millisecondsPerMeasure:t,options:{soundFontUrl:n},debugCallback:i}).then(function(){return s.prime()}).then(function(){return s.start(),Promise.resolve()})}var qW=YW,WW=w9,XW=A3,QW=s3,hE=Gl;function JW(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(n,i,s){s||(s={}),s.displayPlay===void 0&&(s.displayPlay=!0),s.displayProgress===void 0&&(s.displayProgress=!0),e.control=new WW(n,{loopHandler:s.displayLoop?e.toggleLoop:void 0,restartHandler:s.displayRestart?e.restart:void 0,playPromiseHandler:s.displayPlay?e.play:void 0,progressHandler:s.displayProgress?e.randomAccess:void 0,warpHandler:s.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=i,e.disable(!0)},e.disable=function(n){e.control&&e.control.disable(n)},e.setTune=function(n,i,s){return e.visualObj=n,e.disable(!1),e.options=s||{},e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,i?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var n=e.visualObj.millisecondsPerMeasure()*100/e.warp;e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/n*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0;var i;return e.midiBuffer||(e.midiBuffer=new XW),hE().resume().then(function(s){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:n})}).then(function(s){return i=s,e.midiBuffer.prime()}).then(function(){var s=16;return e.cursorControl&&e.cursorControl.beatSubdivisions!==void 0&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(s=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new QW(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:s}),e.cursorControl&&e.cursorControl.onReady&&typeof e.cursorControl.onReady=="function"&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:i})})},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)};function t(n){return new Promise(function(i){setTimeout(i,n)})}e.runWhenReady=function(n,i){return e.visualObj?e.isLoading?t(500).then(function(){return e.isLoading?e.runWhenReady(n,i):n(i)}):e.isLoaded?n(i):e.go().then(function(){return n(i)}):Promise.resolve({status:"loading"})},e._play=function(){return hE().resume().then(function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&typeof e.cursorControl.onStart=="function"&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})})},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(n){return e.runWhenReady(e._randomAccess,n)},e._randomAccess=function(n){var i=n.target.classList.contains("abcjs-midi-progress-indicator")?n.target.parentNode:n.target,s=(n.x-i.getBoundingClientRect().left)/i.offsetWidth;return s<0&&(s=0),s>1&&(s=1),e.seek(s),Promise.resolve({status:"ok"})},e.seek=function(n,i){e.timer&&e.midiBuffer&&(e.timer.setProgress(n,i),e.midiBuffer.seek(n,i))},e.setWarp=function(n){if(parseInt(n,10)>0){e.warp=parseInt(n,10);var i=e.isStarted,s=e.percent;return e.destroy(),e.isStarted=!1,e.go().then(function(){return e.setProgress(s,e.midiBuffer.duration*1e3),e.control&&e.control.setWarp(e.currentTempo,e.warp),i?e.play().then(function(){return e.seek(s),Promise.resolve()}):(e.seek(s),Promise.resolve())})}return Promise.resolve()},e.onWarp=function(n){var i=n.target.value;return e.setWarp(i)},e.setProgress=function(n,i){e.percent=n,e.control&&e.control.setProgress(n,i)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&typeof e.cursorControl.onFinished=="function"&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(n,i,s,o){var c=n/i;e.setProgress(c,s),e.cursorControl&&e.cursorControl.onBeat&&typeof e.cursorControl.onBeat=="function"&&e.cursorControl.onBeat(n,i,s,o)},e.eventCallback=function(n){if(n)e.cursorControl&&e.cursorControl.onEvent&&typeof e.cursorControl.onEvent=="function"&&e.cursorControl.onEvent(n);else return e.finished()},e.lineEndCallback=function(n,i){e.cursorControl&&e.cursorControl.onLineEnd&&typeof e.cursorControl.onLineEnd=="function"&&e.cursorControl.onLineEnd(n,i)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(n){var i=e.getUrl(),s=document.createElement("a");document.body.appendChild(s),s.setAttribute("style","display: none;"),s.href=i,s.download=n||"output.wav",s.click(),window.URL.revokeObjectURL(i),document.body.removeChild(s)}}var x9=JW,ZW=y9,E9;(function(){function e(m,p){for(var g in p)p.hasOwnProperty(g)&&m.setAttribute(g,p[g]);return m}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}t.prototype.setTempo=function(m){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+u(Math.round(6e7/m),6),this.endTrack())},t.prototype.setGlobalInfo=function(m,p,g,y){if(this.trackcount===0){this.startTrack();var S=Math.round(6e7/m);this.track+="%00%FF%51%03"+u(S,6),g&&(this.track+=s(g)),y&&(this.track+=o(y)),p&&(this.track+=i(p,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var m=u(this.track.length/3+4,8);this.track="MTrk"+m+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(m,p){switch(m){case"name":this.trackName=i(p,"%03");break}},t.prototype.setInstrument=function(m){this.trackInstrument="%00%C0"+u(m,2),this.instrument=m},t.prototype.setChannel=function(m,p){this.channel=m;var g="%00%B"+this.channel.toString(16);this.track+=g+"%79%00",this.track+=g+"%40%00",this.track+=g+"%5B%30",p||(p=0),p=Math.round((p+1)*64),this.track+=g+"%0A"+u(p,2),this.track+=g+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var n=4096;t.prototype.startNote=function(m,p,g){if(this.track+=h(this.silencelength),this.silencelength=0,g){this.track+="%e"+this.channel.toString(16);var y=Math.round(ZW(g)*n);this.track+=d(8192+y),this.track+=h(0),this.noteWarped[m]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+m.toString(16)+u(p,2)},t.prototype.endNote=function(m){this.track+=h(this.silencelength),this.silencelength=0,this.noteWarped[m]&&(this.track+="%e"+this.channel.toString(16),this.track+=d(8192),this.track+=h(0),this.noteWarped[m]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+m.toString(16)+"%00"},t.prototype.addRest=function(m){this.silencelength+=m,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+u(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(m,p){var g=this.getData(),y=e(document.createElement("a"),{href:g});if(y.innerHTML="download midi",m.insertBefore(y,m.firstChild),!p){var S=e(document.createElement("embed"),{src:g,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});m.insertBefore(S,m.firstChild)}};function i(m,p){for(var g="",y=0;y<m.length;y++)g+=u(m.charCodeAt(y),2);return"%00%FF"+p+u(g.length/3,2)+g}function s(m){if(!m||!m.accidentals)return"";for(var p="%00%FF%59%02",g=0,y=256,S=0;S<m.accidentals.length;S++)m.accidentals[S].acc==="sharp"?g++:m.accidentals[S].acc==="flat"&&y--;var x=u(y!==256?y:g,2),E=m.mode==="m"?"%01":"%00";return p+x+E}function o(m){var p="%00%FF%58%04"+u(m.num,2),g={1:0,2:1,4:2,8:3,16:4,32:5},y=g[m.den];if(!y)return"";p+=u(y,2);var S;switch(m.num+"/"+m.den){case"2/4":case"3/4":case"4/4":case"5/4":S=24;break;case"6/4":S=72;break;case"2/2":case"3/2":case"4/2":S=48;break;case"3/8":case"6/8":case"9/8":case"12/8":S=36;break}return S?(p+=u(S,2),p+"%08"):""}function c(m){for(var p="",g=0;g<m.length;g+=2)p+="%",p+=m.substr(g,2);return p}function u(m,p){var g=m.toString(16);for(g=g.split(".")[0];g.length<p;)g="0"+g;return g.length>p&&(g=g.substring(0,p)),c(g)}function d(m){m=Math.round(m);var p=m%128,g=m-p;return u(g*2+p,4)}function h(m){var p=0,g=[];for(m=Math.round(m);m!==0;)g.push(m&127),m=m>>7;for(var y=g.length-1;y>=0;y--){p=p<<8;var S=g[y];y!==0&&(S=S|128),p=p|S}var x=p.toString(16).length;return x+=x%2,u(p,x)}E9=function(){return new t}})();var C9=E9,eX=C9,T9;(function(){var e=1920;T9=function(i,s){s===void 0&&(s={});var o=i.setUpAudio(s),c=eX(),u=i.metaText?i.metaText.title:void 0;u&&u.length>128&&(u=u.substring(0,124)+"...");var d=i.getKeySignature(),h=i.getMeterFraction(),m=o.tempo,p=m/60;if(h.den===8&&h.num!==5&&h.num!==7){var g=i.millisecondsPerMeasure();m=6e4/(g/h.num)/2,p=m/60}c.setGlobalInfo(m,u,d,h);for(var y=0;y<o.tracks.length;y++){c.startTrack();for(var S={},x=0;x<o.tracks[y].length;x++){var E=o.tracks[y][x];switch(E.cmd){case"text":c.setText(E.type,E.text);break;case"program":var _=0;s.pan&&s.pan.length>y&&(_=s.pan[y]),E.instrument===128?(c.setChannel(9,_),c.setInstrument(0)):(c.setChannel(E.channel,_),c.setInstrument(E.instrument));break;case"note":var T=E.gap*p,O=E.start,N=O+E.duration-T;S[O]||(S[O]=[]),S[O].push({pitch:E.pitch,volume:E.volume,cents:E.cents}),S[N]||(S[N]=[]),S[N].push({pitch:E.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+E.cmd)}}t(c,S,e),c.endTrack()}return c.getData()};function t(n,i,s){for(var o=Object.keys(i),c=0;c<o.length;c++)o[c]=parseFloat(o[c]);o.sort(function(y,S){return y-S});for(var u=0,d=0;d<o.length;d++){var h=i[o[d]];if(o[d]>u){var m=(o[d]-u)*s;n.addRest(m),u=o[d]}for(var p=0;p<h.length;p++){var g=h[p];g.volume?n.startNote(g.pitch,g.volume,g.cents):n.endNote(g.pitch)}}}})();var tX=T9,nX=uv,rX=tX,aX=function(e,t){var n={};if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.generateInline=!1;function s(o,c,u){var d=rX(c,n);switch(n.midiOutputType){case"encoded":return d;case"binary":var h=d.replace("data:audio/midi,","");h=h.replace(/MThd/g,"%4d%54%68%64"),h=h.replace(/MTrk/g,"%4d%54%72%6b");for(var m=new ArrayBuffer(h.length/3),p=new Uint8Array(m),g=0;g<h.length/3;g++){var y=g*3+1,S=parseInt(h.substring(y,y+2),16);p[g]=S}return p;case"link":default:return sX(c,n,d,u)}}return typeof e=="string"?nX.renderEngine(s,"*",e,n):s(null,e,0)};function iX(e){var t={};return e&&t.toString.call(e)==="[object Function]"}var sX=function(e,t,n,i){var s=["abcjs-download-midi","abcjs-midi-"+i];t.downloadClass&&s.push(t.downloadClass);var o='<div class="'+s.join(" ")+'">';t.preTextDownload&&(o+=t.preTextDownload);var c=e.metaText&&e.metaText.title?e.metaText.title:"Untitled",u;t.downloadLabel&&iX(t.downloadLabel)?u=t.downloadLabel(e,i):t.downloadLabel?u=t.downloadLabel.replace(/%T/,c):u='Download MIDI for "'+c+'"',c=c.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var d=t.fileName?t.fileName:c+".midi";return o+='<a download="'+d+'" href="'+n+'">'+u+"</a>",t.postTextDownload&&(o+=t.postTextDownload),o+"</div>"},oX=aX;try{if(typeof window.CustomEvent!="function"){var pE=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};pE.prototype=window.Event.prototype,window.CustomEvent=pE}}catch{}var to=function(e){this.isEditArea=!0,typeof e=="string"?(this.textarea=document.getElementById(e),this.textarea||(this.textarea=document.querySelector(e))):this.textarea=e,this.initialText=this.textarea.value,this.isDragging=!1};to.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}};to.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}};to.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};to.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var n=this.textarea.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}this.textarea.focus()};to.prototype.getString=function(){return this.textarea.value};to.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};to.prototype.getElem=function(){return this.textarea};var N9=to,_9=Ni,cX=x9,lX=vv,uX=g9,vE=N9;function fX(e){var t={},n;if(e.abcjsParams)for(n in e.abcjsParams)e.abcjsParams.hasOwnProperty(n)&&(t[n]=e.abcjsParams[n]);if(e.midi_options)for(n in e.midi_options)e.midi_options.hasOwnProperty(n)&&(t[n]=e.midi_options[n]);if(e.parser_options)for(n in e.parser_options)e.parser_options.hasOwnProperty(n)&&(t[n]=e.parser_options[n]);if(e.render_options)for(n in e.render_options)e.render_options.hasOwnProperty(n)&&(t[n]=e.render_options[n]);return t.tablature&&e.warnings_id&&(t.tablature.warnings_id=e.warnings_id),t}var rr=function(e,t){this.abcjsParams=fX(t),t.indicate_changed&&(this.indicate_changed=!0),typeof e=="string"?this.editarea=new vE(e):e.isEditArea?this.editarea=e:this.editarea=new vE(e),this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&lX()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&(typeof t.midi_download_id=="string"?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof t.midi_id=="string"?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?typeof t.warnings_id=="string"?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.redrawCallback=t.redrawCallback,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(n,i){var s=function(o,c){var u=o.className;return u.length>0&&(u===c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(u))};return s(n,i)||(n.className+=(n.className?" ":"")+i),n},this.removeClassName=function(n,i){return n.className=_9.strip(n.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," ")),n},this.setReadOnly=function(n){var i="abc_textarea_readonly",s=this.editarea.getElem();n?(s.setAttribute("readonly","yes"),this.addClassName(s,i)):(s.removeAttribute("readonly"),this.removeClassName(s,i))}};rr.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new cX,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}};rr.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.redrawCallback&&this.redrawCallback(!0),this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=uX(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi(),this.redrawCallback&&this.redrawCallback(!1)}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};rr.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()};rr.prototype.getTunes=function(){return this.tunes};rr.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}};rr.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)};rr.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)};rr.prototype.fireSelectionChanged=function(){this.updateSelection()};rr.prototype.setDirtyStyle=function(e){if(this.indicate_changed!==void 0){var t=function(o,c){var u=function(d,h){var m=d.className;return m.length>0&&(m===h||new RegExp("(^|\\s)"+h+"(\\s|$)").test(m))};return u(o,c)||(o.className+=(o.className?" ":"")+c),o},n=function(o,c){return o.className=_9.strip(o.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," ")),o},i="abc_textarea_dirty",s=this.editarea.getElem();e?t(s,i):n(s,i)}};rr.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.modelChanged()},300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}};rr.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};rr.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};rr.prototype.highlight=function(e,t,n,i,s,o){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,n,i,s,o)};rr.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()};rr.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};rr.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()};var dX=rr,hX=gj,mE=wj,gE=uv,pX=xT,vX=SH,Ca={};Ca.signature="abcjs-basic v"+hX;Object.keys(mE).forEach(function(e){Ca[e]=mE[e]});Object.keys(gE).forEach(function(e){Ca[e]=gE[e]});Ca.renderAbc=g9;Ca.tuneMetrics=Yq;Ca.TimingCallbacks=s3;var mX=Zs;Ca.setGlyph=mX.setSymbol;Ca.strTranspose=vX;var gX=A3,yX=k3,bX=D3,SX=b9,wX=w9,xX=pv,EX=Gl,CX=vv,TX=qW,NX=x9,_X=oX,kX=C9;Ca.synth={CreateSynth:gX,instrumentIndexToName:yX,pitchToNoteName:bX,SynthController:NX,SynthSequence:SX,CreateSynthControl:wX,registerAudioContext:xX,activeAudioContext:EX,supportsAudio:CX,playEvent:TX,getMidiFile:_X,sequence:pX,midiRenderer:kX};Ca.Editor=dX;Ca.EditArea=N9;var DX=Ca;const Q0=Hb(DX);function AX(e,t={}){const{title:n="Untitled",artist:i="Unknown Artist"}=t;let s=`X:1
`;s+=`T:${n}
`,i&&(s+=`C:${i}
`),s+=`M:4/4
`,s+=`L:1/4
`,s+=`K:${e.key}${e.mode==="minor"?"m":""}
`,s+=`%%staves {1}
`;const o=e.chords;let c="|";for(let u=0;u<o.length;u++)c+=`"${o[u].name}"z4`,(u+1)%4===0?(s+=c+`|
`,c="|"):c+="|";if(c!=="|"){const u=4-o.length%4;for(let d=0;d<u;d++)c+="z4|";s+=c+`
`}return s}function OX(e){const t=[];t.push(`Key: ${e.key} ${e.mode}`),t.push("");let n=[];for(const i of e.chords)n.push(i.name),n.length>=4&&(t.push(n.join(" - ")),n=[]);return n.length>0&&t.push(n.join(" - ")),t.join(`
`)}function RX({chordData:e,title:t,artist:n,showPlayback:i=!0}){const s=Kt.useRef(null),o=Kt.useRef(null),[c,u]=Kt.useState(""),d=Kt.useRef(null);Kt.useEffect(()=>{if(!(!e||!e.chords||e.chords.length===0)){try{const p=AX(e,{title:t,artist:n});if(u(p),s.current&&Q0.renderAbc(s.current,p,{responsive:"resize",staffwidth:600,scale:1,add_classes:!0}),i&&o.current){d.current=new Q0.synth.SynthController,d.current.load("#audio-controls",null,{displayLoop:!0,displayRestart:!0,displayPlay:!0,displayProgress:!0,displayWarp:!0});const g=Q0.renderAbc("*",p)[0];d.current.setTune(g,!1,{program:0,chordsOff:!1}).then(()=>{console.log("Audio loaded successfully")}).catch(y=>{console.error("Error loading audio:",y)})}}catch(p){console.error("Error rendering sheet music:",p)}return()=>{d.current&&d.current.pause()}}},[e,t,n,i]);const h=()=>{const p=new Blob([c],{type:"text/plain"}),g=URL.createObjectURL(p),y=document.createElement("a");y.href=g,y.download=`${t.replace(/[^a-z0-9]/gi,"_")}.abc`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g)},m=()=>{if(d.current)try{const p=Q0.renderAbc("*",c)[0],g=Q0.synth.getMidiFile(p,{chordsOff:!1,program:0}),y=new Blob([g],{type:"audio/midi"}),S=URL.createObjectURL(y),x=document.createElement("a");x.href=S,x.download=`${t.replace(/[^a-z0-9]/gi,"_")}.mid`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(S)}catch(p){console.error("Error generating MIDI:",p)}};return!e||!e.chords||e.chords.length===0?B.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:B.jsxDEV("p",{children:"No chord data available"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:129,columnNumber:9},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:128,columnNumber:7},this):B.jsxDEV("div",{className:"space-y-6",children:[B.jsxDEV("div",{className:"flex items-center justify-between",children:[B.jsxDEV("div",{children:[B.jsxDEV("h3",{className:"text-xl font-bold text-gray-900",children:t},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:139,columnNumber:11},this),n&&B.jsxDEV("p",{className:"text-sm text-gray-600",children:n},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:140,columnNumber:22},this),B.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:["Key: ",e.key," ",e.mode,"  ",e.chords.length," chords"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:138,columnNumber:9},this),B.jsxDEV("div",{className:"flex gap-2",children:[B.jsxDEV("button",{onClick:h,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Download ABC notation",children:" ABC"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:147,columnNumber:11},this),B.jsxDEV("button",{onClick:m,className:"px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Download MIDI file",children:" MIDI"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:146,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:137,columnNumber:7},this),B.jsxDEV("div",{className:"bg-white rounded-xl border border-gray-200 p-6 overflow-x-auto",children:B.jsxDEV("div",{ref:s,className:"min-h-[200px]"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:166,columnNumber:9},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:165,columnNumber:7},this),i&&B.jsxDEV("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200 p-4",children:B.jsxDEV("div",{className:"flex items-center gap-4",children:[B.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:" Playback:"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:173,columnNumber:13},this),B.jsxDEV("div",{id:"audio-controls",ref:o,className:"flex-1"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:172,columnNumber:11},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:171,columnNumber:9},this),B.jsxDEV("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-4",children:[B.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Chord Progression"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:181,columnNumber:9},this),B.jsxDEV("pre",{className:"text-sm text-gray-700 font-mono whitespace-pre-wrap",children:e.chordProgressionText||OX(e)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:180,columnNumber:7},this),B.jsxDEV("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[B.jsxDEV("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Chord Timeline"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:189,columnNumber:9},this),B.jsxDEV("div",{className:"space-y-2",children:e.chords.map((p,g)=>B.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[B.jsxDEV("div",{className:"flex items-center gap-4",children:[B.jsxDEV("span",{className:"text-xs text-gray-500 font-mono w-16",children:[Math.floor(p.timestamp/60),":",String(Math.floor(p.timestamp%60)).padStart(2,"0")]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:197,columnNumber:17},this),B.jsxDEV("span",{className:"text-lg font-bold text-secondary",children:p.name},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:200,columnNumber:17},this),B.jsxDEV("span",{className:"text-xs text-gray-500",children:[p.duration.toFixed(1),"s"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:201,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:196,columnNumber:15},this),B.jsxDEV("div",{className:"flex items-center gap-2",children:[B.jsxDEV("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:B.jsxDEV("div",{className:"bg-secondary h-2 rounded-full",style:{width:`${p.confidence*100}%`}},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:207,columnNumber:19},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:206,columnNumber:17},this),B.jsxDEV("span",{className:"text-xs text-gray-500 w-12 text-right",children:[(p.confidence*100).toFixed(0),"%"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:205,columnNumber:15},this)]},g,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:192,columnNumber:13},this))},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:190,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:188,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicViewer.tsx",lineNumber:135,columnNumber:5},this)}function MX({isOpen:e,onClose:t,chordData:n,title:i,artist:s}){return Kt.useEffect(()=>{const o=c=>{c.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),e?B.jsxDEV("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[B.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:41,columnNumber:7},this),B.jsxDEV("div",{className:"flex min-h-full items-center justify-center p-4",children:B.jsxDEV("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[B.jsxDEV("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors","aria-label":"Close",children:B.jsxDEV("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:61,columnNumber:15},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:55,columnNumber:13},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:50,columnNumber:11},this),B.jsxDEV("div",{className:"p-8",children:B.jsxDEV(RX,{chordData:n,title:i,artist:s,showPlayback:!0},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:72,columnNumber:13},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:47,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/SheetMusicModal.tsx",lineNumber:39,columnNumber:5},this):null}const IX=e=>new TextEncoder().encode(e),Hs=64,LX=16,UX=[1732584193,4023233417,2562383102,271733878];class PX{constructor(){this.reset()}update(t){if(BX(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const n=FX(t);let i=0,{byteLength:s}=n;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,n[i++]),s--,this.bufferLength===Hs&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:n,bufferLength:i,bytesHashed:s}=this,o=s*8;if(n.setUint8(this.bufferLength++,128),i%Hs>=Hs-8){for(let c=this.bufferLength;c<Hs;c++)n.setUint8(c,0);this.hashBuffer(),this.bufferLength=0}for(let c=this.bufferLength;c<Hs-8;c++)n.setUint8(c,0);n.setUint32(Hs-8,o>>>0,!0),n.setUint32(Hs-4,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(LX));for(let n=0;n<4;n++)t.setUint32(n*4,this.state[n],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:n}=this;let i=n[0],s=n[1],o=n[2],c=n[3];i=dr(i,s,o,c,t.getUint32(0,!0),7,3614090360),c=dr(c,i,s,o,t.getUint32(4,!0),12,3905402710),o=dr(o,c,i,s,t.getUint32(8,!0),17,606105819),s=dr(s,o,c,i,t.getUint32(12,!0),22,3250441966),i=dr(i,s,o,c,t.getUint32(16,!0),7,4118548399),c=dr(c,i,s,o,t.getUint32(20,!0),12,1200080426),o=dr(o,c,i,s,t.getUint32(24,!0),17,2821735955),s=dr(s,o,c,i,t.getUint32(28,!0),22,4249261313),i=dr(i,s,o,c,t.getUint32(32,!0),7,1770035416),c=dr(c,i,s,o,t.getUint32(36,!0),12,2336552879),o=dr(o,c,i,s,t.getUint32(40,!0),17,4294925233),s=dr(s,o,c,i,t.getUint32(44,!0),22,2304563134),i=dr(i,s,o,c,t.getUint32(48,!0),7,1804603682),c=dr(c,i,s,o,t.getUint32(52,!0),12,4254626195),o=dr(o,c,i,s,t.getUint32(56,!0),17,2792965006),s=dr(s,o,c,i,t.getUint32(60,!0),22,1236535329),i=hr(i,s,o,c,t.getUint32(4,!0),5,4129170786),c=hr(c,i,s,o,t.getUint32(24,!0),9,3225465664),o=hr(o,c,i,s,t.getUint32(44,!0),14,643717713),s=hr(s,o,c,i,t.getUint32(0,!0),20,3921069994),i=hr(i,s,o,c,t.getUint32(20,!0),5,3593408605),c=hr(c,i,s,o,t.getUint32(40,!0),9,38016083),o=hr(o,c,i,s,t.getUint32(60,!0),14,3634488961),s=hr(s,o,c,i,t.getUint32(16,!0),20,3889429448),i=hr(i,s,o,c,t.getUint32(36,!0),5,568446438),c=hr(c,i,s,o,t.getUint32(56,!0),9,3275163606),o=hr(o,c,i,s,t.getUint32(12,!0),14,4107603335),s=hr(s,o,c,i,t.getUint32(32,!0),20,1163531501),i=hr(i,s,o,c,t.getUint32(52,!0),5,2850285829),c=hr(c,i,s,o,t.getUint32(8,!0),9,4243563512),o=hr(o,c,i,s,t.getUint32(28,!0),14,1735328473),s=hr(s,o,c,i,t.getUint32(48,!0),20,2368359562),i=pr(i,s,o,c,t.getUint32(20,!0),4,4294588738),c=pr(c,i,s,o,t.getUint32(32,!0),11,2272392833),o=pr(o,c,i,s,t.getUint32(44,!0),16,1839030562),s=pr(s,o,c,i,t.getUint32(56,!0),23,4259657740),i=pr(i,s,o,c,t.getUint32(4,!0),4,2763975236),c=pr(c,i,s,o,t.getUint32(16,!0),11,1272893353),o=pr(o,c,i,s,t.getUint32(28,!0),16,4139469664),s=pr(s,o,c,i,t.getUint32(40,!0),23,3200236656),i=pr(i,s,o,c,t.getUint32(52,!0),4,681279174),c=pr(c,i,s,o,t.getUint32(0,!0),11,3936430074),o=pr(o,c,i,s,t.getUint32(12,!0),16,3572445317),s=pr(s,o,c,i,t.getUint32(24,!0),23,76029189),i=pr(i,s,o,c,t.getUint32(36,!0),4,3654602809),c=pr(c,i,s,o,t.getUint32(48,!0),11,3873151461),o=pr(o,c,i,s,t.getUint32(60,!0),16,530742520),s=pr(s,o,c,i,t.getUint32(8,!0),23,3299628645),i=vr(i,s,o,c,t.getUint32(0,!0),6,4096336452),c=vr(c,i,s,o,t.getUint32(28,!0),10,1126891415),o=vr(o,c,i,s,t.getUint32(56,!0),15,2878612391),s=vr(s,o,c,i,t.getUint32(20,!0),21,4237533241),i=vr(i,s,o,c,t.getUint32(48,!0),6,1700485571),c=vr(c,i,s,o,t.getUint32(12,!0),10,2399980690),o=vr(o,c,i,s,t.getUint32(40,!0),15,4293915773),s=vr(s,o,c,i,t.getUint32(4,!0),21,2240044497),i=vr(i,s,o,c,t.getUint32(32,!0),6,1873313359),c=vr(c,i,s,o,t.getUint32(60,!0),10,4264355552),o=vr(o,c,i,s,t.getUint32(24,!0),15,2734768916),s=vr(s,o,c,i,t.getUint32(52,!0),21,1309151649),i=vr(i,s,o,c,t.getUint32(16,!0),6,4149444226),c=vr(c,i,s,o,t.getUint32(44,!0),10,3174756917),o=vr(o,c,i,s,t.getUint32(8,!0),15,718787259),s=vr(s,o,c,i,t.getUint32(36,!0),21,3951481745),n[0]=i+n[0]&4294967295,n[1]=s+n[1]&4294967295,n[2]=o+n[2]&4294967295,n[3]=c+n[3]&4294967295}reset(){this.state=Uint32Array.from(UX),this.buffer=new DataView(new ArrayBuffer(Hs)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function mv(e,t,n,i,s,o){return t=(t+e&4294967295)+(i+o&4294967295)&4294967295,(t<<s|t>>>32-s)+n&4294967295}function dr(e,t,n,i,s,o,c){return mv(t&n|~t&i,e,t,s,o,c)}function hr(e,t,n,i,s,o,c){return mv(t&i|n&~i,e,t,s,o,c)}function pr(e,t,n,i,s,o,c){return mv(t^n^i,e,t,s,o,c)}function vr(e,t,n,i,s,o,c){return mv(n^(t|~i),e,t,s,o,c)}function BX(e){return typeof e=="string"?e.length===0:e.byteLength===0}function FX(e){return typeof e=="string"?IX(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const yE="Network Error",jX="ERR_NETWORK",bE="Request aborted",zX="ERR_ABORTED",VX="canceled",HX="ERR_CANCELED",SE="x-amz-content-sha256",$X=()=>e=>async function(n){if(n.headers[SE])return e(n);{const i=await _C(n.body);return n.headers[SE]=i,e(n)}};class Sa extends Fr{constructor(t){super(t),this.constructor=Sa,Object.setPrototypeOf(this,Sa.prototype)}}class Ml extends Sa{constructor(t={}){super({name:"CanceledError",message:"Upload is canceled by user",...t}),this.constructor=Ml,Object.setPrototypeOf(this,Ml.prototype)}}const GX=e=>!!e&&e instanceof Ml,gp=new Un("xhr-http-handler"),KX=(e,t)=>{const{url:n,method:i,headers:s,body:o}=e,{onDownloadProgress:c,onUploadProgress:u,responseType:d,abortSignal:h}=t;return new Promise((m,p)=>{let g=new XMLHttpRequest;if(g.open(i.toUpperCase(),n.toString()),Object.entries(s).filter(([y])=>!XX.includes(y)).forEach(([y,S])=>{g.setRequestHeader(y,S)}),g.responseType=d,c&&g.addEventListener("progress",y=>{c(wE(y)),gp.debug(y)}),u&&g.upload.addEventListener("progress",y=>{u(wE(y)),gp.debug(y)}),g.addEventListener("error",()=>{const y=new Sa({message:yE,name:jX});gp.error(yE),p(y),g=null}),g.addEventListener("abort",()=>{if(!g||h!=null&&h.aborted)return;const y=YX(bE,zX);gp.error(bE),p(y),g=null}),g.addEventListener("readystatechange",()=>{if(!g||g.readyState!==g.DONE)return;setTimeout(()=>{if(!g)return;const S=qX(g.getAllResponseHeaders()),{responseType:x}=g,E=g.response,_=x==="text"?g.responseText:"",T={blob:()=>Promise.resolve(E),text:Sp(()=>x==="blob"?WX(E):Promise.resolve(_)),json:()=>Promise.reject(new Error("Parsing response to JSON is not implemented. Please use response.text() instead."))},O={statusCode:g.status,headers:S,body:g.responseType==="blob"?Object.assign(E,T):T};m(O),g=null})}),h){const y=()=>{if(!g)return;const S=new Ml({name:HX,message:VX});p(S),g.abort(),g=null};h.aborted?y():h.addEventListener("abort",y)}if(typeof ReadableStream=="function"&&o instanceof ReadableStream)throw new Error("ReadableStream request payload is not supported.");g.send(o??null)})},wE=e=>({transferredBytes:e.lengthComputable?Math.min(e.loaded,e.total):e.loaded,totalBytes:e.lengthComputable?e.total:void 0}),YX=(e,t)=>{const n=new Error(e);return n.name=t,n},qX=e=>e?e.split(`\r
`).reduce((t,n)=>{const i=n.split(": "),s=i.shift(),o=i.join(": ");return t[s.toLowerCase()]=o,t},{}):{},WX=e=>{const t=new FileReader;return new Promise((n,i)=>{t.onloadend=()=>{t.readyState===FileReader.DONE&&n(t.result)},t.onerror=()=>{i(t.error)},t.readAsText(e)})},XX=["host"],sc=Ul(KX,[$X,ev,hC,Zp,pC,AC]);new Proxy({},{get(e,t){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${t}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}});var ut;(function(e){e.NoCredentials="NoCredentials",e.NoIdentityId="NoIdentityId",e.NoKey="NoKey",e.NoSourceKey="NoSourceKey",e.NoDestinationKey="NoDestinationKey",e.NoSourcePath="NoSourcePath",e.NoDestinationPath="NoDestinationPath",e.NoBucket="NoBucket",e.NoRegion="NoRegion",e.InvalidStorageBucket="InvalidStorageBucket",e.InvalidCopyOperationStorageBucket="InvalidCopyOperationStorageBucket",e.InvalidStorageOperationPrefixInput="InvalidStorageOperationPrefixInput",e.InvalidStorageOperationInput="InvalidStorageOperationInput",e.InvalidAWSAccountID="InvalidAWSAccountID",e.InvalidStoragePathInput="InvalidStoragePathInput",e.InvalidUploadSource="InvalidUploadSource",e.ObjectIsTooLarge="ObjectIsTooLarge",e.UrlExpirationMaxLimitExceed="UrlExpirationMaxLimitExceed",e.InvalidLocationCredentialsCacheSize="InvalidLocationCredentialsCacheSize",e.LocationCredentialsStoreDestroyed="LocationCredentialsStoreDestroyed",e.InvalidS3Uri="InvalidS3Uri",e.InvalidCustomEndpoint="InvalidCustomEndpoint",e.ForcePathStyleEndpointNotSupported="ForcePathStyleEndpointNotSupported",e.DnsIncompatibleBucketName="DnsIncompatibleBucketName"})(ut||(ut={}));const k9={[ut.NoCredentials]:{message:"Credentials should not be empty."},[ut.NoIdentityId]:{message:"Missing identity ID when accessing objects in protected or private access level."},[ut.NoKey]:{message:"Missing key in api call."},[ut.NoSourceKey]:{message:"Missing source key in copy api call."},[ut.NoDestinationKey]:{message:"Missing destination key in copy api call."},[ut.NoSourcePath]:{message:"Missing source path in copy api call."},[ut.NoDestinationPath]:{message:"Missing destination path in copy api call."},[ut.NoBucket]:{message:"Missing bucket name while accessing object."},[ut.NoRegion]:{message:"Missing region while accessing object."},[ut.UrlExpirationMaxLimitExceed]:{message:"Url Expiration can not be greater than 7 Days."},[ut.ObjectIsTooLarge]:{message:"Object size cannot not be greater than 5TB."},[ut.InvalidUploadSource]:{message:"Upload source type can only be a `Blob`, `File`, `ArrayBuffer`, or `string`."},[ut.InvalidStorageOperationInput]:{message:"Path or key parameter must be specified in the input. Both can not be specified at the same time."},[ut.InvalidAWSAccountID]:{message:"Invalid AWS account ID was provided."},[ut.InvalidStorageOperationPrefixInput]:{message:"Both path and prefix can not be specified at the same time."},[ut.InvalidStoragePathInput]:{message:"Input `path` does not allow a leading slash (/)."},[ut.InvalidLocationCredentialsCacheSize]:{message:"locationCredentialsCacheSize must be a positive integer."},[ut.LocationCredentialsStoreDestroyed]:{message:"Location-specific credentials store has been destroyed."},[ut.InvalidS3Uri]:{message:"Invalid S3 URI."},[ut.InvalidStorageBucket]:{message:"Unable to lookup bucket from provided name in Amplify configuration."},[ut.InvalidCopyOperationStorageBucket]:{message:"Missing bucket option in either source or destination."},[ut.InvalidCustomEndpoint]:{message:"Invalid S3 custom endpoint."},[ut.ForcePathStyleEndpointNotSupported]:{message:"Path style URLs are not supported with S3 Transfer Acceleration."},[ut.DnsIncompatibleBucketName]:{message:"The bucket name isn't DNS compatible."}};function _r(e,t){const{message:n,recoverySuggestion:i}=k9[t];if(!e)throw new Sa({name:t,message:n,recoverySuggestion:i})}const D9="http://localhost:20005",A9="guest",O9=1024*1024,QX=1024*O9,JX=1024*QX,Bb=5*O9,ZX=5*JX,eQ=1e4,tQ=4,Ef="__uploadInProgress",Cf="key",nQ="path",R9="crc-32",Ci=new Un("Storage"),rQ=({job:e,onCancel:t})=>{const n="IN_PROGRESS";let i;const s={cancel:c=>{const{state:u}=s;if(u==="CANCELED"||u==="ERROR"||u==="SUCCESS"){Ci.debug(`This task cannot be canceled. State: ${u}`);return}s.state="CANCELED",i=c,t(i)},state:n},o=(async()=>{try{const c=await e();return s.state="SUCCESS",c}catch(c){throw GX(c)&&(s.state="CANCELED",c.message=i??c.message),s.state="ERROR",c}})();return Object.assign(s,{result:o})},xE=({job:e,onCancel:t,onResume:n,onPause:i,isMultipartUpload:s})=>{const o=rQ({job:e,onCancel:t}),c=Object.assign(o,{pause:()=>{const{state:u}=c;if(!s||u!=="IN_PROGRESS"){Ci.debug(`This task cannot be paused. State: ${u}`);return}c.state="PAUSED",i==null||i()},resume:()=>{const{state:u}=c;if(!s||u!=="PAUSED"){Ci.debug(`This task cannot be resumed. State: ${u}`);return}c.state="IN_PROGRESS",n==null||n()}});return c},aQ=e=>{if(e==null)return 0;if(typeof e=="string")return new Blob([e]).size;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size};function EE(e){const t=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(t)}function M9(e){return EE(typeof e=="string"?new TextEncoder().encode(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}const I9=e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{t(i.result)},i.onabort=()=>{n(new Error("Read aborted"))},i.onerror=()=>{n(i.error)},i.readAsArrayBuffer(e)}),L9=async e=>{const t=new PX,n=e instanceof Blob?await I9(e):e;t.update(n);const i=await t.digest();return M9(i)},iQ=({accessLevel:e,targetIdentityId:t})=>e==="private"?(_r(!!t,ut.NoIdentityId),`private/${t}/`):e==="protected"?(_r(!!t,ut.NoIdentityId),`protected/${t}/`):"public/",sQ="InvalidStorageInput",U9=async(e,t)=>{var _,T,O,N;const{options:n}=t??{},{identityId:i}=await e.Auth.fetchAuthSession(),s=async D=>{CE(n)&&lQ(t);const{credentials:R}=CE(n)?await n.locationCredentialsProvider(D):await e.Auth.fetchAuthSession();return _r(!!R,ut.NoCredentials),R},{bucket:o,region:c,dangerouslyConnectToHttpEndpointForTesting:u,buckets:d}=((T=(_=e.getConfig())==null?void 0:_.Storage)==null?void 0:T.S3)??{},{bucket:h=o,region:m=c}=(n==null?void 0:n.bucket)&&hQ(n,d)||{};_r(!!h,ut.NoBucket),_r(!!m,ut.NoRegion);const{defaultAccessLevel:p,prefixResolver:g=iQ,isObjectLockEnabled:y}=((N=(O=e.libraryOptions)==null?void 0:O.Storage)==null?void 0:N.S3)??{},S=(n==null?void 0:n.accessLevel)??p??A9,x=S==="protected"?(n==null?void 0:n.targetIdentityId)??i:i,E=await g({accessLevel:S,targetIdentityId:x});return{s3Config:{credentials:s,region:m,useAccelerateEndpoint:n==null?void 0:n.useAccelerateEndpoint,...n!=null&&n.customEndpoint?{customEndpoint:n.customEndpoint}:{},...u?{customEndpoint:D9,forcePathStyle:!0}:{}},bucket:h,keyPrefix:E,identityId:i,isObjectLockEnabled:y}},CE=e=>!!(e!=null&&e.locationCredentialsProvider),oQ=e=>{var t,n,i,s;return(e==null?void 0:e.path)&&typeof e.path=="function"||((t=e==null?void 0:e.destination)==null?void 0:t.path)&&typeof((n=e.destination)==null?void 0:n.path)=="function"||((i=e==null?void 0:e.source)==null?void 0:i.path)&&typeof((s=e.source)==null?void 0:s.path)=="function"},cQ=e=>uQ(e)||fQ(e)||dQ(e),lQ=e=>{if(cQ(e)||oQ(e))throw new Sa({name:sQ,message:"The input needs to have a path as a string value.",recoverySuggestion:"Please provide a valid path as a string value for the input."})},uQ=e=>typeof e.key=="string",fQ=e=>typeof e.prefix=="string",dQ=e=>{var t,n;return typeof((t=e.source)==null?void 0:t.key)=="string"||typeof((n=e.destination)==null?void 0:n.key)=="string"},hQ=(e,t)=>{if(typeof e.bucket=="string"){const n=t==null?void 0:t[e.bucket];return _r(!!n,ut.InvalidStorageBucket),{bucket:n.bucketName,region:n.region}}if(typeof e.bucket=="object")return{bucket:e.bucket.bucketName,region:e.bucket.region}},pQ=/^\d{12}/,vQ=e=>{e!==void 0&&_r(pQ.test(e),ut.InvalidAWSAccountID)},mQ=e=>e.path!==void 0,gQ=e=>(_r(!!e,ut.NoIdentityId),e),P9=(e,t)=>{if(_r(!!e.key&&!e.path||!e.key&&!!e.path,ut.InvalidStorageOperationInput),mQ(e)){const{path:n}=e,i=typeof n=="string"?n:n({identityId:gQ(t)});return _r(!i.startsWith("/"),ut.InvalidStoragePathInput),{inputType:nQ,objectKey:i}}else return{inputType:Cf,objectKey:e.key}},B9={parse:e=>{const n=new DOMParser().parseFromString(e,"text/xml"),i=Fb(n),s=Object.keys(i)[0];return i[s]}},Fb=e=>{var t;if(bQ(e))return{[e.documentElement.nodeName]:Fb(e.documentElement)};if(e.nodeType===Node.TEXT_NODE)return(t=e.nodeValue)==null?void 0:t.trim();if(yQ(e)){if(SQ(e))return e.childNodes[0].nodeValue;const n={};for(const i of e.attributes)F9(i.nodeName)||(n[i.nodeName]=i.nodeValue);if(e.children.length>0)for(const i of e.children){const s=Fb(i);if(s===void 0)continue;const o=i.nodeName;n[o]===void 0?n[o]=s:Array.isArray(n[o])?n[o].push(s):n[o]=[n[o],s]}return Object.keys(n).length===0?"":n}},yQ=e=>e.nodeType===Node.ELEMENT_NODE,bQ=e=>e.nodeType===Node.DOCUMENT_NODE,SQ=e=>{var t;return wQ(e)&&e.children.length===0&&((t=e.firstChild)==null?void 0:t.nodeType)===Node.TEXT_NODE},wQ=e=>{for(const t of e.attributes)if(!F9(t.nodeName))return!1;return!0},F9=e=>e==="xmlns"||e.startsWith("xmlns:"),xQ=({noErrorWrapping:e=!1}={})=>async t=>{if(!t||t.statusCode<300)return;const{statusCode:n}=t,i=await Lf(t),s=e?i:i.Error,o=s!=null&&s.Code?s.Code:n===404?"NotFound":n.toString(),c=(s==null?void 0:s.message)??(s==null?void 0:s.Message)??o,u=new Error(c);return Object.assign(u,{name:o,$metadata:wa(t)})},Lf=async e=>{if(!e.body)throw new Error("S3 aborted request.");const t=await e.body.text();if((t==null?void 0:t.length)>0)try{return B9.parse(t)}catch(n){throw new Error(`Failed to parse XML response: ${n}`)}return{}},EQ=e=>async(t,n,i)=>{const o=await Jp(e)(t,n);if(!t)return{retryable:o.retryable};const c=await e(t),u=c==null?void 0:c.name,d=c==null?void 0:c.message,h=TQ(u,d);return{retryable:o.retryable||!!(h&&!(i!=null&&i.isCredentialsExpired)),isCredentialsExpiredError:h}},CQ=["RequestExpired","ExpiredTokenException","ExpiredToken"],TQ=(e,t)=>{const n=!!e&&CQ.includes(e),i=!!e&&!!t&&e.includes("Signature")&&t.includes("expired");return n||i},NQ=/^[a-z0-9][a-z0-9.-]{1,61}[a-z0-9]$/,_Q=/(\d+\.){3}\d+/,kQ=/\.\./,DQ="s3",AQ=(e,t)=>{const{region:n,useAccelerateEndpoint:i,customEndpoint:s,forcePathStyle:o}=e;let c;return s?(s===D9&&(c=new Cn(s)),_r(!s.includes("://"),ut.InvalidCustomEndpoint),c=new Cn(`https://${s}`)):i?(_r(!o,ut.ForcePathStyleEndpointNotSupported),c=new Cn(`https://s3-accelerate.${Pp(n)}`)):c=new Cn(`https://s3.${n}.${Pp(n)}`),t!=null&&t.Bucket&&(_r(OQ(t.Bucket),ut.DnsIncompatibleBucketName),o||t.Bucket.includes(".")?c.pathname=`/${t.Bucket}`:c.host=`${t.Bucket}.${c.host}`),{url:c}},OQ=e=>NQ.test(e)&&!_Q.test(e)&&!kQ.test(e),us=xQ({noErrorWrapping:!0}),j9=EQ(us),oc={service:DQ,endpointResolver:AQ,retryDecider:j9,computeDelay:Qp,get userAgentValue(){return rc()},useAccelerateEndpoint:!1,uriEscapePath:!1},no=(e,t)=>{const n={};for(const[i,s]of Object.entries(t)){const[o,c]=Array.isArray(s)?s:[s];Object.prototype.hasOwnProperty.call(e,o)&&(n[i]=c?c(e[o]):String(e[o]))}return n},z9=e=>e?Number(e):void 0,RQ=e=>e?new Date(e):void 0,V9=(e,t)=>{if(e==="")return[];const n=(Array.isArray(e)?e:[e]).filter(i=>i!=null);return t(n)},MQ=e=>{const t="x-amz-meta-",n=Object.keys(e).filter(i=>i.startsWith(t)).reduce((i,s)=>(i[s.replace(t,"")]=e[s],i),{});return Object.keys(n).length>0?n:void 0},ro=e=>new Sa({name:e.name,message:e.message,metadata:e.$metadata}),H9=e=>e.map(t=>no(t,{PartNumber:["PartNumber",z9],ETag:"ETag",ChecksumCRC32:"ChecksumCRC32"})),cc=e=>{const t={};for(const[n,i]of Object.entries(e))i!=null&&(t[n]=i.toString());return t},$9=async e=>{var t;return{...cc({"x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-language":e.ContentLanguage,"content-encoding":e.ContentEncoding,"content-type":e.ContentType,expires:(t=e.Expires)==null?void 0:t.toUTCString(),"x-amz-tagging":e.Tagging,...IQ(e.Metadata)})}},IQ=(e={})=>Object.keys(e).reduce((t,n)=>(t[`x-amz-meta-${n.toLowerCase()}`]=e[n],t),{}),lc=(e,t)=>e.pathname.replace(/\/$/,"")+`/${t.split("/").map(hb).join("/")}`;function ra(e,t){if(!e)throw new Sa({name:qs.Unknown,message:"An unknown error has occurred.",underlyingError:new TypeError(`Expected a non-null value for S3 parameter ${t}`),recoverySuggestion:"This is likely to be a bug. Please reach out to library authors."})}class Xs extends Sa{constructor(t){super({name:qs.Unknown,message:"An unknown error has occurred.",recoverySuggestion:"This may be a bug. Please reach out to library authors.",metadata:t==null?void 0:t.metadata}),this.constructor=Xs,Object.setPrototypeOf(this,Xs.prototype)}}function Kl({bucketName:e,key:t,objectURL:n}){if(!e||!t||!n)throw new Xs;const i=e.includes("."),s=hb(e),o=t.split("/").map(hb).join("/"),c=n.pathname===`/${s}/${o}`,u=n.hostname.startsWith(`${s}.`)&&n.pathname===`/${o}`;if(!(c||!i&&u))throw new Xs}const LQ=async(e,t)=>{const n={...await $9({...e,ContentType:e.ContentType??"application/octet-stream"}),...cc({"content-md5":e.ContentMD5,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"If-None-Match":e.IfNoneMatch})},i=new Cn(t.url.toString());return ra(!!e.Key,"Key"),i.pathname=lc(i,e.Key),i.search=new Qs({"x-id":"PutObject"}).toString(),Kl({bucketName:e.Bucket,key:e.Key,objectURL:i}),{method:"PUT",headers:n,url:i,body:e.Body}},UQ=async e=>{if(e.statusCode>=300)throw ro(await us(e));return{...no(e.headers,{ETag:"etag",VersionId:"x-amz-version-id"}),$metadata:wa(e)}},PQ=Ti(sc,LQ,UQ,{...oc,responseType:"text"}),BQ=async(e,t)=>{const n={...await $9(e),...cc({"x-amz-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-type":e.ChecksumType,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner})},i=new Cn(t.url.toString());return ra(!!e.Key,"Key"),i.pathname=lc(i,e.Key),i.search="uploads",Kl({bucketName:e.Bucket,key:e.Key,objectURL:i}),{method:"POST",headers:n,url:i}},FQ=async e=>{if(e.statusCode>=300)throw ro(await us(e));{const t=await Lf(e),n=no(t,{UploadId:"UploadId"});return{$metadata:wa(e),...n}}},jQ=Ti(sc,BQ,FQ,{...oc,responseType:"text"}),zQ=async(e,t)=>{const n={...cc({"x-amz-checksum-crc32":e.ChecksumCRC32,"content-md5":e.ContentMD5,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),"content-type":"application/octet-stream"},i=new Cn(t.url.toString());return ra(!!e.Key,"Key"),i.pathname=lc(i,e.Key),ra(!!e.PartNumber,"PartNumber"),ra(!!e.UploadId,"UploadId"),i.search=new Qs({partNumber:e.PartNumber+"",uploadId:e.UploadId}).toString(),Kl({bucketName:e.Bucket,key:e.Key,objectURL:i}),{method:"PUT",headers:n,url:i,body:e.Body}},VQ=async e=>{if(e.statusCode>=300)throw ro(await us(e));return{...no(e.headers,{ETag:"etag"}),$metadata:wa(e)}},HQ=Ti(sc,zQ,VQ,{...oc,responseType:"text"}),TE=e=>e!=null&&typeof e=="object"&&!Array.isArray(e),jb=(e,t)=>{if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((s,o)=>jb(s,t[o]));if(!TE(e)||!TE(t))return e===t;const n=Object.keys(e),i=Object.keys(t);return n.length!==i.length?!1:n.every(s=>i.includes(s)&&jb(e[s],t[s]))};function $Q(e,t){if(!e.Parts)throw new Xs;const n=B9.parse(t),i=no(n,{Parts:["Part",s=>V9(s,H9)]});if(!jb(e,i))throw new Xs}const G9="Invalid parameter for CompleteMultipartUpload API",GQ="ETag missing from multipart upload",KQ="Please ensure S3 bucket CORS configuration includes ETag as part of its `ExposeHeaders` element",YQ=async(e,t)=>{const n={"content-type":"application/xml",...cc({"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-type":e.ChecksumType,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"If-None-Match":e.IfNoneMatch})},i=new Cn(t.url.toString());ra(!!e.Key,"Key"),i.pathname=lc(i,e.Key),ra(!!e.UploadId,"UploadId"),i.search=new Qs({uploadId:e.UploadId}).toString(),ra(!!e.MultipartUpload,"MultipartUpload"),Kl({bucketName:e.Bucket,key:e.Key,objectURL:i});const s=qQ(e.MultipartUpload);return $Q(e.MultipartUpload,s),{method:"POST",headers:n,url:i,body:'<?xml version="1.0" encoding="UTF-8"?>'+s}},qQ=e=>{var t;if(!((t=e.Parts)!=null&&t.length))throw new Error(`${G9}: ${JSON.stringify(e)}`);return`<CompleteMultipartUpload xmlns="http://s3.amazonaws.com/doc/2006-03-01/">${e.Parts.map(WQ).join("")}</CompleteMultipartUpload>`},WQ=e=>{if(e.PartNumber==null)throw new Error(`${G9}: ${JSON.stringify(e)}`);if(!e.ETag)throw new Error(`${GQ}: ${JSON.stringify(e)}. ${KQ}`);const t=`<ETag>${e.ETag}</ETag>`,n=`<PartNumber>${e.PartNumber}</PartNumber>`,i=e.ChecksumCRC32?`<ChecksumCRC32>${e.ChecksumCRC32}</ChecksumCRC32>`:"";return`<Part>${t}${n}${i}</Part>`},XQ=async e=>{const t=await Lf(e);if(t.Code!==void 0&&t.Message!==void 0){const n=await us({...e,statusCode:500});throw n.$metadata.httpStatusCode=e.statusCode,ro(n)}return t},QQ=async e=>{if(e.statusCode>=300)throw ro(await us(e));{const t=await XQ(e),n=no(t,{ETag:"ETag",Key:"Key",Location:"Location"});return{$metadata:wa(e),...n}}},JQ=async(e,t,n)=>{if(!e)return{retryable:!1};if(e.statusCode===200){if(!e.body)return{retryable:!0};const i=await Lf(e);return i.Code!==void 0&&i.Message!==void 0?{retryable:!0}:{retryable:!1}}return j9(e,t,n)},ZQ=Ti(sc,YQ,QQ,{...oc,responseType:"text",retryDecider:JQ}),eJ=async(e,t)=>{const n={},i=new Cn(t.url.toString());return ra(!!e.Key,"Key"),i.pathname=lc(i,e.Key),ra(!!e.UploadId,"UploadId"),i.search=new Qs({"x-id":"ListParts",uploadId:e.UploadId}).toString(),{method:"GET",headers:n,url:i}},tJ=async e=>{if(e.statusCode>=300)throw ro(await us(e));{const t=await Lf(e),n=no(t,{UploadId:"UploadId",Parts:["Part",i=>V9(i,H9)]});return{$metadata:wa(e),...n}}},nJ=Ti(sc,eJ,tJ,{...oc,responseType:"text"}),rJ=(e,t)=>{const n=new Cn(t.url.toString());return ra(!!e.Key,"Key"),n.pathname=lc(n,e.Key),ra(!!e.UploadId,"UploadId"),n.search=new Qs({"x-id":"AbortMultipartUpload",uploadId:e.UploadId}).toString(),Kl({bucketName:e.Bucket,key:e.Key,objectURL:n}),{method:"DELETE",headers:{...cc({"x-amz-expected-bucket-owner":e.ExpectedBucketOwner})},url:n}},aJ=async e=>{if(e.statusCode>=300)throw ro(await us(e));return{$metadata:wa(e)}},iJ=Ti(sc,rJ,aJ,{...oc,responseType:"text"}),sJ=async(e,t)=>{const n=new Cn(t.url.toString());return ra(!!e.Key,"Key"),n.pathname=lc(n,e.Key),n.search=new Qs({"response-cache-control":"no-store"}).toString(),Kl({bucketName:e.Bucket,key:e.Key,objectURL:n}),{method:"HEAD",headers:cc({"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),url:n}},oJ=async e=>{if(e.statusCode>=300)throw ro(await us(e));{const t={...no(e.headers,{ContentLength:["content-length",z9],ContentType:"content-type",ETag:"etag",LastModified:["last-modified",RQ],VersionId:"x-amz-version-id"}),Metadata:MQ(e.headers)};return{$metadata:wa(e),...t}}},cJ=Ti(sc,sJ,oJ,{...oc,responseType:"text"});function K9(e){return rc({category:Lp.Storage,action:e})}var Y9={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(e){(function(t){t(typeof DO_NOT_EXPORT_CRC>"u"?e:{})})(function(t){t.version="1.2.2";function n(){for(var U=0,F=new Array(256),H=0;H!=256;++H)U=H,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,U=U&1?-306674912^U>>>1:U>>>1,F[H]=U;return typeof Int32Array<"u"?new Int32Array(F):F}var i=n();function s(U){var F=0,H=0,Y=0,$=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Y=0;Y!=256;++Y)$[Y]=U[Y];for(Y=0;Y!=256;++Y)for(H=U[Y],F=256+Y;F<4096;F+=256)H=$[F]=H>>>8^U[H&255];var G=[];for(Y=1;Y!=16;++Y)G[Y-1]=typeof Int32Array<"u"?$.subarray(Y*256,Y*256+256):$.slice(Y*256,Y*256+256);return G}var o=s(i),c=o[0],u=o[1],d=o[2],h=o[3],m=o[4],p=o[5],g=o[6],y=o[7],S=o[8],x=o[9],E=o[10],_=o[11],T=o[12],O=o[13],N=o[14];function D(U,F){for(var H=F^-1,Y=0,$=U.length;Y<$;)H=H>>>8^i[(H^U.charCodeAt(Y++))&255];return~H}function R(U,F){for(var H=F^-1,Y=U.length-15,$=0;$<Y;)H=N[U[$++]^H&255]^O[U[$++]^H>>8&255]^T[U[$++]^H>>16&255]^_[U[$++]^H>>>24]^E[U[$++]]^x[U[$++]]^S[U[$++]]^y[U[$++]]^g[U[$++]]^p[U[$++]]^m[U[$++]]^h[U[$++]]^d[U[$++]]^u[U[$++]]^c[U[$++]]^i[U[$++]];for(Y+=15;$<Y;)H=H>>>8^i[(H^U[$++])&255];return~H}function P(U,F){for(var H=F^-1,Y=0,$=U.length,G=0,ce=0;Y<$;)G=U.charCodeAt(Y++),G<128?H=H>>>8^i[(H^G)&255]:G<2048?(H=H>>>8^i[(H^(192|G>>6&31))&255],H=H>>>8^i[(H^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,ce=U.charCodeAt(Y++)&1023,H=H>>>8^i[(H^(240|G>>8&7))&255],H=H>>>8^i[(H^(128|G>>2&63))&255],H=H>>>8^i[(H^(128|ce>>6&15|(G&3)<<4))&255],H=H>>>8^i[(H^(128|ce&63))&255]):(H=H>>>8^i[(H^(224|G>>12&15))&255],H=H>>>8^i[(H^(128|G>>6&63))&255],H=H>>>8^i[(H^(128|G&63))&255]);return~H}t.table=i,t.bstr=D,t.buf=R,t.str=P})})(Y9);const NE=Hb(Y9),lJ=e=>new Uint8Array((e.match(/\w{2}/g)??[]).map(t=>parseInt(t,16))),uJ=e=>M9(lJ(e)),_E=1024*1024,gv=async(e,t=0)=>{let n=t;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let s;e instanceof ArrayBuffer?s=new Uint8Array(e):s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);let o=0;for(;o<s.length;){const c=Math.min(o+_E,s.length),u=s.slice(o,c);n=NE.buf(u,n)>>>0,o=c}}else{let s;e instanceof Blob?s=e:s=new Blob([e]);let o=0;for(;o<s.size;){const c=Math.min(o+_E,s.size),u=s.slice(o,c),d=await I9(u),h=new Uint8Array(d);n=NE.buf(h,n)>>>0,o=c}}const i=n.toString(16).padStart(8,"0");return uJ(i)},q9=e=>{if(!e)return;if(typeof e=="string")return e;const{type:t,filename:n}=e;return n!==void 0?`${t}; filename="${n}"`:t},fJ={aac:"audio/aac",mid:"audio/midi",midi:"audio/x-midi",mp3:"audio/mpeg",oga:"audio/ogg",opus:"audio/ogg",wav:"audio/wav",weba:"audio/webm",avi:"video/x-msvideo",mp4:"video/mp4",mpeg:"video/mpeg",ogv:"video/ogg",ts:"video/mp2t",webm:"video/webm",apng:"image/apng",avif:"image/avif",bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",css:"text/css",csv:"text/csv",htm:"text/html",html:"text/html",ics:"text/calendar",js:"text/javascript",md:"text/markdown",mjs:"text/javascript",txt:"text/plain",abw:"application/x-abiword",arc:"application/x-freearc",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",cda:"application/x-cdf",csh:"application/x-csh",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",jar:"application/java-archive",json:"application/json",jsonld:"application/ld+json",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogx:"application/ogg",pdf:"application/pdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",tar:"application/x-tar",vsd:"application/vnd.visio",webmanifest:"application/manifest+json",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip",otf:"font/otf",ttf:"font/ttf",woff:"font/woff",woff2:"font/woff2"},O3=(e,t)=>{var i;if(e instanceof File&&e.type)return e.type;const n=(i=t.split(".").pop())==null?void 0:i.toLowerCase();return n?fJ[n]:void 0},dJ=(e,t,n)=>async()=>{const{options:i,data:s}=e,{bucket:o,keyPrefix:c,s3Config:u,isObjectLockEnabled:d,identityId:h}=await U9(ta,e),{inputType:m,objectKey:p}=P9(e,h);vQ(i==null?void 0:i.expectedBucketOwner);const g=m===Cf?c+p:p,{contentDisposition:y,contentEncoding:S,contentType:x=(i==null?void 0:i.contentType)??O3(s,p)??"application/octet-stream",preventOverwrite:E,metadata:_,checksumAlgorithm:T,onProgress:O,expectedBucketOwner:N,cacheControl:D}=i??{},R=T===R9?await gv(s):void 0,P=!R&&d?await L9(s):void 0,{ETag:U,VersionId:F}=await PQ({...u,abortSignal:t,onUploadProgress:O,userAgentValue:K9(Up.UploadData)},{Bucket:o,Key:g,Body:s,ContentType:x,ContentDisposition:q9(y),ContentEncoding:S,CacheControl:D,Metadata:_,ContentMD5:P,ChecksumCRC32:R,ExpectedBucketOwner:N,IfNoneMatch:E?"*":void 0}),H={eTag:U,versionId:F,contentType:x,metadata:_,size:n};return m===Cf?{key:p,...H}:{path:p,...H}},hJ=async({dataChunkerGenerator:e,completedPartNumberSet:t,s3Config:n,abortSignal:i,bucket:s,finalKey:o,uploadId:c,onPartUploadCompletion:u,onProgress:d,isObjectLockEnabled:h,useCRC32Checksum:m,expectedBucketOwner:p})=>{let g=0;for(const{data:y,partNumber:S,size:x}of e){if(i.aborted){Ci.debug("upload executor aborted.");break}if(t.has(S))Ci.debug(`part ${S} already uploaded.`),g+=x,d==null||d({transferredBytes:g});else{let E;m&&(E=await gv(y));const _=!E&&h?await L9(y):void 0,{ETag:T}=await HQ({...n,abortSignal:i,onUploadProgress:O=>{const{transferredBytes:N}=O;d==null||d({transferredBytes:g+N})}},{Bucket:s,Key:o,UploadId:c,Body:y,PartNumber:S,ChecksumCRC32:E,ContentMD5:_,ExpectedBucketOwner:p});g+=x,u(S,T,E)}}},pJ=1e3*60*60,vJ=async({resumableUploadsCache:e,cacheKey:t,s3Config:n,bucket:i,finalKey:s})=>{const o=await R3(e),c=Object.fromEntries(Object.entries(o).filter(([d,h])=>h.lastTouched>=Date.now()-pJ));if(Object.keys(c).length!==Object.keys(o).length&&await e.setItem(Ef,JSON.stringify(c)),!c[t])return null;const u=c[t];u.lastTouched=Date.now(),await e.setItem(Ef,JSON.stringify(c));try{const{Parts:d=[]}=await nJ(n,{Bucket:i,Key:s,UploadId:u.uploadId});return{parts:d,uploadId:u.uploadId,finalCrc32:u.finalCrc32}}catch{return Ci.debug("failed to list cached parts, removing cached upload."),await Vb(e,t),null}},R3=async e=>{try{return JSON.parse(await e.getItem(Ef)??"{}")}catch{return Ci.debug("failed to parse cached uploads record."),{}}},mJ=(e={})=>{const t=["onProgress","resumableUploadsCache","locationCredentialsProvider"],n=Object.entries(e).filter(([s])=>!t.includes(s));e.checksumAlgorithm==="crc-32"&&n.push(["checksumType","FULL_OBJECT"]);const i=Object.fromEntries(n);return JSON.stringify(i)},zb=({file:e,size:t,contentType:n,bucket:i,accessLevel:s,key:o,optionsHash:c})=>{let u;const d=n??O3(e,o)??"application/octet-stream";s===void 0?u="custom":u=s==="guest"?"public":s;const h=`${c}_${t}_${d}_${i}_${u}_${o}`;return e?`${e.name}_${e.lastModified}_${h}`:h},gJ=async(e,t,n)=>{const i=await R3(e);i[t]={...n,lastTouched:Date.now()},await e.setItem(Ef,JSON.stringify(i))},Vb=async(e,t)=>{const n=await R3(e);delete n[t],await e.setItem(Ef,JSON.stringify(n))},yJ=({size:e,onProgress:t})=>{const n=[],i=()=>n.reduce((s,o)=>s+o,0);return{getOnProgressListener:()=>{n.push(0);const s=n.length-1;return o=>{const{transferredBytes:c}=o;n[s]=c,t==null||t({transferredBytes:i(),totalBytes:e})}}}},bJ=async({s3Config:e,data:t,size:n,contentType:i,bucket:s,accessLevel:o,keyPrefix:c,key:u,contentDisposition:d,contentEncoding:h,metadata:m,abortSignal:p,checksumAlgorithm:g,optionsHash:y,resumableUploadsCache:S,expectedBucketOwner:x})=>{const E=c!==void 0?c+u:u;let _;if(!S)Ci.debug("uploaded cache instance cannot be determined, skipping cache."),_=void 0;else{const T=zb({size:n,contentType:i,file:t instanceof File?t:void 0,bucket:s,accessLevel:o,key:u,optionsHash:y}),O=await vJ({s3Config:e,cacheKey:T,bucket:s,finalKey:E,resumableUploadsCache:S});_=O?{...O,uploadCacheKey:T}:void 0}if(_)return{uploadId:_.uploadId,cachedParts:_.parts,finalCrc32:_.finalCrc32};{const T=g===R9?await gv(t):void 0,{UploadId:O}=await jQ({...e,abortSignal:p},{Bucket:s,Key:E,ContentType:i,ContentDisposition:q9(d),ContentEncoding:h,Metadata:m,ChecksumAlgorithm:T?"CRC32":void 0,ChecksumType:T?"FULL_OBJECT":void 0,ExpectedBucketOwner:x});if(S){const N=zb({size:n,contentType:i,file:t instanceof File?t:void 0,bucket:s,accessLevel:o,key:u,optionsHash:y});await gJ(S,N,{uploadId:O,bucket:s,key:u,finalCrc32:T,fileName:t instanceof File?t.name:""})}return{uploadId:O,cachedParts:[],finalCrc32:T}}},W9=e=>{if(!e)return Bb;let t=Bb,n=Math.ceil(e/t);for(;n>eQ;)t*=2,n=Math.ceil(e/t);return t},X9=(e,t)=>{const n=W9(t);if(e instanceof Blob)return tb(e,0,e.size,n);if(ArrayBuffer.isView(e))return tb(e.buffer,e.byteOffset,e.byteLength,n);if(e instanceof ArrayBuffer)return tb(e,0,e.byteLength,n);if(typeof e=="string"){const i=new Blob([e]);return X9(i,i.size)}else throw new Sa({name:ut.InvalidUploadSource,...k9[ut.InvalidUploadSource]})},tb=function*(e,t,n,i){let s=1,o=t,c=t+Math.min(i,n);for(;c<n+t;)yield{partNumber:s,data:e.slice(o,c),size:i},s+=1,o=c,c=o+i;yield{partNumber:s,data:e.slice(o,n+t),size:n+t-o}},SJ=(e,t)=>{let n,i,s,o,c,u,d,h,m,p,g,y,S=!1;const{resumableUploadsCache:x}=e.options??{},E=async()=>{const{options:R,data:P}=e,U=await U9(ta,e);c=new AbortController,S=!1,o=U.s3Config,d=U.bucket,m=U.identityId,y=R==null?void 0:R.expectedBucketOwner;const{inputType:F,objectKey:H}=P9(e,m),{contentDisposition:Y,contentEncoding:$,contentType:G=(R==null?void 0:R.contentType)??O3(P,H)??"application/octet-stream",metadata:ce,preventOverwrite:Se,onProgress:ee}=R??{};if(g=H,F===Cf){const bt=R==null?void 0:R.accessLevel;h=U.keyPrefix,g=h+H,u=wJ(bt)}const I=await gv(mJ(R));if(!s){const{uploadId:bt,cachedParts:jt,finalCrc32:mt}=await bJ({s3Config:o,accessLevel:u,bucket:d,keyPrefix:h,key:H,contentType:G,contentDisposition:Y,contentEncoding:$,metadata:ce,data:P,size:t,abortSignal:c.signal,checksumAlgorithm:R==null?void 0:R.checksumAlgorithm,optionsHash:I,resumableUploadsCache:x,expectedBucketOwner:y});s={uploadId:bt,completedParts:jt,finalCrc32:mt}}p=t?zb({file:P instanceof File?P:void 0,accessLevel:u,contentType:R==null?void 0:R.contentType,bucket:d,size:t,key:H,optionsHash:I}):void 0;const j=X9(P,t),X=new Set(s.completedParts.map(({PartNumber:bt})=>bt)),K=(bt,jt,mt)=>{s==null||s.completedParts.push({PartNumber:bt,ETag:jt,...mt?{ChecksumCRC32:mt}:{}})},ge=yJ({size:t,onProgress:ee}),Te=[];for(let bt=0;bt<tQ;bt++)Te.push(hJ({dataChunkerGenerator:j,completedPartNumberSet:X,s3Config:o,abortSignal:c.signal,bucket:d,finalKey:g,uploadId:s.uploadId,onPartUploadCompletion:K,onProgress:ge.getOnProgressListener(),isObjectLockEnabled:U.isObjectLockEnabled,useCRC32Checksum:!!s.finalCrc32,expectedBucketOwner:y}));await Promise.all(Te),xJ(s.completedParts,t);const{ETag:Me}=await ZQ({...o,abortSignal:c.signal,userAgentValue:K9(Up.UploadData)},{Bucket:d,Key:g,UploadId:s.uploadId,ChecksumCRC32:s.finalCrc32,ChecksumType:s.finalCrc32?"FULL_OBJECT":void 0,IfNoneMatch:Se?"*":void 0,MultipartUpload:{Parts:Q9(s.completedParts)},ExpectedBucketOwner:y});if(!s.finalCrc32){const{ContentLength:bt,$metadata:jt}=await cJ(o,{Bucket:d,Key:g,ExpectedBucketOwner:y});if(bt&&bt!==t)throw new Sa({name:"Error",message:`Upload failed. Expected object size ${t}, but got ${bt}.`,metadata:jt})}x&&p&&await Vb(x,p);const lt={eTag:Me,contentType:G,metadata:ce};return F===Cf?{key:H,...lt}:{path:H,...lt}},_=()=>E().then(n).catch(R=>{const P=c==null?void 0:c.signal;P!=null&&P.aborted&&S?Ci.debug("upload paused."):i(R)});return{multipartUploadJob:()=>new Promise((R,P)=>{n=R,i=P,_()}),onPause:()=>{S=!0,c==null||c.abort()},onResume:()=>{_()},onCancel:R=>{c==null||c.abort(R),(async()=>{p&&x&&await Vb(x,p),await iJ(o,{Bucket:d,Key:g,UploadId:s==null?void 0:s.uploadId,ExpectedBucketOwner:y})})().catch(U=>{Ci.debug("error when cancelling upload task.",U)}),i(new Ml(R?{message:R}:void 0))}}},wJ=e=>{var t,n;return e??((n=(t=ta.libraryOptions.Storage)==null?void 0:t.S3)==null?void 0:n.defaultAccessLevel)??A9},xJ=(e,t)=>{const n=Math.ceil(t/W9(t)),i=e.length===n,o=Q9(e).every((c,u)=>c.PartNumber===u+1);if(!i||!o)throw new Xs},Q9=e=>[...e].sort((t,n)=>t.PartNumber-n.PartNumber),EJ=e=>{const{data:t}=e,n=aQ(t);if(_r(n!==void 0,ut.InvalidUploadSource),_r(n<=ZX,ut.ObjectIsTooLarge),n<=Bb){const i=new AbortController;return xE({isMultipartUpload:!1,job:dJ(e,i.signal,n),onCancel:s=>{i.abort(s)}})}else{const{multipartUploadJob:i,onPause:s,onResume:o,onCancel:c}=SJ(e,n);return xE({isMultipartUpload:!0,job:i,onCancel:u=>{c(u)},onPause:s,onResume:o})}};function CJ(e){return EJ({...e,options:{...e==null?void 0:e.options,resumableUploadsCache:Nf}})}const J9="https://l43ftjo75d.execute-api.us-east-1.amazonaws.com/dev";async function kE(e){try{const t=await fetch(`${J9}/jobs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({youtubeUrl:e})});if(!t.ok){const i=await t.json();throw new Error(i.error||"Failed to start transcription")}const n=await t.json();return console.log("Transcription started successfully:",n),n.jobId}catch(t){throw console.error("Error starting transcription:",t),new Error("Failed to start transcription. Please try again.")}}async function TJ(e){try{const t=await fetch(`${J9}/jobs/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.status===404)return null;if(!t.ok){const i=await t.json();throw new Error(i.error||"Failed to get job status")}const n=await t.json();return{id:n.jobId,youtubeUrl:n.youtubeUrl,title:n.videoTitle||"Processing...",status:NJ(n.status),progress:n.progress||0,createdAt:n.createdAt,updatedAt:n.updatedAt,completedAt:n.completedAt,pdfUrl:n.pdfUrl,sheetMusicUrl:n.pdfUrl,error:n.error}}catch(t){return console.error("Error getting job status:",t),null}}function NJ(e){switch(e){case"PENDING":return"PENDING";case"DOWNLOADING":case"DOWNLOADED":return"DOWNLOADING";case"TRANSCRIBING":case"TRANSCRIBED":return"TRANSCRIBING";case"DETECTING_CHORDS":return"DETECTING_CHORDS";case"GENERATING_PDF":return"GENERATING_PDF";case"COMPLETE":return"COMPLETE";case"FAILED":return"FAILED";default:return"PENDING"}}function _J({onUploadStart:e}){const[t,n]=Kt.useState("youtube"),[i,s]=Kt.useState(""),[o,c]=Kt.useState(null),[u,d]=Kt.useState(""),[h,m]=Kt.useState(""),[p,g]=Kt.useState(!1),[y,S]=Kt.useState(""),x=async()=>{if(o){g(!0),S("");try{const T=Date.now(),O=o.name.replace(/[^a-zA-Z0-9.-]/g,"_"),N=`audio-files/${T}-${O}`;console.log("Uploading file to S3:",N);const D=await CJ({key:N,data:o,options:{contentType:o.type}}).result;console.log("File uploaded successfully:",D);const P=`s3://${dT.storage.bucket_name}/${N}`,U=await kE(P);e(U),c(null),d(""),m("")}catch(T){console.error("Upload error:",T),S(T instanceof Error?T.message:"Upload failed")}finally{g(!1)}}},E=async()=>{if(i){g(!0),S("");try{const T=await kE(i);e(T),s(""),d(""),m("")}catch(T){console.error("Transcription error:",T),S(T instanceof Error?T.message:"Transcription failed")}finally{g(!1)}}},_=T=>T.includes("youtube.com")||T.includes("youtu.be");return B.jsxDEV("div",{className:"bg-white rounded-xl shadow-lg border border-neutral/20 p-6 relative overflow-hidden",children:[B.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-secondary via-tertiary to-secondary"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:95,columnNumber:7},this),B.jsxDEV("div",{className:"mb-4",children:[B.jsxDEV("h3",{className:"text-lg font-bold text-primary flex items-center",children:[B.jsxDEV("span",{className:"text-xl mr-2",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:100,columnNumber:11},this),"Upload Music for Transcription"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:99,columnNumber:9},this),B.jsxDEV("p",{className:"text-xs text-neutral mt-1",children:"Upload an audio file or paste a YouTube link to get lyrics, chords, and sheet music"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:103,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:98,columnNumber:7},this),B.jsxDEV("div",{className:"flex gap-2 mb-4",children:[B.jsxDEV("button",{onClick:()=>n("youtube"),className:`flex-1 py-2 px-3 rounded-lg font-medium transition-all text-sm flex items-center justify-center gap-2 ${t==="youtube"?"bg-secondary text-white shadow-md":"bg-white text-neutral hover:bg-background border border-neutral/30"}`,children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:118,columnNumber:11},this),"YouTube Link"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:110,columnNumber:9},this),B.jsxDEV("button",{onClick:()=>n("file"),className:`flex-1 py-2 px-3 rounded-lg font-medium transition-all text-sm flex items-center justify-center gap-2 ${t==="file"?"bg-tertiary text-white shadow-md":"bg-white text-neutral hover:bg-background border border-neutral/30"}`,children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:129,columnNumber:11},this),"Audio File"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:121,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:109,columnNumber:7},this),t==="youtube"&&B.jsxDEV("div",{className:"space-y-3",children:[B.jsxDEV("div",{children:[B.jsxDEV("label",{className:"block text-sm font-medium text-primary mb-2",children:"YouTube URL *"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:138,columnNumber:13},this),B.jsxDEV("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:i,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 border-2 border-neutral/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-secondary text-sm bg-white"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:141,columnNumber:13},this),i&&!_(i)&&B.jsxDEV("p",{className:"text-xs text-red-600 mt-1",children:" Please enter a valid YouTube URL"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:137,columnNumber:11},this),B.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[B.jsxDEV("div",{children:[B.jsxDEV("label",{className:"block text-sm font-medium text-primary mb-2",children:"Song Title (optional)"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:155,columnNumber:15},this),B.jsxDEV("input",{type:"text",placeholder:"Enter song title",value:u,onChange:T=>d(T.target.value),className:"w-full px-4 py-3 border-2 border-neutral/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-secondary text-sm bg-white"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:158,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:154,columnNumber:13},this),B.jsxDEV("div",{children:[B.jsxDEV("label",{className:"block text-sm font-medium text-primary mb-2",children:"Artist (optional)"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:167,columnNumber:15},this),B.jsxDEV("input",{type:"text",placeholder:"Enter artist name",value:h,onChange:T=>m(T.target.value),className:"w-full px-4 py-3 border-2 border-neutral/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-secondary text-sm bg-white"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:166,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:153,columnNumber:11},this),B.jsxDEV("button",{onClick:E,disabled:!i||!_(i)||p,className:"w-full py-2 px-4 bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md font-medium text-sm flex items-center justify-center gap-2",children:p?B.jsxDEV(B.Fragment,{children:[B.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:187,columnNumber:17},this),"Processing..."]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:186,columnNumber:15},this):B.jsxDEV(B.Fragment,{children:[B.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:192,columnNumber:17},this),"Start Transcription"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:191,columnNumber:15},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:136,columnNumber:9},this),t==="file"&&B.jsxDEV("div",{className:"space-y-3",children:[B.jsxDEV("div",{children:[B.jsxDEV("label",{className:"block text-sm font-medium text-primary mb-2",children:"Audio File *"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:204,columnNumber:13},this),B.jsxDEV("div",{className:`border-2 border-dashed rounded-xl p-6 text-center transition-all cursor-pointer ${o?"border-secondary bg-white":"border-gray-300 bg-white hover:border-secondary hover:bg-blue-50"}`,onDragOver:T=>T.preventDefault(),onDrop:T=>{T.preventDefault();const O=T.dataTransfer.files;O.length>0&&O[0].type.startsWith("audio/")&&c(O[0])},children:[B.jsxDEV("input",{type:"file",accept:"audio/*",onChange:T=>{var O;return c(((O=T.target.files)==null?void 0:O[0])||null)},className:"hidden",id:"file-upload"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:222,columnNumber:15},this),B.jsxDEV("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:o?B.jsxDEV("div",{children:[B.jsxDEV("div",{className:"text-5xl mb-3",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:232,columnNumber:21},this),B.jsxDEV("div",{className:"font-semibold text-secondary text-base",children:o.name},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:233,columnNumber:21},this),B.jsxDEV("div",{className:"text-sm text-gray-500 mt-2",children:[(o.size/1024/1024).toFixed(1)," MB"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:234,columnNumber:21},this),B.jsxDEV("button",{onClick:T=>{T.preventDefault(),c(null)},className:"mt-3 text-sm text-red-600 hover:text-red-700",children:"Remove file"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:237,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:231,columnNumber:19},this):B.jsxDEV("div",{children:[B.jsxDEV("div",{className:"text-5xl mb-3",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:249,columnNumber:21},this),B.jsxDEV("div",{className:"font-semibold text-primary text-base mb-2",children:"Drop audio file here or click to browse"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:250,columnNumber:21},this),B.jsxDEV("div",{className:"text-sm text-gray-500",children:"Supports: MP3, WAV, M4A, FLAC, OGG, AAC"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:253,columnNumber:21},this),B.jsxDEV("div",{className:"text-xs text-gray-400 mt-1",children:"Maximum file size: 50MB"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:256,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:248,columnNumber:19},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:229,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:203,columnNumber:11},this),B.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[B.jsxDEV("div",{children:[B.jsxDEV("label",{className:"block text-sm font-medium text-primary mb-2",children:"Song Title (optional)"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:267,columnNumber:15},this),B.jsxDEV("input",{type:"text",placeholder:"Enter song title",value:u,onChange:T=>d(T.target.value),className:"w-full px-4 py-3 border-2 border-neutral/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-secondary text-sm bg-white"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:266,columnNumber:13},this),B.jsxDEV("div",{children:[B.jsxDEV("label",{className:"block text-sm font-medium text-primary mb-2",children:"Artist (optional)"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:279,columnNumber:15},this),B.jsxDEV("input",{type:"text",placeholder:"Enter artist name",value:h,onChange:T=>m(T.target.value),className:"w-full px-4 py-3 border-2 border-neutral/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary focus:border-secondary text-sm bg-white"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:282,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:265,columnNumber:11},this),B.jsxDEV("button",{onClick:x,disabled:!o||p,className:"w-full py-2 px-4 bg-tertiary text-white rounded-lg hover:bg-tertiary/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md font-medium text-sm flex items-center justify-center gap-2",children:p?B.jsxDEV(B.Fragment,{children:[B.jsxDEV("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:299,columnNumber:17},this),"Uploading..."]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:298,columnNumber:15},this):B.jsxDEV(B.Fragment,{children:[B.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:304,columnNumber:17},this),"Upload & Transcribe"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:303,columnNumber:15},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:292,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:202,columnNumber:9},this),y&&B.jsxDEV("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:B.jsxDEV("p",{className:"text-sm text-red-600 flex items-center gap-2",children:[B.jsxDEV("span",{children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:316,columnNumber:13},this),y]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:315,columnNumber:11},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:314,columnNumber:9},this),B.jsxDEV("div",{className:"mt-4 p-3 bg-blue-50/50 border border-blue-200 rounded-lg",children:[B.jsxDEV("h4",{className:"text-xs font-semibold text-primary mb-2",children:"What you'll get:"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:324,columnNumber:9},this),B.jsxDEV("ul",{className:"text-xs text-neutral space-y-1",children:[B.jsxDEV("li",{className:"flex items-center gap-2",children:[B.jsxDEV("span",{className:"text-secondary",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:327,columnNumber:13},this),"Complete lyrics transcription"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:326,columnNumber:11},this),B.jsxDEV("li",{className:"flex items-center gap-2",children:[B.jsxDEV("span",{className:"text-secondary",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:331,columnNumber:13},this),"Chord progression with timestamps"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:330,columnNumber:11},this),B.jsxDEV("li",{className:"flex items-center gap-2",children:[B.jsxDEV("span",{className:"text-secondary",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:335,columnNumber:13},this),"Interactive sheet music with playback"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:334,columnNumber:11},this),B.jsxDEV("li",{className:"flex items-center gap-2",children:[B.jsxDEV("span",{className:"text-secondary",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:339,columnNumber:13},this),"Downloadable ABC notation and MIDI files"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:338,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:325,columnNumber:9},this),B.jsxDEV("p",{className:"text-xs text-neutral mt-2",children:" Processing time: 2-5 minutes   Accuracy: 85%+"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:343,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:323,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/UploadInterface.tsx",lineNumber:93,columnNumber:5},this)}function kJ({job:e}){const[t,n]=Kt.useState(0);Kt.useEffect(()=>{const u=new Date(e.createdAt).getTime(),d=setInterval(()=>{n(Math.floor((Date.now()-u)/1e3))},1e3);return()=>clearInterval(d)},[e.createdAt]);const i=u=>{const d=Math.floor(u/60),h=u%60;return`${d}:${h.toString().padStart(2,"0")}`},s=e.progress||0,o=e.status==="COMPLETE",c=e.status==="FAILED";return B.jsxDEV("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:[B.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[B.jsxDEV("h3",{className:"text-lg font-semibold text-gray-800",children:e.title},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:32,columnNumber:9},this),B.jsxDEV("span",{className:"text-sm text-gray-500",children:i(t)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:33,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:31,columnNumber:7},this),B.jsxDEV("div",{className:"relative w-full h-3 bg-blue-100 rounded-full overflow-hidden mb-3",children:B.jsxDEV("div",{className:`absolute top-0 left-0 h-full transition-all duration-500 ease-out ${c?"bg-red-500":o?"bg-green-500":"bg-gradient-to-r from-secondary to-tertiary"}`,style:{width:`${s}%`},children:s>0&&B.jsxDEV("div",{className:"absolute inset-0 bg-white/20 animate-pulse"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:38,columnNumber:9},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:37,columnNumber:7},this),B.jsxDEV("div",{className:"flex justify-between items-center text-sm",children:[B.jsxDEV("div",{className:"flex items-center space-x-2",children:[(e.status==="DOWNLOADING"||e.status==="TRANSCRIBING"||e.status==="DETECTING_CHORDS"||e.status==="GENERATING_PDF")&&B.jsxDEV("div",{className:"w-2 h-2 bg-secondary rounded-full animate-pulse"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:58,columnNumber:13},this),B.jsxDEV("span",{className:`font-medium ${c?"text-red-600":o?"text-green-600":"text-secondary"}`,children:e.currentStep||e.status},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:56,columnNumber:9},this),B.jsxDEV("span",{className:"text-gray-600",children:[s,"%"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:55,columnNumber:7},this),c&&e.error&&B.jsxDEV("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[B.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:72,columnNumber:11},this)," ",e.error]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:71,columnNumber:9},this),!o&&!c&&B.jsxDEV("div",{className:"mt-3 p-2 bg-blue-50 rounded text-xs text-gray-500 font-mono",children:[B.jsxDEV("div",{children:["Job ID: ",e.id]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:79,columnNumber:11},this),B.jsxDEV("div",{children:["Status: ",e.status]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:80,columnNumber:11},this),e.updatedAt&&B.jsxDEV("div",{children:["Last Update: ",new Date(e.updatedAt).toLocaleTimeString()]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:82,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgressBar.tsx",lineNumber:30,columnNumber:5},this)}function DJ({jobId:e,onComplete:t}){const[n,i]=Kt.useState(null),[s,o]=Kt.useState(!0),[c,u]=Kt.useState("");return Kt.useEffect(()=>{let d;const h=async()=>{try{const m=await TJ(e);m&&(i(m),o(!1),m.status==="COMPLETE"?(clearInterval(d),t(m)):m.status==="FAILED"&&clearInterval(d))}catch(m){console.error("Error fetching job status:",m),s||u("Failed to fetch job status")}};return h(),d=setInterval(h,3e3),()=>clearInterval(d)},[e,t,s]),s&&!n?B.jsxDEV("div",{className:"bg-white rounded-lg shadow-md p-6 mb-4",children:B.jsxDEV("div",{className:"flex items-center justify-center space-x-3",children:[B.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-secondary"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:55,columnNumber:11},this),B.jsxDEV("span",{className:"text-gray-600",children:"Initializing transcription..."},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:53,columnNumber:7},this):c&&!n?B.jsxDEV("div",{className:"bg-red-50 rounded-lg border border-red-200 p-6 mb-4",children:B.jsxDEV("div",{className:"flex items-center space-x-3",children:[B.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:66,columnNumber:11},this),B.jsxDEV("div",{children:[B.jsxDEV("h4",{className:"font-semibold text-red-900",children:"Error"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:68,columnNumber:13},this),B.jsxDEV("p",{className:"text-sm text-red-700",children:c},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:69,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:65,columnNumber:9},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:64,columnNumber:7},this):n?B.jsxDEV(kJ,{job:n},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/components/TranscriptionProgress.tsx",lineNumber:78,columnNumber:10},this):null}rP.configure(dT);const AJ=uj(),OJ={key:"C",mode:"major",chords:[{name:"C",timestamp:0,duration:4,confidence:.92},{name:"Am",timestamp:4,duration:4,confidence:.88},{name:"F",timestamp:8,duration:4,confidence:.91},{name:"G",timestamp:12,duration:4,confidence:.94},{name:"C",timestamp:16,duration:4,confidence:.9},{name:"Em",timestamp:20,duration:4,confidence:.85},{name:"Am",timestamp:24,duration:4,confidence:.89},{name:"G",timestamp:28,duration:4,confidence:.93}],chordProgressionText:`Key: C major

C - Am - F - G
C - Em - Am - G`};function RJ(){const[e,t]=Kt.useState(!1),[n,i]=Kt.useState(null),[s,o]=Kt.useState([]),[c,u]=Kt.useState([]),[d,h]=Kt.useState(!0);Kt.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:S}=await AJ.models.TranscriptionJob.list({filter:{status:{eq:"completed"}}});S&&u(S)}catch(S){console.error("Error loading transcriptions:",S)}},p=S=>{o(x=>[...x,S]),h(!1)},g=S=>{o(x=>x.filter(E=>E!==S.id)),u(x=>[S,...x])},y=S=>{i(S),t(!0)};return B.jsxDEV(B.Fragment,{children:[B.jsxDEV("div",{className:"min-h-screen bg-white flex",children:[B.jsxDEV("aside",{className:"w-64 bg-primary text-white flex-shrink-0 flex flex-col",children:[B.jsxDEV("div",{className:"p-6 border-b border-gray-700",children:B.jsxDEV("img",{src:"/Chord Scout Logo 3.png",alt:"ChordScout Logo",className:"w-full h-auto"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:80,columnNumber:11},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:79,columnNumber:9},this),B.jsxDEV("nav",{className:"flex-1 p-4 space-y-1",children:[B.jsxDEV("div",{className:"mb-6",children:[B.jsxDEV("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 px-3",children:"Main"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:90,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg bg-secondary text-white font-medium text-sm",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:92,columnNumber:15},this),B.jsxDEV("span",{children:"Dashboard"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:91,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 text-gray-300 hover:text-white text-sm transition-colors",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:96,columnNumber:15},this),B.jsxDEV("span",{children:"My Songs"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:97,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:95,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 text-gray-300 hover:text-white text-sm transition-colors",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:100,columnNumber:15},this),B.jsxDEV("span",{children:"Transcriptions"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:101,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:89,columnNumber:11},this),B.jsxDEV("div",{className:"mb-6",children:[B.jsxDEV("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 px-3",children:"Practice"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:106,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 text-gray-300 hover:text-white text-sm transition-colors",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:108,columnNumber:15},this),B.jsxDEV("span",{children:"Practice Mode"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:109,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:107,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 text-gray-300 hover:text-white text-sm transition-colors",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:112,columnNumber:15},this),B.jsxDEV("span",{children:"Backing Tracks"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:113,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:111,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 text-gray-300 hover:text-white text-sm transition-colors",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:116,columnNumber:15},this),B.jsxDEV("span",{children:"Library"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:105,columnNumber:11},this),B.jsxDEV("div",{children:[B.jsxDEV("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 px-3",children:"Account"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:122,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 text-gray-300 hover:text-white text-sm transition-colors",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:124,columnNumber:15},this),B.jsxDEV("span",{children:"Settings"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:125,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:123,columnNumber:13},this),B.jsxDEV("a",{href:"#",className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 text-gray-300 hover:text-white text-sm transition-colors",children:[B.jsxDEV("span",{className:"text-lg",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:128,columnNumber:15},this),B.jsxDEV("span",{children:"Help & Support"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:121,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:77,columnNumber:7},this),B.jsxDEV("div",{className:"flex-1 flex flex-col min-h-screen",children:[B.jsxDEV("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:B.jsxDEV("div",{className:"flex items-center justify-between",children:[B.jsxDEV("div",{children:[B.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Good evening, Danny! "},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:141,columnNumber:15},this),B.jsxDEV("p",{className:"text-sm text-gray-600",children:"Ready to break down a song?"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:140,columnNumber:13},this),B.jsxDEV("div",{className:"flex items-center space-x-4",children:[B.jsxDEV("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:B.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:146,columnNumber:17},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:145,columnNumber:15},this),B.jsxDEV("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:B.jsxDEV("span",{className:"text-xl",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:149,columnNumber:17},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:148,columnNumber:15},this),B.jsxDEV("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors",children:[B.jsxDEV("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Danny",alt:"User avatar",className:"w-10 h-10 rounded-full ring-2 ring-secondary"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:153,columnNumber:17},this),B.jsxDEV("div",{className:"flex-1 min-w-0",children:[B.jsxDEV("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Danny Wilson"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:159,columnNumber:19},this),B.jsxDEV("p",{className:"text-xs text-gray-600 truncate",children:"danny@example.com"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:160,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:158,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:152,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:144,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:139,columnNumber:11},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:138,columnNumber:9},this),B.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:B.jsxDEV("div",{className:"max-w-[1600px] mx-auto px-6 py-6",children:B.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[B.jsxDEV("div",{className:"lg:col-span-2 flex flex-col space-y-6",children:[d?B.jsxDEV(_J,{onUploadStart:p},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:177,columnNumber:19},this):B.jsxDEV("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl shadow-lg border border-blue-200 p-4 hover:from-blue-100 hover:to-purple-100 transition-all",children:B.jsxDEV("div",{className:"flex items-center justify-center space-x-3",children:[B.jsxDEV("span",{className:"text-2xl",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:184,columnNumber:23},this),B.jsxDEV("span",{className:"font-semibold text-gray-900",children:"Upload New Song"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:185,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:183,columnNumber:21},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:179,columnNumber:19},this),s.length>0&&B.jsxDEV("div",{className:"space-y-4",children:[B.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[B.jsxDEV("span",{className:"text-2xl mr-2",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:194,columnNumber:23},this),"Processing (",s.length,")"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:193,columnNumber:21},this),s.map(S=>B.jsxDEV(DJ,{jobId:S,onComplete:g},S,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:198,columnNumber:23},this))]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:192,columnNumber:19},this),B.jsxDEV("div",{className:"bg-gradient-to-br from-white to-blue-50/30 rounded-xl shadow-lg border border-blue-200",children:[B.jsxDEV("div",{className:"p-6 border-b border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[B.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[B.jsxDEV("span",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white mr-3",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:211,columnNumber:23},this),"Your Transcriptions"]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:210,columnNumber:21},this),B.jsxDEV("p",{className:"text-sm text-gray-600 ml-11",children:c.length>0?`${c.length} song${c.length>1?"s":""} transcribed`:"Track your music transcription progress"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:216,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:209,columnNumber:19},this),B.jsxDEV("div",{className:"max-h-[600px] overflow-y-auto",children:c.length===0?B.jsxDEV("div",{className:"p-8 text-center",children:[B.jsxDEV("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:227,columnNumber:25},this),B.jsxDEV("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"No Transcriptions Yet"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:230,columnNumber:25},this),B.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:"Upload an audio file or YouTube link to get started."},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:231,columnNumber:25},this),B.jsxDEV("button",{onClick:()=>y({title:"Demo Song - I-V-vi-IV Progression",artist:"ChordScout Demo",chordData:OJ}),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:shadow-md transition-all text-sm font-medium",children:" View Demo Sheet Music"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:234,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:226,columnNumber:23},this):B.jsxDEV("div",{className:"p-4 space-y-3",children:c.map(S=>{var x;return B.jsxDEV("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all cursor-pointer",onClick:()=>y({title:S.title,artist:S.artist,chordData:S.chords}),children:[B.jsxDEV("div",{className:"flex items-start justify-between",children:[B.jsxDEV("div",{className:"flex-1",children:[B.jsxDEV("h4",{className:"font-semibold text-gray-900",children:S.title},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:259,columnNumber:33},this),B.jsxDEV("p",{className:"text-sm text-gray-600",children:S.artist},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:260,columnNumber:33},this),B.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[B.jsxDEV("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium",children:" Completed"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:262,columnNumber:35},this),((x=S.chords)==null?void 0:x.key)&&B.jsxDEV("span",{className:"px-2 py-1 bg-secondary text-white text-xs rounded-full font-medium",children:["Key: ",S.chords.key]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:266,columnNumber:37},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:261,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:258,columnNumber:31},this),B.jsxDEV("button",{className:"px-3 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:shadow-md transition-all text-sm font-medium",children:"View "},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:272,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:257,columnNumber:29},this),B.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:[new Date(S.createdAt).toLocaleDateString(),"  ",new Date(S.createdAt).toLocaleTimeString()]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:276,columnNumber:29},this)]},S.id,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:248,columnNumber:27},this)})},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:246,columnNumber:23},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:224,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:173,columnNumber:15},this),B.jsxDEV("div",{className:"space-y-4",children:[B.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[B.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[B.jsxDEV("h3",{className:"text-base font-bold text-gray-900",children:" Transcribed Songs"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:293,columnNumber:21},this),B.jsxDEV("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"View All"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:294,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:292,columnNumber:19},this),B.jsxDEV("div",{className:"space-y-3",children:[{name:"Hotel California",artist:"Eagles",key:"Bm",date:"2 days ago",image:"https://picsum.photos/seed/hotel/80/80"},{name:"Wonderwall",artist:"Oasis",key:"Em",date:"3 days ago",image:"https://picsum.photos/seed/wonder/80/80"},{name:"Let It Be",artist:"The Beatles",key:"C",date:"5 days ago",image:"https://picsum.photos/seed/letit/80/80"}].map((S,x)=>B.jsxDEV("div",{className:"flex items-start space-x-3 p-3 bg-blue-50/30 rounded-lg hover:bg-blue-50 transition-colors cursor-pointer",children:[B.jsxDEV("img",{src:S.image,alt:S.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0 shadow-sm"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:303,columnNumber:25},this),B.jsxDEV("div",{className:"flex-1 min-w-0",children:[B.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[B.jsxDEV("div",{className:"flex-1 min-w-0",children:[B.jsxDEV("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:S.name},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:311,columnNumber:31},this),B.jsxDEV("p",{className:"text-xs text-gray-500 truncate",children:S.artist},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:312,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:310,columnNumber:29},this),B.jsxDEV("span",{className:"ml-2 px-2 py-0.5 bg-secondary text-white text-xs rounded-full font-medium flex-shrink-0",children:S.key},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:314,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:309,columnNumber:27},this),B.jsxDEV("div",{className:"flex gap-1 flex-wrap mt-2",children:[B.jsxDEV("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:317,columnNumber:29},this),B.jsxDEV("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:318,columnNumber:29},this),B.jsxDEV("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:319,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:316,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:308,columnNumber:25},this)]},x,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:302,columnNumber:23},this))},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:296,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:291,columnNumber:17},this),B.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[B.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[B.jsxDEV("h3",{className:"text-base font-bold text-gray-900",children:" Backing Tracks"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:330,columnNumber:21},this),B.jsxDEV("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"View All"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:331,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:329,columnNumber:19},this),B.jsxDEV("div",{className:"space-y-3",children:[{name:"Blues in A",genre:"Blues",key:"A",color:"bg-blue-500",image:"https://picsum.photos/seed/blues/80/80"},{name:"Jazz Swing",genre:"Jazz",key:"Bb",color:"bg-purple-500",image:"https://picsum.photos/seed/jazz/80/80"},{name:"Rock Ballad",genre:"Rock",key:"G",color:"bg-red-500",image:"https://picsum.photos/seed/rock/80/80"}].map((S,x)=>B.jsxDEV("div",{className:"flex items-start space-x-3 p-3 bg-purple-50/30 rounded-lg hover:bg-purple-50 transition-colors cursor-pointer",children:[B.jsxDEV("div",{className:"relative flex-shrink-0",children:[B.jsxDEV("img",{src:S.image,alt:S.name,className:"w-16 h-16 rounded-lg object-cover shadow-sm"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:341,columnNumber:27},this),B.jsxDEV("div",{className:`absolute -top-1 -right-1 w-4 h-4 rounded-full ${S.color} border-2 border-white`},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:346,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:340,columnNumber:25},this),B.jsxDEV("div",{className:"flex-1 min-w-0",children:[B.jsxDEV("div",{className:"flex items-start justify-between mb-1",children:[B.jsxDEV("div",{className:"flex-1 min-w-0",children:[B.jsxDEV("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:S.name},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:351,columnNumber:31},this),B.jsxDEV("p",{className:"text-xs text-gray-500 truncate",children:S.genre},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:352,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:350,columnNumber:29},this),B.jsxDEV("span",{className:"ml-2 px-2 py-0.5 bg-secondary text-white text-xs rounded-full font-medium flex-shrink-0",children:S.key},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:354,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:349,columnNumber:27},this),B.jsxDEV("div",{className:"flex gap-1 flex-wrap mt-2",children:[B.jsxDEV("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs rounded",children:" Drums"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:357,columnNumber:29},this),B.jsxDEV("span",{className:"px-2 py-0.5 bg-gray-200 text-gray-700 text-xs rounded",children:" Bass"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:358,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:356,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:348,columnNumber:25},this)]},x,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:339,columnNumber:23},this))},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:333,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:328,columnNumber:17},this),B.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[B.jsxDEV("h3",{className:"text-base font-bold text-gray-900 mb-4",children:" Study Modules"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:368,columnNumber:19},this),B.jsxDEV("div",{className:"text-center py-6",children:[B.jsxDEV("div",{className:"text-4xl mb-2",children:""},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:370,columnNumber:21},this),B.jsxDEV("p",{className:"text-sm text-gray-500 font-medium",children:"Coming Soon"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:371,columnNumber:21},this),B.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:"Interactive lessons & tutorials"},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:372,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:369,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:367,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:288,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:170,columnNumber:13},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:169,columnNumber:11},this)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:168,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:136,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:74,columnNumber:7},this),e&&n&&B.jsxDEV(MX,{isOpen:e,onClose:()=>t(!1),chordData:n.chordData,title:n.title,artist:n.artist},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:385,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/App-test.tsx",lineNumber:73,columnNumber:5},this)}rb.createRoot(document.getElementById("root")).render(B.jsxDEV(hM.StrictMode,{children:B.jsxDEV(RJ,{},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/Users/dannywilson/DevOps/ChordScout/src/main.tsx",lineNumber:7,columnNumber:3},void 0));
